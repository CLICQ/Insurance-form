function suitCasePopup(){var n,t,a=100,v=200,y=0,p=0,r,c=190,u,w=130,i=!0,f=!0,s="ok_sc_state",o="";this.init=function(){var a,v,c;o=typeof cookieDomain!="undefined"?cookieDomain:o,n=$(".new_ad_discount"),t=$(".click_here_to_close"),$(".sticky_bottom_ad_container").show(),v=$("#promo_code").width(),a=(170-v)/2,$("#promo_code").css({"padding-left":a+"px"}),c=$.cookie(s),c=="1"?(n.css({top:"210px","background-position":"-1px 292px"}),f=!1,i=!1,t.show(),$(".new_ad_discount span").show()):c=="2"?(n.css({"background-position":"-1px 292px"}),f=!1,t.show(),$(".new_ad_discount span").show()):(t.delay(500).fadeIn(),$(".new_ad_discount span").delay(450).fadeIn()),t.click(l),n.mousedown(function(){$(window).bind("mousemove.suitcase",function(t){i||(offset=$(".sticky_bottom_ad_container").offset(),u=t.pageY-offset.top,u-40>0&&n.css({top:u-40+"px"})),r=!0})}).mouseup(function(){h();var u=r;r=!1,$(window).unbind("mousemove.suitcase"),u||(n.stop().animate({top:"0px"}),i=!0,t.fadeIn(),e(2))}),$(window).mouseup(function(){h(),$(window).unbind("mousemove.suitcase")})};var l=function(){f?(n.stop().animate({top:"280px"},function(){n.css({"background-position":"-1px 292px"}).animate({top:"210px"},100)}),f=!1):n.stop().animate({top:"210px"}),i=!1,e(1),t.fadeOut()},h=function(){i||r&&(u>c?(n.stop().animate({top:"210px"}),e(1)):(n.stop().animate({top:"0px"}),t.fadeIn(),i=!0,e(2)))},e=function(n){$.cookie(s,n.toString(),{expires:30,path:"/",domain:o,secure:!1})}}(function(n,t){function i(t,i){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,!t.href||!f||u.nodeName.toLowerCase()!=="map"?!1:(e=n("img[usemap=#"+f+"]")[0],!!e&&r(e))):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}var u=0,f=/^ui-id-\d+$/;(n.ui=n.ui||{},n.ui.version)||(n.extend(n.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),n.fn.extend({_focus:n.fn.focus,focus:function(t,i){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){n(r).focus(),i&&i.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var r=n(this[0]),u,f;r.length&&r[0]!==document;){if(u=r.css("position"),(u==="absolute"||u==="relative"||u==="fixed")&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&f!==0))return f;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function u(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0,r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0),u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],f=r.toLowerCase(),e={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?e["inner"+r].call(this):this.each(function(){n(this).css(f,u(this,i)+"px")})},n.fn["outer"+r]=function(t,i){return typeof t!="number"?e["outer"+r].call(this,t):this.each(function(){n(this).css(f,u(this,t,!0,i)+"px")})}}),n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}),n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData)),n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),n.support.selectstart="onselectstart"in document.createElement("div"),n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11)for(r=0;r<u.length;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;var r=i&&i==="left"?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)}}))})(jQuery),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i=0,r;(r=t[i])!=null;i++)try{n(r).triggerHandler("remove")}catch(f){}u(t)},n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u)},n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r},n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h=typeof e=="string",o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0],this.element=n(i),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=n(),this.hoverable=n(),this.focusable=n(),i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1),r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget()),n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^(\w+)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{},typeof u=="number"&&(u={duration:u}),o=!n.isEmptyObject(u),u.complete=f,u.delay&&r.delay(u.delay),o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t](),f&&f.call(r[0]),i()})}})}(jQuery),function(n){var i=!1;n(document).mouseup(function(){i=!1}),n.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,u=t.which===1,f=typeof this.options.cancel=="string"&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return!u||f||!this._mouseCapture(t)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted))?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0)}},_mouseMove:function(t){return n.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(n,t){function e(n,t,i){return[parseInt(n[0],10)*(a.test(n[0])?t/100:1),parseInt(n[1],10)*(a.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function v(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var f,u=Math.max,i=Math.abs,o=Math.round,s=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+%?/,l=/^\w+/,a=/%$/,y=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:u?n.position.scrollbarWidth():0,height:f?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]);return{element:i,isWindow:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}},n.fn.position=function(t){if(!t||!t.of)return y.apply(this,arguments);t=n.extend({},t);var b,f,a,w,p,d,g=n(t.of),tt=n.position.getWithinInfo(t.within),it=n.position.getScrollInfo(tt),k=(t.collision||"flip").split(" "),nt={};return d=v(g),g[0].preventDefault&&(t.at="left top"),f=d.width,a=d.height,w=d.offset,p=n.extend({},w),n.each(["my","at"],function(){var n=(t[this]||"").split(" "),i,r;n.length===1&&(n=s.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=h.test(n[1])?n[1]:"center",i=c.exec(n[0]),r=c.exec(n[1]),nt[this]=[i?i[0]:0,r?r[0]:0],t[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),k.length===1&&(k[1]=k[0]),t.at[0]==="right"?p.left+=f:t.at[0]==="center"&&(p.left+=f/2),t.at[1]==="bottom"?p.top+=a:t.at[1]==="center"&&(p.top+=a/2),b=e(nt.at,f,a),p.left+=b[0],p.top+=b[1],this.each(function(){var y,d,h=n(this),c=h.outerWidth(),l=h.outerHeight(),rt=r(this,"marginLeft"),ut=r(this,"marginTop"),ft=c+rt+r(this,"marginRight")+it.width,et=l+ut+r(this,"marginBottom")+it.height,s=n.extend({},p),v=e(nt.my,h.outerWidth(),h.outerHeight());t.my[0]==="right"?s.left-=c:t.my[0]==="center"&&(s.left-=c/2),t.my[1]==="bottom"?s.top-=l:t.my[1]==="center"&&(s.top-=l/2),s.left+=v[0],s.top+=v[1],n.support.offsetFractions||(s.left=o(s.left),s.top=o(s.top)),y={marginLeft:rt,marginTop:ut},n.each(["left","top"],function(i,r){n.ui.position[k[i]]&&n.ui.position[k[i]][r](s,{targetWidth:f,targetHeight:a,elemWidth:c,elemHeight:l,collisionPosition:y,collisionWidth:ft,collisionHeight:et,offset:[b[0]+v[0],b[1]+v[1]],my:t.my,at:t.at,within:tt,elem:h})}),t.using&&(d=function(n){var e=w.left-s.left,v=e+f-c,o=w.top-s.top,y=o+a-l,r={target:{element:g,left:w.left,top:w.top,width:f,height:a},element:{element:h,left:s.left,top:s.top,width:c,height:l},horizontal:v<0?"left":e>0?"right":"center",vertical:y<0?"top":o>0?"bottom":"middle"};f<c&&i(e+v)<f&&(r.horizontal="center"),a<l&&i(o+y)<a&&(r.vertical="middle"),r.important=u(i(e),i(v))>u(i(o),i(y))?"horizontal":"vertical",t.using.call(this,n,r)}),h.offset(n.extend(s,{using:d}))})},n.ui.position={fit:{left:function(n,t){var e=t.within,r=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=r-s,f=s+t.collisionWidth-o-r,h;t.collisionWidth>o?i>0&&f<=0?(h=n.left+i+t.collisionWidth-o-r,n.left+=i-h):n.left=f>0&&i<=0?r:i>f?r+o-t.collisionWidth:r:i>0?n.left+=i:f>0?n.left-=f:n.left=u(n.left-s,n.left)},top:function(n,t){var o=t.within,r=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=r-s,f=s+t.collisionHeight-e-r,h;t.collisionHeight>e?i>0&&f<=0?(h=n.top+i+t.collisionHeight-e-r,n.top+=i-h):n.top=f>0&&i<=0?r:i>f?r+e-t.collisionHeight:r:i>0?n.top+=i:f>0?n.top-=f:n.top=u(n.top-s,n.top)}},flip:{left:function(n,t){var r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,a=l-o,v=l+t.collisionWidth-c-o,u=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,f=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,e=-2*t.offset[0],s,h;a<0?(s=n.left+u+f+e+t.collisionWidth-c-y,(s<0||s<i(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-t.collisionPosition.marginLeft+u+f+e-o,(h>0||i(h)<v)&&(n.left+=u+f+e))},top:function(n,t){var r=t.within,y=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,v=n.top-t.collisionPosition.marginTop,s=v-o,h=v+t.collisionHeight-a-o,p=t.my[1]==="top",u=p?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,f=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,e=-2*t.offset[1],c,l;s<0?(l=n.top+u+f+e+t.collisionHeight-a-y,n.top+u+f+e>s&&(l<0||l<i(s))&&(n.top+=u+f+e)):h>0&&(c=n.top-t.collisionPosition.marginTop+u+f+e-o,n.top+u+f+e>h&&(c>0||i(c)<h)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,e=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(e?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},e&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(o),i=e||document.documentElement,i.insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",u=n(o).offset().left,n.support.offsetFractions=u>10&&u<11,t.innerHTML="",i.removeChild(t)}()}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{version:"1.10.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(n(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){n("<div class='ui-draggable-iframeFix' style='background: #fff;'><\/div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i,u=this,f=!1,r=!1;for(n.ui.ddmanager&&!this.options.dropBehaviour&&(r=n.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),i=this.element[0];i&&(i=i.parentNode);)i===document&&(f=!0);return!f&&this.options.helper==="original"?!1:(this.options.revert==="invalid"&&!r||this.options.revert==="valid"&&r||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){u._trigger("stop",t)!==!1&&u._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!n(this.options.handle,this.element).length?!0:!1;return n(this.options.handle,this.element).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):r.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo(r.appendTo==="parent"?this.element[0].parentNode:r.appendTo),i[0]!==this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))&&i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),n.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var r,u,t,i=this.options;if(i.containment==="parent"&&(i.containment=this.helper[0].parentNode),(i.containment==="document"||i.containment==="window")&&(this.containment=[i.containment==="document"?0:n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,i.containment==="document"?0:n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(i.containment==="document"?0:n(window).scrollLeft())+n(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(i.containment==="document"?0:n(window).scrollTop())+(n(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||i.containment.constructor===Array)i.containment.constructor===Array&&(this.containment=i.containment);else{if(u=n(i.containment),t=u[0],!t)return;r=n(t).css("overflow")!=="hidden",this.containment=[(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0),(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0),(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=u}},_convertPositionTo:function(t,i){i||(i=this.position);var r=t==="absolute"?1:-1,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var i,e,u,f,r=this.options,h=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(h[0].tagName),o=t.pageX,s=t.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(e=this.relative_container.offset(),i=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(s=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(s=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,s=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,o=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():c?0:h.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():c?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("ui-draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[],n(u.connectToSortable).each(function(){var i=n.data(this,"ui-sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("ui-draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("ui-draggable"),u=this;n.each(r.sortables,function(){var f=!1,e=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&n.ui.contains(e.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("ui-draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}}),n.ui.plugin.add("draggable","opacity",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("opacity")&&(u._opacity=r.css("opacity")),r.css("opacity",u.opacity)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._opacity&&n(i.helper).css("opacity",r._opacity)}}),n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("ui-draggable");t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("ui-draggable"),i=r.options,u=!1;r.scrollParent[0]!==document&&r.scrollParent[0].tagName!=="HTML"?(i.axis&&i.axis==="x"||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&i.axis==="y"||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&i.axis==="x"||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&i.axis==="y"||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed)))),u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}}),n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("ui-draggable"),i=t.options;t.snapElements=[],n(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var c,l,a,v,e,s,o,h,k,r=n(this).data("ui-draggable"),d=r.options,u=d.snapTolerance,y=i.offset.left,w=y+r.helperProportions.width,p=i.offset.top,b=p+r.helperProportions.height,f=r.snapElements.length-1;f>=0;f--){if(e=r.snapElements[f].left,s=e+r.snapElements[f].width,o=r.snapElements[f].top,h=o+r.snapElements[f].height,!(e-u<y&&y<s+u&&o-u<p&&p<h+u||e-u<y&&y<s+u&&o-u<b&&b<h+u||e-u<w&&w<s+u&&o-u<p&&p<h+u||e-u<w&&w<s+u&&o-u<b&&b<h+u)){r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1;continue}d.snapMode!=="inner"&&(c=Math.abs(o-b)<=u,l=Math.abs(h-p)<=u,a=Math.abs(e-w)<=u,v=Math.abs(s-y)<=u,c&&(i.position.top=r._convertPositionTo("relative",{top:o-r.helperProportions.height,left:0}).top-r.margins.top),l&&(i.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top),a&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e-r.helperProportions.width}).left-r.margins.left),v&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s}).left-r.margins.left)),k=c||l||a||v,d.snapMode!=="outer"&&(c=Math.abs(o-p)<=u,l=Math.abs(h-b)<=u,a=Math.abs(e-y)<=u,v=Math.abs(s-w)<=u,c&&(i.position.top=r._convertPositionTo("relative",{top:o,left:0}).top-r.margins.top),l&&(i.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top),a&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e}).left-r.margins.left),v&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[f].snapping&&(c||l||a||v||k)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=c||l||a||v||k}}}),n.ui.plugin.add("draggable","stack",{start:function(){var i,r=n(this).data("ui-draggable").options,t=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});t.length&&(i=parseInt(t[0].style.zIndex,10)||0,n(t).each(function(n){this.style.zIndex=i+n}),this[0].style.zIndex=i+t.length)}}),n.ui.plugin.add("draggable","zIndex",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("zIndex")&&(u._zIndex=r.css("zIndex")),r.css("zIndex",u.zIndex)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(n){function i(n,t,i){return n>t&&n<t+i}n.widget("ui.droppable",{version:"1.10.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=n.isFunction(i)?i:function(n){return n.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[],n.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=n.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){t==="accept"&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)}),n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return!r||(r.currentItem||r.element)[0]===this.element[0]?!1:(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance))return u=!0,!1}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1)},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}}),n.ui.intersect=function(n,t,r){if(!t.offset)return!1;var a,v,e=(n.positionAbs||n.position.absolute).left,s=e+n.helperProportions.width,o=(n.positionAbs||n.position.absolute).top,h=o+n.helperProportions.height,u=t.offset.left,c=u+t.proportions.width,f=t.offset.top,l=f+t.proportions.height;switch(r){case"fit":return u<=e&&s<=c&&f<=o&&h<=l;case"intersect":return u<e+n.helperProportions.width/2&&s-n.helperProportions.width/2<c&&f<o+n.helperProportions.height/2&&h-n.helperProportions.height/2<l;case"pointer":return a=(n.positionAbs||n.position.absolute).left+(n.clickOffset||n.offset.click).left,v=(n.positionAbs||n.position.absolute).top+(n.clickOffset||n.offset.click).top,i(v,f,t.proportions.height)&&i(a,u,t.proportions.width);case"touch":return(o>=f&&o<=l||h>=f&&h<=l||o<f&&h>l)&&(e>=u&&e<=c||s>=u&&s<=c||e<u&&s>c);default:return!1}},n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;r<u.length;r++)if(!u[r].options.disabled&&(!t||u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]===u[r].element[0]){u[r].proportions.height=0;continue n}(u[r].visible=u[r].element.css("display")!=="none",u[r].visible)&&(o==="mousedown"&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight})}},drop:function(t,i){var r=!1;return n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i),n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,e,f,o=n.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n.data(this,"ui-droppable").options.scope===e}),f.length&&(r=n.data(f[0],"ui-droppable"),r.greedyChild=u==="isover")),r&&u==="isover"&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this[u==="isout"?"isover":"isout"]=!1,this[u==="isover"?"_over":"_out"].call(this,i),r&&u==="isout"&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(n){function r(n){return parseInt(n,10)||0}function i(n){return!isNaN(parseInt(n,10))}n.widget("ui.resizable",n.ui.mouse,{version:"1.10.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,f,r,i,o,u=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;f<e.length;f++)r=n.trim(e[f]),o="ui-resizable-"+r,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),!n(this.handles[i]).length},this._renderAxis(this.element),this._handles=n(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){u.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),u.axis=i&&i[1]?i[1]:"se")}),t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),u._handles.show())}).mouseleave(function(){t.disabled||u.resizing||(n(this).addClass("ui-resizable-autohide"),u._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var f,e,o,u=this.options,s=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),f=r(this.helper.css("left")),e=r(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof u.aspectRatio=="number"?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",o==="auto"?this.axis+"-resize":o),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,e=this.helper,r={},u=this.originalMousePosition,o=this.axis,s=this.position.top,h=this.position.left,c=this.size.width,l=this.size.height,a=t.pageX-u.left||0,v=t.pageY-u.top||0,f=this._change[o];return f?(i=f.apply(this,[t,a,v]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==h&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==l&&(r.height=this.size.height+"px"),e.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(n){var u,f,e,o,t,r=this.options;t={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:Infinity,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:Infinity},(this._aspectRatio||n)&&(u=t.minHeight*this.aspectRatio,e=t.minWidth/this.aspectRatio,f=t.maxHeight*this.aspectRatio,o=t.maxWidth/this.aspectRatio,u>t.minWidth&&(t.minWidth=u),e>t.minHeight&&(t.minHeight=e),f<t.maxWidth&&(t.maxWidth=f),o<t.maxHeight&&(t.maxHeight=o)),this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset(),i(n.left)&&(this.position.left=n.left),i(n.top)&&(this.position.top=n.top),i(n.height)&&(this.size.height=n.height),i(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,r=this.size,u=this.axis;return i(n.height)?n.width=n.height*this.aspectRatio:i(n.width)&&(n.height=n.width/this.aspectRatio),u==="sw"&&(n.left=t.left+(r.width-n.width),n.top=null),u==="nw"&&(n.top=t.top+(r.height-n.height),n.left=t.left+(r.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,r=this.axis,u=i(n.width)&&t.maxWidth&&t.maxWidth<n.width,f=i(n.height)&&t.maxHeight&&t.maxHeight<n.height,e=i(n.width)&&t.minWidth&&t.minWidth>n.width,o=i(n.height)&&t.minHeight&&t.minHeight>n.height,s=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(r),l=/nw|ne|n/.test(r);return e&&(n.width=t.minWidth),o&&(n.height=t.minHeight),u&&(n.width=t.maxWidth),f&&(n.height=t.maxHeight),e&&c&&(n.left=s-t.minWidth),u&&c&&(n.left=s-t.maxWidth),o&&l&&(n.top=h-t.minHeight),f&&l&&(n.top=h-t.maxHeight),!n.width&&!n.height&&!n.left&&n.top?n.top=null:!n.width&&!n.height&&!n.top&&n.left&&(n.left=null),n},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,r,u,n,f=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){if(n=this._proportionallyResizeElements[i],!this.borderDif)for(this.borderDif=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;t<r.length;t++)this.borderDif[t]=(parseInt(r[t],10)||0)+(parseInt(u[t],10)||0);n.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]),t!=="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("ui-resizable"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height}),i._updateCache(u),i._propagate("resize",t)}})}}),n.ui.plugin.add("resizable","containment",{start:function(){var u,e,o,s,h,c,l,t=n(this).data("ui-resizable"),a=t.options,v=t.element,f=a.containment,i=f instanceof n?f.get(0):/parent/.test(f)?v.parent().get(0):f;i&&(t.containerElement=n(i),/document/.test(f)||f===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(u=n(i),e=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){e[n]=r(u.css("padding"+t))}),t.containerOffset=u.offset(),t.containerPosition=u.position(),t.containerSize={height:u.innerHeight()-e[3],width:u.innerWidth()-e[1]},o=t.containerOffset,s=t.containerSize.height,h=t.containerSize.width,c=n.ui.hasScroll(i,"left")?i.scrollWidth:h,l=n.ui.hasScroll(i)?i.scrollHeight:s,t.parentData={element:i,left:o.left,top:o.top,width:c,height:l}))},resize:function(t){var f,o,s,h,i=n(this).data("ui-resizable"),a=i.options,r=i.containerOffset,c=i.position,e=i._aspectRatio||t.shiftKey,u={top:0,left:0},l=i.containerElement;l[0]!==document&&/static/.test(l.css("position"))&&(u=r),c.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-u.left),e&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=a.helper?r.left:0),c.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),e&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?r.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top,f=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width),o=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height),s=i.containerElement.get(0)===i.element.parent().get(0),h=/relative|absolute/.test(i.containerElement.css("position")),s&&h&&(f-=i.parentData.left),f+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-f,e&&(i.size.height=i.size.width/i.aspectRatio)),o+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-o,e&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("ui-resizable"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h}),t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}}),n.ui.plugin.add("resizable","alsoResize",{start:function(){var r=n(this).data("ui-resizable"),t=r.options,i=function(t){n(t).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof t.alsoResize=="object"&&!t.alsoResize.parentNode?t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)}):i(t.alsoResize)},resize:function(t,i){var r=n(this).data("ui-resizable"),u=r.options,f=r.originalSize,e=r.originalPosition,s={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-e.top||0,left:r.position.left-e.left||0},o=function(t,r){n(t).each(function(){var t=n(this),f=n(this).data("ui-resizable-alsoresize"),u={},e=r&&r.length?r:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){var i=(f[t]||0)+(s[t]||0);i&&i>=0&&(u[t]=i||null)}),t.css(u)})};typeof u.alsoResize=="object"&&!u.alsoResize.nodeType?n.each(u.alsoResize,function(n,t){o(n,t)}):o(u.alsoResize)},stop:function(){n(this).removeData("resizable-alsoresize")}}),n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("ui-resizable"),i=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),n.ui.plugin.add("resizable","grid",{resize:function(){var t=n(this).data("ui-resizable"),i=t.options,v=t.size,f=t.originalSize,e=t.originalPosition,h=t.axis,c=typeof i.grid=="number"?[i.grid,i.grid]:i.grid,o=c[0]||1,s=c[1]||1,l=Math.round((v.width-f.width)/o)*o,a=Math.round((v.height-f.height)/s)*s,r=f.width+l,u=f.height+a,y=i.maxWidth&&i.maxWidth<r,p=i.maxHeight&&i.maxHeight<u,w=i.minWidth&&i.minWidth>r,b=i.minHeight&&i.minHeight>u;i.grid=c,w&&(r+=o),b&&(u+=s),y&&(r-=o),p&&(u-=s),/^(se|s|e)$/.test(h)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.top=e.top-a):/^(sw)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.left=e.left-l):(t.size.width=r,t.size.height=u,t.position.top=e.top-a,t.position.left=e.left-l)}})}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{version:"1.10.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=n(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;(this.opos=[t.pageX,t.pageY],this.options.disabled)||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,o=this,s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h=!1;e&&e.element!==o.element[0]&&(s.tolerance==="touch"?h=!(e.left>u||e.right<i||e.top>f||e.bottom<r):s.tolerance==="fit"&&(h=e.left>i&&e.right<u&&e.top>r&&e.bottom<f),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&!t.metaKey&&!t.ctrlKey&&!e.startselected&&(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element}))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(n){function i(n,t,i){return n>t&&n<t+i}n.widget("ui.sortable",n.ui.mouse,{version:"1.10.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var n=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?n.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return r=n(this),!1}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),!f)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){var f,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&(n("body").css("cursor")&&(this._storedCursor=n("body").css("cursor")),n("body").css("cursor",u.cursor)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if((u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o)&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[o===1?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&(this.options.type==="semi-dynamic"?!n.contains(this.element[0],f):!0)){if(this.direction=o===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(u))break;this._rearrange(t,u),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var u=this,r=this.placeholder.offset();this.reverting=!0,n(this.helper).animate({left:r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){u._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l=i+o>u&&i+o<e&&t+s>r&&t+s<f;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?l:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<f&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<e},_intersectsWithPointer:function(n){var u=this.options.axis==="x"||i(this.positionAbs.top+this.offset.click.top,n.top,n.height),f=this.options.axis==="y"||i(this.positionAbs.left+this.offset.click.left,n.left,n.width),e=u&&f,t=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return e?this.floating?r&&r==="right"||t==="down"?2:1:t&&(t==="down"?2:1):!1},_intersectsWithSides:function(n){var u=i(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),f=i(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?r==="right"&&f||r==="left"&&!f:t&&(t==="down"&&u||t==="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!==0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!==0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(function(){s.push(this)});return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;u<l;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)(r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var i=n(document.createElement(t.currentItem[0].nodeName)).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(i.style.visibility="hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var u,c,e,s,l,o,f,a,h=null,i=null,r=this.containers.length-1;r>=0;r--)if(!n.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(h&&n.contains(this.containers[r].element[0],h.element[0]))continue;h=this.containers[r],i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(h)if(this.containers.length===1)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else{for(c=1e4,e=null,s=this.containers[i].floating?"left":"top",l=this.containers[i].floating?"width":"height",o=this.positionAbs[s]+this.offset.click[s],u=this.items.length-1;u>=0;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(f=this.items[u].item.offset()[s],a=!1,Math.abs(f-o)>Math.abs(f+this.items[u][l]-o)&&(a=!0,f+=this.items[u][l]),Math.abs(f-o)<c&&(c=Math.abs(f-o),e=this.items[u],this.direction=a?"up":"down"));if(!e&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],e?this._rearrange(t,e,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):r.helper==="clone"?this.currentItem.clone():this.currentItem;return i.parents("body").length||n(r.appendTo!=="parent"?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),n.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode),(i.containment==="document"||i.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u=n(t).css("overflow")!=="hidden",this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r=t==="absolute"?1:-1,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return this.cssPosition==="relative"&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(t,i){this.reverting=!1;var r,u=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)(this._storedCSS[r]==="auto"||this._storedCSS[r]==="static")&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!i&&u.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!i&&u.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(i||(u.push(function(n){this._trigger("remove",n,this._uiHash())}),u.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),u.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)i||u.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(u.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&n("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",t,this._uiHash()),r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(n){var u=0,i={},r={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="show",n.widget("ui.accordion",{version:"1.10.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=n(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),!t.collapsible&&(t.active===!1||t.active==null)&&(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),n=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&n.css("height","")},_setOption:function(n,t){if(n==="active"){this._activate(t);return}n==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),n==="collapsible"&&!t&&this.options.active===!1&&this._activate(0),n==="icons"&&(this._destroyIcons(),t&&this._createIcons()),n==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),(t.active!==!1||t.collapsible!==!0)&&this.headers.length||(t.active=!1,this.active=n()),t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,r=i.heightStyle,e=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++u);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=n(this),r=i.attr("id"),e=i.next(),u=e.attr("id");r||(r=f+"-header-"+t,i.attr("id",r)),u||(u=f+"-panel-"+t,e.attr("id",u)),i.attr("aria-controls",u),e.attr("aria-labelledby",r)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),r==="fill"?(t=e.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");r!=="absolute"&&r!=="fixed"&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):r==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};(t.preventDefault(),(!f||i.collapsible)&&this._trigger("beforeActivate",t,o)!==!1)&&(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=r,this.prevHide=i,this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),r.length&&i.length?i.prev().attr("tabIndex",-1):r.length&&this.headers.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(n,t,u){var l,f,e,a=this,h=0,v=n.length&&(!t.length||n.index()<t.index()),s=this.options.animate||{},o=v&&s.down||s,c=function(){a._toggleComplete(u)};if(typeof o=="number"&&(e=o),typeof o=="string"&&(f=o),f=f||o.easing||s.easing,e=e||o.duration||s.duration,!t.length)return n.animate(r,e,f,c);if(!n.length)return t.animate(i,e,f,c);l=n.show().outerHeight(),t.animate(i,{duration:e,easing:f,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(r,{duration:e,easing:f,complete:c,step:function(n,i){i.now=Math.round(n),i.prop!=="height"?h+=i.now:a.options.heightStyle!=="content"&&(i.now=Math.round(l-t.outerHeight()-h),h=0)}})},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,n)}})}(jQuery),function(n){var i=0;n.widget("ui.autocomplete",{version:"1.10.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,r;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly")){t=!0,r=!0,i=!0;return}t=!1,r=!1,i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0,this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0,this._move("nextPage",u);break;case f.UP:t=!0,this._keyEvent("previous",u);break;case f.DOWN:t=!0,this._keyEvent("next",u);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0,this._searchTimeout(u)}},keypress:function(r){if(t){t=!1,r.preventDefault();return}if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){if(r){r=!1,n.preventDefault();return}this._searchTimeout(n)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(n),this._change(n)}}),this._initSource(),this.menu=n("<ul>").addClass("ui-autocomplete").appendTo(this._appendTo()).menu({input:n(),role:null}).zIndex(this.element.zIndex()+1).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});return}var r=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",n,{item:i})&&this._value(i.value),this.term=this._value(),this.close(n),this.selectedItem=i}}),this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t),n==="source"&&this._initSource(),n==="appendTo"&&this.menu.element.appendTo(this._appendTo()),n==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort(),t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return(n=n!=null?n:this._value(),this.term=this._value(),n.length<this.options.minLength)?this.close(t):this._trigger("search",t)===!1?void 0:this._search(n)},_search:function(n){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:n},this._response())},_response:function(){var n=this,t=++i;return function(r){t===i&&n.__response(r),n.pending--,n.pending||n.element.removeClass("ui-autocomplete-loading")}},__response:function(n){n&&(n=this._normalize(n)),this._trigger("response",null,{content:n}),!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0,this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<a>").text(i.label)).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)){this._value(this.term),this.menu.blur();return}this.menu[n](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}}),n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(n){var t;(this._superApply(arguments),this.options.disabled||this.cancelSearch)||(t=n&&n.length?this.options.messages.results(n.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(n){var r,u,f,i,e="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=n(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},s=function(t){var i=t.name,u=t.form,r=n([]);return i&&(i=i.replace(/'/g,"\\'"),r=u?n(u).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),r};n.widget("ui.button",{version:"1.10.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,t=this.options,h=this.type==="checkbox"||this.type==="radio",a=h?"":"ui-state-active",l="ui-state-focus";t.label===null&&(t.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(e).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){t.disabled||this===r&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){t.disabled||n(this).removeClass(a)}).bind("click"+this.eventNamespace,function(n){t.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){o.buttonElement.addClass(l)}).bind("blur"+this.eventNamespace,function(){o.buttonElement.removeClass(l)}),h&&(this.element.bind("change"+this.eventNamespace,function(){i||o.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){t.disabled||(i=!1,u=n.pageX,f=n.pageY)}).bind("mouseup"+this.eventNamespace,function(n){t.disabled||(u!==n.pageX||f!==n.pageY)&&(i=!0)})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled||i)return!1}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled||i)return!1;n(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var r=o.element[0];s(r).not(r).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).addClass("ui-state-active"),r=this,o.document.one("mouseup",function(){r=null})}).bind("mouseup"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(i){if(t.disabled)return!1;(i.keyCode===n.ui.keyCode.SPACE||i.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()})),this._setOption("disabled",t.disabled),this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(e+" "+h+" "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){if(this._super(n,t),n==="disabled"){t?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?s(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var i=this.buttonElement.removeClass(o),f=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(f)))):r.push("ui-button-text-only"),i.addClass(r.join(" "))}}),n.widget("ui.buttonset",{version:"1.10.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){n==="disabled"&&this.buttons.button("option",n,t),this._super(n,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(n,t){function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},n.extend(this._defaults,this.regional[""]),this.dpDiv=o(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function o(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){n.datepicker._isDisabledDatepicker(f.inline?t.parent()[0]:f.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&n(this).addClass("ui-datepicker-next-hover"))})}function u(t,i){n.extend(t,i);for(var r in i)i[r]==null&&(t[r]=i[r]);return t}n.extend(n.ui,{datepicker:{version:"1.10.0"}});var i="datepicker",r=+new Date,f;n.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return u(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase(),f=r==="div"||r==="span",t.id||(this.uuid+=1,t.id="dp"+this.uuid),u=this._newInst(n(t),f),u.settings=n.extend({},i||{}),r==="input"?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,r){var u=n(t);(r.append=n([]),r.trigger=n([]),u.hasClass(this.markerClassName))||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(r),n.data(t,i,r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),u=this._get(i,"showOn"),(u==="focus"||u==="both")&&t.focus(this._showDatepicker),(u==="button"||u==="both")&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;t<n.length;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay())),n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,r){var u=n(t);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.dpDiv),n.data(t,i,r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,r,f,e,o){var h,c,l,a,v,s=this._dialogInst;return s||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},n.data(this._dialogInput[0],i,s)),u(s.settings,e||{}),r=r&&r.constructor===Date?this._formatDate(s,r):r,this._dialogInput.val(r),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,a=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+a,l/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],i,s),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,i);u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,i),r==="input"?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r==="div"||r==="span")&&u.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r==="input"?(t.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(r==="div"||r==="span")&&(u=f.children("."+this._inlineClass),u.children().removeClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r==="input"?(t.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(r==="div"||r==="span")&&(u=f.children("."+this._inlineClass),u.children().addClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,i)}catch(r){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,r,f){var o,c,s,h,e=this._getInst(i);if(arguments.length===2&&typeof r=="string")return r==="defaults"?n.extend({},n.datepicker._defaults):e?r==="all"?n.extend({},e.settings):this._get(e,r):null;o=r||{},typeof r=="string"&&(o={},o[r]=f),e&&(this._curInst===e&&this._hideDatepicker(),c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),u(e.settings,o),s!==null&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s)),h!==null&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(n(i),e),this._autoSize(e),this._setDate(e,c),this._updateAlternate(e),this._updateDatepicker(e))},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker(),r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode===36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!i||i.indexOf(r)>-1},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i)),r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,t.nodeName.toLowerCase()!=="input"&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,r,f,e,h;(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),o=n.datepicker._get(i,"beforeShow"),s=o?o.apply(t,[t,i]):{},s!==!1)&&(u(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),r=!1,n(t).parents().each(function(){return r|=n(this).css("position")==="fixed",!r}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,r),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":r?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.zIndex(n(t).zIndex()+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,f=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,r=this._getNumberOfMonths(t),u=r[1],e=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),u>1&&t.dpDiv.addClass("ui-datepicker-multi-"+u).css("width",e*u+"em"),t.dpDiv[(r[0]!==1||r[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!==document.activeElement&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_getBorders:function(n){var t=function(n){return{thin:1,medium:2,thick:3}[n]||n};return[parseFloat(t(n.css("border-left-width"))),parseFloat(t(n.css("border-top-width")))]},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&(t.type==="hidden"||t.nodeType!==1||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var u,e,f,o,r=this._curInst;r&&(!t||r===n.data(t,i))&&this._datepickerShowing&&(u=this._get(r,"showAnim"),e=this._get(r,"duration"),f=function(){n.datepicker._tidyDialog(r)},n.effects&&(n.effects.effect[u]||n.effects[u])?r.dpDiv.hide(u,n.datepicker._get(r,"showOptions"),e,f):r.dpDiv[u==="slideDown"?"slideUp":u==="fadeIn"?"fadeOut":"hide"](u?e:null,f),u||f(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||i.parents("#"+n.datepicker._mainDivId).length!==0||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+(r==="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear()),this._notifyChange(i),this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+(r==="M"?"Month":"Year")]=u["draw"+(r==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(u),this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=i!=null?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),u=this._get(r,"onSelect"),u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&t<6,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(t==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;for(var a,v,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d=typeof y!="string"?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,o=-1,h=-1,p=-1,w=!1,u,l=function(n){var i=s+1<t.length&&t.charAt(s+1)===n;return i&&s++,i},c=function(n){var r=l(n),u=n==="@"?14:n==="!"?20:n==="y"&&r?4:n==="o"?3:2,e=new RegExp("^\\d{1,"+u+"}"),t=i.substring(f).match(e);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return e=t[0],f+=r.length,!1}),e!==-1)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(s))throw"Unexpected literal at position "+f;f++},s=0;s<t.length;s++)if(w)t.charAt(s)==="'"&&!l("'")?w=!1:b();else switch(t.charAt(s)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":o=c("m");break;case"M":o=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@")),e=u.getFullYear(),o=u.getMonth()+1,h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4),e=u.getFullYear(),o=u.getMonth()+1,h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(f<i.length&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(e===-1?e=(new Date).getFullYear():e<100&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(e<=d?0:-100)),p>-1){o=1,h=p;do{if(a=this._getDaysInMonth(e,o-1),h<=a)break;o++,h-=a}while(1)}if(u=this._daylightSavingAdjust(new Date(e,o-1,h)),u.getFullYear()!==e||u.getMonth()+1!==o||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*864e9,formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=u+1<n.length&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))while(r.length<i)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)n.charAt(u)==="'"&&!f("'")?o=!1:r+=n.charAt(u);else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((+new Date(t.getFullYear(),t.getMonth(),t.getDate())-+new Date(t.getFullYear(),0,0))/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=t+1<n.length&&n.charAt(t+1)===i;return r&&t++,r},t=0;t<n.length;t++)if(r)n.charAt(t)==="'"&&!u("'")?r=!1:i+=n.charAt(t);else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear(),n.currentDay=r?i.getDate():0,n.currentMonth=r?i.getMonth():0,n.currentYear=r?i.getFullYear():0,this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":e+=parseInt(u[1],10),r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10),r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=i==null||i===""?r:typeof i=="string"?e(i):typeof i=="number"?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&u.toString()==="Invalid Date"?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate(),n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth(),n.drawYear=n.selectedYear=n.currentYear=r.getFullYear(),(f!==n.selectedMonth||e!==n.selectedYear)&&!i&&this._notifyChange(n),this._adjustInstDate(n),n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()===""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var u=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+r].datepicker._adjustDate(i,-u,"M")},next:function(){window["DP_jQuery_"+r].datepicker._adjustDate(i,+u,"M")},hide:function(){window["DP_jQuery_"+r].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+r].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+r].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+r].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+r].datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,f,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),e=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),o=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=o[0]!==1||o[1]!==1,ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(t<0&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-o[0]*o[1]+1,v.getDate())),b=w&&b<w?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,t<0&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(e?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(e?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",f,y=0;y<o[0];y++){for(ct="",this.maxRows=4,p=0;p<o[1];p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",o[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first",l=" ui-corner-"+(e?"right":"left");break;case o[1]-1:u+=" ui-datepicker-group-last",l=" ui-corner-"+(e?"left":"right");break;default:u+=" ui-datepicker-group-middle",l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&y===0?e?ut:rt:"")+(/all|right/.test(l)&&y===0?e?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",f=0;f<7;f++)vt=(f+c)%7,at+="<th"+((f+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;bt<wt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",f=0;f<7;f++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&i<w||v&&i>v,kt+="<td class='"+((f+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+((!a||g)&&d[2]?" title='"+d[2]+"'":"")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++,t>11&&(t=0,r++),u+="<\/tbody><\/table>"+(ti?"<\/div>"+(o[0]>0&&p===o[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):""),ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;h<12;h++)(!k||h>=r.getMonth())&&(!d||h<=u.getMonth())&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(f||!w||!b?"&#xa0;":"")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";s<=a;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>",c+=n.yearshtml,n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(f||!w||!b?"&#xa0;":"")+l),c+="<\/div>",c},_adjustInstDate:function(n,t,i){var u=n.drawYear+(i==="Y"?t:0),f=n.drawMonth+(i==="M"?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+(i==="D"?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear(),(i==="M"||i==="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&t<i?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(t<0?t:f[0]*f[1]),1));return t<0&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,r,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),u=null,f=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),r=(new Date).getFullYear(),u=parseInt(i[0],10)+r,f=parseInt(i[1],10)+r),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!u||t.getFullYear()>=u)&&(!f||t.getFullYear()<=f)},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}}),n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0),n("#"+n.datepicker._mainDivId).length===0&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return typeof t!="string"||t!=="isDisabled"&&t!=="getDate"&&t!=="widget"?t==="option"&&arguments.length===2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))},n.datepicker=new e,n.datepicker.initialized=!1,n.datepicker.uuid=+new Date,n.datepicker.version="1.10.0",window["DP_jQuery_"+r]=n}(jQuery),function(n){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{version:"1.10.0",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&n.fn.draggable&&this._makeDraggable(),this.options.resizable&&n.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),n=t.parent.children().eq(t.index),n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||n(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(n,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",n),i},open:function(){if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this.opener=n(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show),this._focusTabbable(),this._isOpen=!0,this._trigger("open"),this._trigger("focus")},_focusTabbable:function(){var n=this.element.find("[autofocus]");n.length||(n=this.element.find(":tabbable")),n.length||(n=this.uiDialogButtonPane.find(":tabbable")),n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable")),n.length||(n=this.uiDialog),n.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE){t.preventDefault(),this.close(t);return}if(t.keyCode===n.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||!!t.shiftKey?(t.target===r[0]||t.target===this.uiDialog[0])&&t.shiftKey&&(u.focus(1),t.preventDefault()):(r.focus(1),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=n("<button><\/button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault(),this.close(n)}}),t=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title||n.html("&#160;"),n.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(i)){this.uiDialog.removeClass("ui-dialog-buttons");return}n.each(i,function(i,r){var u,f;r=n.isFunction(r)?{click:r,text:i}:r,r=n.extend({type:"button"},r),u=r.click,r.click=function(){u.apply(t.element[0],arguments)},f={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,n("<button><\/button>",r).button(f).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging"),t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){r.position=[f.position.left-t.document.scrollLeft(),f.position.top-t.document.scrollTop()],n(this).removeClass("ui-dialog-dragging"),t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function i(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var r=this,t=this.options,u=t.resizable,f=this.uiDialog.css("position"),e=typeof u=="string"?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:t.maxWidth,maxHeight:t.maxHeight,minWidth:t.minWidth,minHeight:this._minHeight(),handles:e,start:function(t,u){n(this).addClass("ui-dialog-resizing"),r._trigger("resizeStart",t,i(u))},resize:function(n,t){r._trigger("resize",n,i(t))},stop:function(u,f){t.height=n(this).height(),t.width=n(this).width(),n(this).removeClass("ui-dialog-resizing"),r._trigger("resizeStop",u,i(f))}}).css("position",f)},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show(),this.uiDialog.position(this.options.position),n||this.uiDialog.hide()},_setOptions:function(t){var e=this,u=!1,f={};n.each(t,function(n,t){e._setOption(n,t),n in i&&(u=!0),n in r&&(f[n]=t)}),u&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(n,t){var u,r,i=this.uiDialog;(n==="dialogClass"&&i.removeClass(this.options.dialogClass).addClass(t),n!=="disabled")&&(this._super(n,t),n==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),n==="buttons"&&this._createButtons(),n==="closeText"&&this.uiDialogTitlebarClose.button({label:""+t}),n==="draggable"&&(u=i.is(":data(ui-draggable)"),u&&!t&&i.draggable("destroy"),!u&&t&&this._makeDraggable()),n==="position"&&this._position(),n==="resizable"&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&typeof t=="string"&&i.resizable("option","handles",t),!r&&t!==!1&&this._makeResizable()),n==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),i=Math.max(0,n.minHeight-t),r=typeof n.maxHeight=="number"?Math.max(0,n.maxHeight-t):"none",n.height==="auto"?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_createOverlay:function(){this.options.modal&&(n.ui.dialog.overlayInstances||this._delay(function(){n.ui.dialog.overlayInstances&&this._on(this.document,{focusin:function(t){n(t.target).closest(".ui-dialog").length||(t.preventDefault(),n(".ui-dialog:visible:last .ui-dialog-content").data("ui-dialog")._focusTabbable())}})}),this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this.document[0].body),this._on(this.overlay,{mousedown:"_keepFocus"}),n.ui.dialog.overlayInstances++)},_destroyOverlay:function(){this.options.modal&&(n.ui.dialog.overlayInstances--,n.ui.dialog.overlayInstances||this._off(this.document,"focusin"),this.overlay.remove())}}),n.ui.dialog.overlayInstances=0,n.uiBackCompat!==!1&&n.widget("ui.dialog",n.ui.dialog,{_position:function(){var t=this.options.position,i=[],r=[0,0],u;t?((typeof t=="string"||typeof t=="object"&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],i.length===1&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(r[n]=i[n],i[n]=t)}),t={my:i[0]+(r[0]<0?r[0]:"+"+r[0])+" "+i[1]+(r[1]<0?r[1]:"+"+r[1]),at:i.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position,u=this.uiDialog.is(":visible"),u||this.uiDialog.show(),this.uiDialog.position(t),u||this.uiDialog.hide()}})}(jQuery),function(n){n.widget("ui.menu",{version:"1.10.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(n){this.options.disabled&&n.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(n){n.preventDefault()},"click .ui-state-disabled > a":function(n){n.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=n(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){n(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,s=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,f=this.previousFilter||"",r=String.fromCharCode(t.keyCode),e=!1,clearTimeout(this.filterTimer),r===f?e=!0:r=f+r,u=new RegExp("^"+o(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())}),i=e&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),u=new RegExp("^"+o(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}s&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var t,r=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev("a"),u=n("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(u),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=n(this);/[^\-\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){n==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&n.type==="focus"),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),n&&n.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(n.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.height(),i<0?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){(t||clearTimeout(this.timer),this.active)&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){(clearTimeout(this.timer),n.attr("aria-hidden")==="true")&&(this.timer=this._delay(function(){this._close(),this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element),n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r=n==="first"||n==="last"?this.active[n==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,r)},nextPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r-u<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(n,t){n.widget("ui.progressbar",{version:"1.10.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(n){if(n===t)return this.options.value;this.options.value=this._constrainedValue(n),this._refreshValue()},_constrainedValue:function(n){return n===t&&(n=this.options.value),this.indeterminate=n===!1,typeof n!="number"&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value,this._super(n),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(n,t){n==="max"&&(t=Math.max(this.min,t)),this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(n){var i=5;n.widget("ui.slider",n.ui.mouse,{version:"1.10.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){var i,r,t=this.options,u=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>",f=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this.range=n([]),t.range&&(t.range===!0&&(t.values?t.values.length&&t.values.length!==2?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range=n("<div><\/div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))),r=t.values&&t.values.length||1,i=u.length;i<r;i++)f.push(e);this.handles=u.add(n(f.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(n){n.preventDefault()}).mouseenter(function(){t.disabled||n(this).addClass("ui-state-hover")}).mouseleave(function(){n(this).removeClass("ui-state-hover")}).focus(function(){t.disabled?n(this).blur():(n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))}).blur(function(){n(this).removeClass("ui-state-focus")}),this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)}),this._setOption("disabled",t.disabled),this._on(this.handles,this._handleEvents),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return this.orientation==="horizontal"?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i,!0))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",n,i)}},value:function(n){if(arguments.length){this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(t,i){var u,f,r;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t);return}if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;n.isArray(this.options.values)&&(u=this.options.values.length),n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0)):this.handles.prop("disabled",!1);break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var n=this.options.value;return n=this._trimAlignValue(n),n},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r),r;for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=(r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin())*100,o[r.orientation==="horizontal"?"left":"bottom"]=t+"%",n(this).stop(1,1)[u?"animate":"css"](o,i.animate),r.options.range===!0&&(r.orientation==="horizontal"?(f===0&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(f===0&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate}))),s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?(c-f)/(h-f)*100:0,o[this.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),e==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),e==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),e==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),e==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(t){var o,u,r,f,e=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(t.target).addClass("ui-state-active"),o=this._start(t,e),o===!1))return}f=this.options.step,u=this.options.values&&this.options.values.length?r=this.values(e):r=this.value();switch(t.keyCode){case n.ui.keyCode.HOME:r=this._valueMin();break;case n.ui.keyCode.END:r=this._valueMax();break;case n.ui.keyCode.PAGE_UP:r=this._trimAlignValue(u+(this._valueMax()-this._valueMin())/i);break;case n.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(u-(this._valueMax()-this._valueMin())/i);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===this._valueMax())return;r=this._trimAlignValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===this._valueMin())return;r=this._trimAlignValue(u-f)}this._slide(t,e,r)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(n){function t(n){return function(){var t=this.element.val();n.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}n.widget("ui.spinner",{version:"1.10.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);u!==undefined&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100),n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;(i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)}),this._start(t)!==!1)&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active")){if(this._start(t)===!1)return!1;this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(n.height()*.5)&&n.height()>0&&n.height(n.height()),this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return!this.spinning&&this._trigger("start",n)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(n,t,i){n=n||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},n),this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+n*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return this.options.min!==null&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=n.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return r=t.min!==null?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),t.max!==null&&n>t.max?t.max:t.min!==null&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if(n==="culture"||n==="numberFormat"){var i=this._parse(this.element.val());this.options[n]=t,this.element.val(this._format(i));return}(n==="max"||n==="min"||n==="step")&&typeof t=="string"&&(t=this._parse(t)),n==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(n,t),n==="disabled"&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(n){this._super(n),this._value(this.element.val())}),_parse:function(n){return typeof n=="string"&&n!==""&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),n===""||isNaN(n)?null:n},_format:function(n){return n===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(n,t){var i;n!==""&&(i=this._parse(n),i!==null&&(t||(i=this._adjustValue(i)),n=this._format(i))),this.element.val(n),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,n)},widget:function(){return this.uiSpinner}})}(jQuery),function(n,t){function u(){return++f}function i(n){return n.hash.length>1&&decodeURIComponent(n.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var f=0,r=/#.*$/;n.widget("ui.tabs",{version:"1.10.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var i=this,t=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),t.active=this._initialActive(),n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return t===null&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return t=i,!1}),t===null&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(t===null||t===-1)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(this.document[0].activeElement).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1,i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:t.preventDefault(),clearTimeout(this.activating),this._activate(i);return;case n.ui.keyCode.ENTER:t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i);return;default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,u),t.ctrlKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),t<0&&(t=r),t}for(var r=this.tabs.length-1;n.inArray(u(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,t){if(n==="active"){this._activate(t);return}if(n==="disabled"){this._setupDisabled(t);return}this._super(n,t),n==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),!t&&this.options.active===!1&&this._activate(0)),n==="event"&&this._setupEvents(t),n==="heightStyle"&&this._setupHeightStyle(t)},_tabId:function(n){return n.attr("aria-controls")||"ui-tabs-"+u()},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)}),this._processTabs(),t.active===!1||!this.anchors.length?(t.active=!1,this.active=n()):this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=n(),this.anchors.each(function(r,u){var e,f,s,h=n(u).uniqueId().attr("id"),o=n(u).closest("li"),c=o.attr("aria-controls");i(u)?(e=u.hash,f=t.element.find(t._sanitizeSelector(e))):(s=t._tabId(o),e="#"+s,f=t.element.find(e),f.length||(f=t._createPanel(s),f.insertAfter(t.panels[r-1]||t.tablist)),f.attr("aria-live","polite")),f.length&&(t.panels=t.panels.add(f)),c&&o.data("ui-tabs-aria-controls",c),o.attr({"aria-controls":e.substring(1),"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i=0,r;r=this.tabs[i];i++)t===!0||n.inArray(i,t)!==-1?n(r).addClass("ui-state-disabled").attr("aria-disabled","true"):n(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(n){n.preventDefault()}};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();t==="fill"?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");r!=="absolute"&&r!=="fixed"&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):t==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};(t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1)||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),!s.length&&!o.length&&n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1,u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0,f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o()),f.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(i){var r=this.options.disabled;r!==!1&&(i===t?r=!1:(i=this._getIndex(i),r=n.isArray(r)?n.map(r,function(n){return n!==i?n:null}):n.map(this.tabs,function(n,t){return t!==i?t:null})),this._setupDisabled(r))},disable:function(i){var r=this.options.disabled;if(r!==!0){if(i===t)r=!0;else{if(i=this._getIndex(i),n.inArray(i,r)!==-1)return;r=n.isArray(r)?n.merge([i],r).sort():[i]}this._setupDisabled(r)}},load:function(t,r){t=this._getIndex(t);var f=this,u=this.tabs.eq(t),o=u.find(".ui-tabs-anchor"),e=this._getPanelForTab(u),s={tab:u,panel:e};i(o[0])||(this.xhr=n.ajax(this._ajaxSettings(o,r,s)),this.xhr&&this.xhr.statusText!=="canceled"&&(u.addClass("ui-tabs-loading"),e.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){e.html(n),f._trigger("load",r,s)},1)}).complete(function(n,t){setTimeout(function(){t==="abort"&&f.panels.stop(!1,!0),u.removeClass("ui-tabs-loading"),e.removeAttr("aria-busy"),n===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(n){function t(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))}function i(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);r!==-1&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=n.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var r=0;n.widget("ui.tooltip",{version:"1.10.0",options:{content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var r=this;if(t==="disabled"){this[i?"_disable":"_enable"](),this.options[t]=i;return}this._super(t,i),t==="content"&&n.each(this.tooltips,function(n,t){r._updateContent(t)})},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0],t.close(u,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&t.type==="mouseover"&&i.parents().each(function(){var t=n(this),i;t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0)),t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(n,t){var i,r=this.options.content,u=this,f=t?t.type:null;if(typeof r=="string")return this._open(t,n,r);i=r.call(n[0],function(i){n.data("ui-tooltip-open")&&u._delay(function(){t&&(t.type=f),this._open(t,n,i)})}),i&&this._open(t,n,i)},_open:function(i,r,u){function o(n){(s.of=n,f.is(":hidden"))||f.position(s)}var f,e,h,s=n.extend({},this.options.position);if(u){if(f=this._find(r),f.length){f.find(".ui-tooltip-content").html(u);return}r.is("[title]")&&(i&&i.type==="mouseover"?r.attr("title",""):r.removeAttr("title")),f=this._tooltip(r),t(r,f.attr("id")),f.find(".ui-tooltip-content").html(u),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):f.position(n.extend({of:r},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){f.is(":visible")&&(o(s.of),clearInterval(h))},n.fx.interval)),this._trigger("open",i,{tooltip:f}),e={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var i=n.Event(t);i.currentTarget=r[0],this.close(i,!0)}},remove:function(){this._removeTooltip(f)}},i&&i.type!=="mouseover"||(e.mouseleave="close"),i&&i.type!=="focusin"||(e.focusout="close"),this._on(!0,r,e)}},close:function(t){var f=this,r=n(t?t.currentTarget:this.element),u=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),i(r),u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&t.type==="mouseleave"&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title),delete f.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:u}),this.closing=!1)},_tooltip:function(t){var u="ui-tooltip-"+r++,i=n("<div>").attr({id:u,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return n("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[u]=t,i},_find:function(t){var i=t.data("ui-tooltip-id");return i?n("#"+i):n()},_removeTooltip:function(n){n.remove(),delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0],t.close(u,!0),n("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})}})}(jQuery),jQuery.effects||function(n,t){var i="ui-effects-";n.effects={effect:{}},function(n,t){function f(n,t,i){var r=h[t.type]||{};return n==null?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:r.max<n?r.max:n)}function s(t){var f=i(),o=f._rgba=[];return t=t.toLowerCase(),r(y,function(n,i){var r,s=i.re.exec(t),h=s&&i.parse(s),e=i.space||"rgba";if(h)return r=f[e](h),f[u[e].cache]=r[u[e].cache],o=f._rgba=r._rgba,!1}),o.length?(o.join()==="0,0,0,0"&&n.extend(o,e.transparent),f):e[t]}function o(n,t,i){return i=(i+1)%1,i*6<1?n+(t-n)*i*6:i*2<1?t:i*3<2?n+(t-n)*(2/3-i)*6:n}var a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",v=/^([\-+])=\s*(\d+\.?\d*)/,y=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1]*2.55,n[2]*2.55,n[3]*2.55,n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=i.support={},l=n("<p>")[0],e,r=n.each;l.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=l.style.backgroundColor.indexOf("rgba")>-1,r(u,function(n,t){t.cache="_"+n,t.props.alpha={idx:3,type:"percent",def:1}}),i.fn=n.extend(i.prototype,{parse:function(o,h,c,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(h),h=t);var a=this,v=n.type(o),y=this._rgba=[];return(h!==t&&(o=[o,h,c,l],v="array"),v==="string")?this.parse(s(o)||e._default):v==="array"?(r(u.rgba.props,function(n,t){y[t.idx]=f(o[t.idx],t)}),this):v==="object"?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if(n==="alpha"||o[n]==null)return;a[u]=i.to(a._rgba)}a[u][t.idx]=f(o[n],t,!0)}),a[u]&&n.inArray(null,a[u].slice(0,3))<0&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):void 0},is:function(n){var e=i(n),t=!0,f=this;return r(u,function(n,i){var o,u=e[i.cache];return u&&(o=f[i.cache]||i.to&&i.to(f._rgba)||[],r(i.props,function(n,i){if(u[i.idx]!=null)return t=u[i.idx]===o[i.idx],t})),t}),t},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var e=i(n),c=e._space(),o=u[c],l=this.alpha()===0?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),s=a.slice();return e=e[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=e[c],o=h[i.type]||{};u!==null&&(r===null?s[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),s[c]=f((u-r)*t+r,i)))}),this[c](s)},blend:function(t){if(this._rgba[3]===1)return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return n==null?t>2?1:0:n});return t[3]===1&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return n==null&&(n=t>2?1:0),t&&t<3&&(n=Math.round(n*100)+"%"),n});return t[3]===1&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(r*255)),"#"+n.map(i,function(n){return n=(n||0).toString(16),n.length===1?"0"+n:n}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,u.hsla.to=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var i=n[0]/255,r=n[1]/255,e=n[2]/255,c=n[3],u=Math.max(i,r,e),s=Math.min(i,r,e),t=u-s,h=u+s,l=h*.5,f,o;return f=s===u?0:i===u?60*(r-e)/t+360:r===u?60*(e-i)/t+120:60*(i-r)/t+240,o=t===0?0:l<=.5?t/h:t/(2-h),[Math.round(f)%360,o,l,c==null?1:c]},u.hsla.from=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=t<=.5?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(o(f,i,r+1/3)*255),Math.round(o(f,i,r)*255),Math.round(o(f,i,r-1/3)*255),e]},r(u,function(u,e){var s=e.props,o=e.cache,h=e.to,c=e.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v=a==="array"||a==="object"?u:arguments,e=this[o].slice();return r(s,function(n,t){var i=v[a==="object"?n:t.idx];i==null&&(i=e[t.idx]),e[t.idx]=f(i,t)}),c?(l=i(c(e)),l[o]=e,l):i(e)},r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f=n.type(i),h=t==="alpha"?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx],e;return f==="undefined"?s:(f==="function"&&(i=i.call(this,s),f=n.type(i)),i==null&&r.empty?this:(f==="string"&&(e=v.exec(i),e&&(i=s+parseFloat(e[2])*(e[1]==="+"?1:-1))),o[r.idx]=i,this[h](o)))})})}),i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if(u!=="transparent"&&(n.type(u)!=="string"||(o=s(u)))){if(u=i(o||u),!c.rgba&&u._rgba[3]!==1){for(f=r==="backgroundColor"?t.parentNode:t;(e===""||e==="transparent")&&f&&f.style;)try{e=n.css(f,"backgroundColor"),f=f.parentNode}catch(h){}u=u.blend(e&&e!=="transparent"?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(h){}}},n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0),n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})},i.hook(a),n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}},e=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],typeof i[r]=="string"&&(f[n.camelCase(r)]=i[r]);else for(r in i)typeof i[r]=="string"&&(f[r]=i[r]);return f}function r(t,i){var e={},r,u;for(r in i)u=i[r],t[r]===u||f[r]||!n.fx.step[r]&&isNaN(parseFloat(u))||(e[r]=u);return e}var u=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){(n.end==="none"||n.setAttr)&&(n.pos!==1||n.setAttr)||(jQuery.style(n.elem,i,n.end),n.setAttr=!0)}}),n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}),n.effects.animateClass=function(t,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var e=n(this),h=e.attr("class")||"",o,f=s.children?e.find("*").addBack():e;f=f.map(function(){var t=n(this);return{el:t,start:i(this)}}),o=function(){n.each(u,function(n,i){t[i]&&e[i+"Class"](t[i])})},o(),f=f.map(function(){return this.end=i(this.el[0]),this.diff=r(this.start,this.end),this}),e.attr("class",h),f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()}),n.when.apply(n,f.get()).done(function(){o(),n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})}),s.complete.call(e[0])})})},n.fn.extend({_addClass:n.fn.addClass,addClass:function(t,i,r,u){return i?n.effects.animateClass.call(this,{add:t},i,r,u):this._addClass(t)},_removeClass:n.fn.removeClass,removeClass:function(t,i,r,u){return i?n.effects.animateClass.call(this,{remove:t},i,r,u):this._removeClass(t)},_toggleClass:n.fn.toggleClass,toggleClass:function(i,r,u,f,e){return typeof r=="boolean"||r===t?u?n.effects.animateClass.call(this,r?{add:i}:{remove:i},u,f,e):this._toggleClass(i,r):n.effects.animateClass.call(this,{toggle:i},r,u,f)},switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function r(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},i==null&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function u(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects.effect[t]}n.extend(n.effects,{version:"1.10.0",save:function(n,t){for(var r=0;r<t.length;r++)t[r]!==null&&n.data(i+t[r],n[0].style[t[r]])},restore:function(n,r){for(var f,u=0;u<r.length;u++)r[u]!==null&&(f=n.data(i+r[u]),f===t&&(f=""),n.css(r[u],f))},setMode:function(n,t){return t==="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),t.css("position")==="static"?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}}),n.fn.extend({effect:function(){function i(i){function u(){n.isFunction(f)&&f.call(r[0]),n.isFunction(i)&&i()}var r=n(this),f=t.complete,o=t.mode;(r.is(":hidden")?o==="hide":o==="show")?u():e.call(r[0],t,u)}var t=r.apply(this,arguments),u=t.mode,f=t.queue,e=n.effects.effect[t.effect];return n.fx.off||!e?u?this[u](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):f===!1?this.each(i):this.queue(f||"fx",i)},_show:n.fn.show,show:function(n){if(u(n))return this._show.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:n.fn.hide,hide:function(n){if(u(n))return this._hide.apply(this,arguments);var t=r.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:n.fn.toggle,toggle:function(t){if(u(t)||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}}),n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return n===0||n===1?n:-Math.pow(2,8*(n-1))*Math.sin(((n-1)*80-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;n<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((t*3-2)/22-n,2)}}),n.each(t,function(t,i){n.easing["easeIn"+t]=i,n.easing["easeOut"+t]=function(n){return 1-i(1-n)},n.easing["easeInOut"+t]=function(n){return n<.5?i(n*2)/2:1-i(n*-2+2)/2}})}()}(jQuery),function(n){var i=/up|down|vertical/,r=/up|left|vertical|horizontal/;n.effects.effect.blind=function(t,u){var f=n(this),c=["position","top","bottom","left","right","height","width"],p=n.effects.setMode(f,t.mode||"hide"),w=t.direction||"up",o=i.test(w),l=o?"height":"width",a=o?"top":"left",b=r.test(w),v={},y=p==="show",e,s,h;f.parent().is(".ui-effects-wrapper")?n.effects.save(f.parent(),c):n.effects.save(f,c),f.show(),e=n.effects.createWrapper(f).css({overflow:"hidden"}),s=e[l](),h=parseFloat(e.css(a))||0,v[l]=y?s:0,b||(f.css(o?"bottom":"right",0).css(o?"top":"left","auto").css({position:"absolute"}),v[a]=y?h:s+h),y&&(e.css(l,0),b||e.css(a,h+s)),e.animate(v,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){p==="hide"&&f.hide(),n.effects.restore(f,c),n.effects.removeWrapper(f),u()}})}}(jQuery),function(n){n.effects.effect.bounce=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=k==="hide",y=k==="show",h=t.direction||"up",u=t.distance,p=t.times||5,d=p*2+(y||f?1:0),c=t.duration/d,l=t.easing,e=h==="up"||h==="down"?"top":"left",w=h==="up"||h==="left",b,o,s,a=r.queue(),g=a.length;for((y||f)&&v.push("opacity"),n.effects.save(r,v),r.show(),n.effects.createWrapper(r),u||(u=r[e==="top"?"outerHeight":"outerWidth"]()/3),y&&(s={opacity:1},s[e]=0,r.css("opacity",0).css(e,w?-u*2:u*2).animate(s,c,l)),f&&(u/=Math.pow(2,p-1)),s={},s[e]=0,b=0;b<p;b++)o={},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l).animate(s,c,l),u=f?u*2:u/2;f&&(o={opacity:0},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l)),r.queue(function(){f&&r.hide(),n.effects.restore(r,v),n.effects.removeWrapper(r),i()}),g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.clip=function(t,i){var r=n(this),h=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),f=v==="show",y=t.direction||"vertical",c=y==="vertical",o=c?"height":"width",l=c?"top":"left",s={},a,u,e;n.effects.save(r,h),r.show(),a=n.effects.createWrapper(r).css({overflow:"hidden"}),u=r[0].tagName==="IMG"?a:r,e=u[o](),f&&(u.css(o,0),u.css(l,e/2)),s[o]=f?e:0,s[l]=f?0:e/2,u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f||r.hide(),n.effects.restore(r,h),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.drop=function(t,i){var r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e=c==="show",u=t.direction||"left",o=u==="up"||u==="down"?"top":"left",s=u==="up"||u==="left"?"pos":"neg",l={opacity:e?1:0},f;n.effects.save(r,h),r.show(),n.effects.createWrapper(r),f=t.distance||r[o==="top"?"outerHeight":"outerWidth"](!0)/2,e&&r.css("opacity",0).css(o,s==="pos"?-f:f),l[o]=(e?s==="pos"?"+=":"-=":s==="pos"?"-=":"+=")+f,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c==="hide"&&r.hide(),n.effects.restore(r,h),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.explode=function(t,i){function b(){l.push(this),l.length===o*c&&k()}function k(){r.css({visibility:"visible"}),n(l).remove(),u||r.hide(),i()}for(var o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),d=n.effects.setMode(r,t.mode||"hide"),u=d==="show",w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),l=[],f,a,v,y,p,e=0;e<o;e++)for(v=w.top+e*h,p=e-(o-1)/2,f=0;f<c;f++)a=w.left+f*s,y=f-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-f*s,top:-e*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:a+(u?y*s:0),top:v+(u?p*h:0),opacity:u?0:1}).animate({left:a+(u?0:y*s),top:v+(u?0:p*h),opacity:u?1:0},t.duration||500,t.easing,b)}}(jQuery),function(n){n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(n){n.effects.effect.fold=function(t,i){var r=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(r,t.mode||"hide"),e=h==="show",c=h==="hide",f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=e!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,u,o,w={},b={};n.effects.save(r,s),r.show(),u=n.effects.createWrapper(r).css({overflow:"hidden"}),o=v?[u.width(),u.height()]:[u.height(),u.width()],l&&(f=parseInt(l[1],10)/100*o[c?0:1]),e&&u.css(a?{height:0,width:f}:{height:f,width:0}),w[y[0]]=e?o[0]:f,b[y[1]]=e?o[1]:0,u.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&r.hide(),n.effects.restore(r,s),n.effects.removeWrapper(r),i()})}}(jQuery),function(n){n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};f==="hide"&&(e.opacity=0),n.effects.save(r,u),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f==="hide"&&r.hide(),n.effects.restore(r,u),i()}})}}(jQuery),function(n){n.effects.effect.pulsate=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"show"),h=e==="show",a=e==="hide",v=h||e==="hide",o=(t.times||5)*2+(v?1:0),c=t.duration/o,u=0,f=r.queue(),l=f.length,s;for((h||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),s=1;s<o;s++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing),r.queue(function(){a&&r.hide(),i()}),l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,o+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.puff=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"hide"),o=e==="hide",s=parseInt(t.percent,10)||150,f=s/100,u={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:e,complete:i,percent:o?s:100,from:o?u:{height:u.height*f,width:u.width*f,outerHeight:u.outerHeight*f,outerWidth:u.outerWidth*f}}),r.effect(t)},n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:f==="hide"?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:h!=="horizontal"?s/100:1,x:h!=="vertical"?s/100:1};r.effect="size",r.queue=!1,r.complete=i,f!=="effect"&&(r.origin=c||["middle","center"],r.restore=!0),r.from=t.from||(f==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:e),r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x},r.fade&&(f==="show"&&(r.from.opacity=0,r.to.opacity=1),f==="hide"&&(r.from.opacity=1,r.to.opacity=0)),u.effect(r)},n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],k=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||h!=="effect",c=t.scale||"both",b=t.origin||["middle","center"],d=r.css("position"),s=y?w:k,p={height:0,width:0,outerHeight:0,outerWidth:0};h==="show"&&r.show(),f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},t.mode==="toggle"&&h==="show"?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||(h==="show"?p:f),r.to=t.to||(h==="hide"?p:f)),u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}},(c==="box"||c==="both")&&(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to))),(c==="content"||c==="both")&&u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to)),n.effects.save(r,s),r.show(),n.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x),r.css(r.from),(c==="content"||c==="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};y&&n.effects.save(i,a),i.from={height:r.height*u.from.y,width:r.width*u.from.x,outerHeight:r.outerHeight*u.from.y,outerWidth:r.outerWidth*u.from.x},i.to={height:r.height*u.to.y,width:r.width*u.to.x,outerHeight:r.height*u.to.y,outerWidth:r.width*u.to.x},u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to)),u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){r.to.opacity===0&&r.css("opacity",r.from.opacity),h==="hide"&&r.hide(),n.effects.restore(r,s),y||(d==="static"?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return i==="auto"?u+"px":f+u+"px"})})),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.shake=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",o=t.distance||20,y=t.times||3,p=y*2+1,u=Math.round(t.duration/p),s=f==="up"||f==="down"?"top":"left",h=f==="up"||f==="left",c={},l={},w={},a,e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),c[s]=(h?"-=":"+=")+o,l[s]=(h?"+=":"-=")+o*2,w[s]=(h?"-=":"+=")+o*2,r.animate(c,u,t.easing),a=1;a<y;a++)r.animate(l,u,t.easing).animate(w,u,t.easing);r.animate(l,u,t.easing).animate(c,u/2,t.easing).queue(function(){k==="hide"&&r.hide(),n.effects.restore(r,v),n.effects.removeWrapper(r),i()}),b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.slide=function(t,i){var r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c=h==="show",f=t.direction||"left",e=f==="up"||f==="down"?"top":"left",o=f==="up"||f==="left",u,l={};n.effects.save(r,s),r.show(),u=t.distance||r[e==="top"?"outerHeight":"outerWidth"](!0),n.effects.createWrapper(r).css({overflow:"hidden"}),c&&r.css(e,o?isNaN(u)?"-"+u:-u:u),l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){h==="hide"&&r.hide(),n.effects.restore(r,s),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f=r.css("position")==="fixed",e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove(),i()})}}(jQuery),function(n){n.extend(n.fn,{validate:function(t){if(this.length){var i=n.data(this[0],"validator");return i?i:(i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function r(){if(i.settings.submitHandler){if(i.submitButton)var t=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t),r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],e;if(t){var u=n.data(r.form,"validator").settings,o=u.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i)),o[r.name]=f,i.messages&&(u.messages[r.name]=n.extend(u.messages[r.name],i.messages));break;case"remove":return i?(e={},n.each(i.split(/\s/),function(n,t){e[t]=f[t],delete f[t]}),e):(delete o[r.name],f)}}return r=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),r.required&&(u=r.required,delete r.required,r=n.extend({required:u},r)),r}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return arguments.length==1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(RegExp("\\{"+n+"\\}","g"),i)}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n){(n.name in this.submitted||n==this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var i=n.data(this[0].form,"validator");t="on"+t.type.replace(/^validate/,""),i.settings[t]&&i.settings[t].call(i,this[0])}var r,t;this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),r=this.groups={},n.each(this.settings.groups,function(t,i){n.each(i.split(/\s/),function(n,i){r[i]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",i).validateDelegate(":radio, :checkbox, select, option","click",i),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){this.lastElement=t=this.clean(t),this.prepareElement(t),this.currentElements=n(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name==t.name}).length==1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:i[this.name]=!0})},clean:function(t){return n(t)[0]},errors:function(){return n(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},check:function(t){var i,r,u,f,e;t=this.clean(t),this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),i=n(t).rules(),r=!1;for(u in i){f={method:u,parameters:i[u]};try{if(e=n.validator.methods[u].call(this,t.value.replace(/\r/g,""),t,f.parameters),e=="dependency-mismatch")r=!0;else{if(r=!1,e=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!e)return this.formatAndAdd(t,f),!1}}catch(o){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+f.method+"' method",o);throw o;}}if(!r)return this.objectLength(i)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(n.metadata){var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]}},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t.method),r=/\$?\{(\d+)\}/g;typeof i=="function"?i=i.call(this,t.parameters,n):r.test(i)&&(i=jQuery.format(i.replace(r,"{$1}"),t.parameters)),this.errorList.push({message:i,element:n}),this.errorMap[n.name]=i,this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,t=this.validElements();t[n];n++)this.settings.unhighlight.call(this,t[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass().addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")==i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){var i=this.currentForm;return n(document.getElementsByName(t)).map(function(n,r){return r.form==i&&r.name==t&&r||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){return!n.validator.methods.required.call(this,n.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest==0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={};return(t=n(t).attr("class"))&&n.each(t.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={},r,u;t=n(t);for(r in n.validator.methods)u=t.attr(r),u&&(i[r]=u);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)delete t[r];else if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=r!=undefined?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":return(t=n(i).val())&&t.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return n.trim(t).length>0}},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,this.pending[i.name])?"pending":f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var o,e;u.settings.messages[i.name].remote=f.originalMessage,o=r===!0,o?(e=u.formSubmitted,u.prepareElement(i),u.formSubmitted=e,u.successList.push(i),u.showErrors()):(e={},r=r||u.defaultMessage(i,"remote"),e[i.name]=f.message=n.isFunction(r)?r(t):r,u.showErrors(e)),f.valid=o,u.stopRequest(i,o)}},r)),"pending")},minlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)>=r},maxlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)<=r},rangelength:function(t,i,r){return t=this.getLength(n.trim(t),i),this.optional(i)||t>=r[0]&&t<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r;if(this.optional(t))return"dependency-mismatch";if(/[^0-9-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)i=n.charAt(r),i=parseInt(i,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},accept:function(n,t,i){return i=typeof i=="string"?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(RegExp(".("+i+")$","i"))},equalTo:function(t,i,r){return r=n(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t==r.val()}}}),n.format=n.validator.format}(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){i=n.port,n.mode=="abort"&&(t[i]&&t[i].abort(),t[i]=r)}):(i=n.ajax,n.ajax=function(r){var u=("port"in r?r:n.ajaxSettings).port;return("mode"in r?r:n.ajaxSettings).mode=="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||n.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=n.event.fix(t),t.type=i,n.event.handle.call(this,t)}n.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=n.event.fix(t),arguments[0].type=i,n.event.handle.apply(this,arguments)}}}),n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),function(n){function i(n,t,i){n.rules[t]=i,n.message&&(n.messages[t]=n.message)}function a(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function h(n){return n.substr(0,n.lastIndexOf(".")+1)}function c(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function v(t,i){var r,e,u;(!i.is("input[type='hidden']")||i.data("force-validation"))&&(r=n(this).find("[data-valmsg-for='"+i[0].name+"']"),e=n.parseJSON(r.attr("data-valmsg-replace"))!==!1,r.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",r),i.hasClass("input-validation-error")&&(u=i.closest("[data-validation-placeholder]"),i.trigger("validator.onError"),f(u,"b-form-elem-validating"),e?r.empty():t.hide(),o(u,function(){e&&t.removeClass("input-validation-error").appendTo(r),f(u,"b-form-elem-invalid")})))}function y(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function p(t){var u=n("#"+t.attr("for")),i,s,r,e,h;(!u.is("input[type='hidden']")||u.data("force-validation"))&&((i=t.data("unobtrusiveContainer"),i&&(s=n.parseJSON(i.attr("data-valmsg-replace"))),r=u.closest("[data-validation-placeholder]"),u.trigger("validator.onSuccess"),e=!1,r.find(".input-validation-error").each(function(){var t=n(this);return t[0]!=u[0]?(e=!0,!1):!0}),e)||(h=r.data("animation-off"),h||f(r,"b-form-elem-validating"),o(r,function(){i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),s&&i.empty()),f(r,"b-form-elem-valid")})))}function w(t){$element=n(t),n.removeData($element[0],"sanitized"),$element.trigger("validator.onFocusIn"),r(t)}function b(t){var u=n(t),e=u.data("group-name"),f,r,i;if(e)for(f=u.closest("form").find("[data-group-name='"+e+"']"),r=0;r<f.length;r++)if(n(f[r]).val()==="")return;u.sanitize()!=""&&(i=n.data(this,"validator"),!i.checkable(t)&&(t.name in i.submitted||!i.optional(t))&&i.element(t))}function r(t,i,r){var s=n(t),o=s[0],h=n(s[0].form),e=h.find("[data-valmsg-for='"+o.name+"']"),l=n.parseJSON(e.attr("data-valmsg-replace"))!==!1,c=s.closest("[data-validation-placeholder]"),u;clearTimeout(c.data("val-timer")),f(c,i),u=n.data(h[0],"validator"),u.lastActive=o,i!="b-form-elem-invalid"?(e&&(e.addClass("field-validation-valid").removeClass("field-validation-error"),l&&e.empty()),u.settings.unhighlight&&u.settings.unhighlight.call(u,o,u.settings.errorClass,u.settings.validClass)):(e&&(e.removeClass("field-validation-valid").addClass("field-validation-error"),r&&(e.empty(),n("<span generated='true' htmlFor='"+o.id+"'>"+r+"<\/span>").appendTo(e))),u.settings.highlight&&u.settings.highlight.call(u,o,u.settings.errorClass,u.settings.validClass)),u.addWrapper(u.errorsFor(o)).hide()}function f(n,t){var i=n.is("[data-validation-placeholder]")?n:n.closest("[data-validation-placeholder]");i.removeClass("b-form-elem-invalid").removeClass("b-form-elem-valid").removeClass("b-form-elem-validating"),t&&i.addClass(t)}function o(n,t){n.is("[data-validation-placeholder]")||(n=n.closest("[data-validation-placeholder]"));var i=n.data("val-timer");i&&clearTimeout(i),n.data("val-timer",setTimeout(t,450))}function l(t){var i=n(t),r=i.data(s);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(v,t),invalidHandler:n.proxy(y,t),success:n.proxy(p,t),onfocusin:n.proxy(w,t),onfocusout:n.proxy(b,t),messages:{},rules:{},sanitrules:{}},attachValidation:function(){i.validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(s,r)),r}function k(n){var t=/[.]/.exec(n)?/[^.]+$/.exec(n):undefined;return t!=undefined?t[0]:t}function e(n,t,i){n.sanitrules[t]=i}var u=n.validator,t,s="unobtrusiveValidation";u.setDefaults({sanitrules:{}}),n.extend(n.fn,{sanitizerules:function(){var t=this[0],i=n.data(t.form,"validator");return i.settings.sanitrules[t.name]},sanitize:function(){if(!n(this[0]).is("form")){var i=n(this[0].form).validate(),t;return this.each(function(){t=i.sanitize(this)}),t}}}),n.fn.clearError=function(){var t=n(this),i=n("[data-valmsg-for='"+this[0].name+"']");return i.empty().removeClass("field-validation-error").addClass("field-validation-valid"),t.removeClass("input-validation-error").addClass("input-validation-valid"),t},n.extend(!0,n.validator,{prototype:{clean:function(t){var i=n(t);return i.sanitize(),i[0]},sanitize:function(t){var r=n(t),i,f,u,e;if(t=r[0],i=r.val(),n.data(t,"sanitized")===!0)return i;f=r.sanitizerules();for(u in f){e={method:u,parameters:f[u]};try{i=n.validator.methods[u].call(this,i,t,e.parameters)}catch(o){this.settings.debug&&window.console&&console.log("exception occured when sanitize element "+t.id+", sanitize the '"+e.method+"' method",o);throw o;}}return n.data(t,"sanitized",!0),r.val(i),i}}}),n.fn.setValidationState=function(t,i){for(var u,f=0;f<this.length;f++)if(u=n(this[f]),t)switch(t.toLowerCase()){case"clear":r(u);break;case"error":r(u,"b-form-elem-invalid",i);break;case"error-spinner":r(u,"b-form-elem-validating"),o(u,function(){r(u,"b-form-elem-invalid",i)});break;case"success":r(u,"b-form-elem-valid");break;case"success-spinner":r(u,"b-form-elem-validating"),o(u,function(){r(u,"b-form-elem-valid")});break;case"validating":r(u,"b-form-elem-validating")}},u.unobtrusive={adapters:[],parseElement:function(t,i){var r=n(t),f=r.parents("form")[0],u,e,s,o;f&&(u=l(f),u.options.rules[t.name]=e={},u.options.messages[t.name]=s={},u.options.sanitrules[t.name]=o={},n.each(this.adapters,function(){var u="data-val-"+this.name,l="data-sanitize",h=r.attr(u),i={},c;h!==undefined&&(u+="-",n.each(this.params,function(){i[this]=r.attr(u+this)}),this.adapt({element:t,form:f,message:h,params:i,rules:e,messages:s})),r.attr(l)==this.name&&(c="data-sanit-",n.each(this.params,function(){i[this]=r.attr(c+this)}),this.adapt({element:t,form:f,params:i,sanitrules:o}))}),n.extend(e,{__dummy__:!0}),n.extend(o,{__sanitdummy__:!0}),i||u.attachValidation())},parse:function(t){n(t).find(":input[data-val=true]").each(function(){u.unobtrusive.parseElement(this,!0)}),n("form").each(function(){var n=l(this);n&&n.attachValidation()})}},t=u.unobtrusive.adapters,t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this},t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})},t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})},t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})},u.addMethod("__dummy__",function(){return!0}),u.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)}),t.addSingleVal("accept","exts").addSingleVal("regex","pattern"),t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),t.add("equalto",["other"],function(t){var r=h(t.element.name),u=t.params.other,f=c(u,r),e=n(t.form).find(":input[name="+f+"]")[0];i(t,"equalTo",e)}),t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)}),t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=h(t.element.name);n.each(a(t.params.additionalfields||t.element.name),function(i,f){var e=c(f,u);r.data[e]=function(){return n(t.form).find(":input[name='"+e+"']").val()}}),i(t,"remote",r)}),n.extend(n.validator.methods,{alwaysvalid:function(){return!0},requiredif:function(t,i,r){var o=n(i),s=n.trim(o.val()),u=n("#"+r.other),f,e;return u.length==0&&(u=n('[name$=".'+r.other+'"]')),f=u.attr("type").toUpperCase()=="CHECKBOX"?u.attr("checked")?"true":"false":u.val().toLowerCase(),e=r.comp=="isequalto"?f==r.value:f!=r.value,!e||s!=""},regexif:function(t,i,r){var s=n(i),e=n.trim(s.val()),h=new RegExp(r.regex,""),u=n("#"+r.other),f,o;return(u.length==0&&(u=n('[name$=".'+r.other+'"]')),f=u.attr("type").toUpperCase()=="CHECKBOX"?u.attr("checked")?"true":"false":u.val().toLowerCase(),o=r.comp=="isequalto"?f==r.value:f!=r.value,e=="")?!0:!o||h.test(e)},regexifelse:function(t,i,r){var s=n(i),e=n.trim(s.val()),h=new RegExp(r.regexiftrue,""),c=new RegExp(r.regexiffalse,""),u=n("#"+r.other),f,o;return u.length==0&&(u=n('[name$=".'+r.other+'"]')),f=u.attr("type").toUpperCase()=="CHECKBOX"?u.attr("checked")?"true":"false":u.val().toLowerCase(),o=r.comp=="isequalto"?f==r.value:f!=r.value,o?h.test(e):c.test(e)},fileextensions:function(t){var u=k(t);return n.inArray(u,param.fileextensions)!==-1},translatetolatin:function(t,i,r){var f=n(i),u=n.trim(f.val()),e=new RegExp(r.regex,"");return u==""?!0:e.test(u)?!0:(u.translit&&(f.trigger("validator.translatetolatinn"),u=u.translit(),f.val(u)),e.test(u),!0)},phoneifelsevalid:function(t,i,r){var s=n(i),e=n.trim(s.val()),h=/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?([0-9]{3})[\-. ]?([0-9]{4})$/m,u,f,o;return e==""?!0:(u=n("#"+r.other),u.length==0&&(u=n('[name$=".'+r.other+'"]')),f=u.val().toLowerCase(),o=r.comp=="isequalto"?f==r.value:f!=r.value,!o||h.test(e))},customcreditcard:function(t,i){var f=n(i),e=n.trim(f.val()),u=f.cardNumberValidator("valid");return u.card_type!=null&&u.luhn_valid&&u.length_valid},custommnogorucard:function(t,i){var f=n(i),e=n.trim(f.val()),u=f.cardNumberValidator("valid");return u.card_type!=null&&u.luhn_valid&&u.length_valid},monthyearrequired:function(t,i,r){var u=n(i).closest("form"),f=u.find('[name$=".'+r.monthfield+'"]'),e=u.find('[name$=".'+r.yearfield+'"]');return f.val()!=""&&e.val()!=""},monthyearinfuture:function(t,i,r){var o=n(i).closest("form"),c=o.find('[name$=".'+r.monthfield+'"]'),u=o.find('[name$=".'+r.yearfield+'"]'),l=o.find(".js-checkin").data("checkin"),a=new Date,w=a.getMonth()+1,v=a.getFullYear(),f=!1,e,s,y,p,h;return l?(e=l.split("_"),e.length==2&&(s=parseInt(e[0],10),y=parseInt(e[1],10),f=u.val()>=s&&u.val()!=s||c.val()>=y)):f=u.val()>=v&&u.val()!=v||c.val()>=w,f||(p=new RegExp("("+r.monthfield+"|"+r.yearfield+")","ig"),h=this,this.successList=n.grep(h.successList,function(n){return n.name.match(p)?(h.errorList.push({message:"",element:n}),!1):!0})),f}}),t.addBool("mandatory","required"),t.addBool("customcreditcard"),t.add("alwaysvalid",[],function(n){i(n,"alwaysvalid",{})}),t.add("requiredif",["other","comp","value"],function(n){i(n,"requiredif",{other:n.params.other,comp:n.params.comp,value:n.params.value})}),t.add("regexif",["regex","other","comp","value"],function(n){i(n,"regexif",{regex:n.params.regex,other:n.params.other,comp:n.params.comp,value:n.params.value})}),t.add("regexifelse",["regexiftrue","regexiffalse","other","comp","value"],function(n){i(n,"regexifelse",{regexiftrue:n.params.regexiftrue,regexiffalse:n.params.regexiffalse,other:n.params.other,comp:n.params.comp,value:n.params.value})}),t.add("fileextensions",["fileextensions"],function(n){i(n,"fileextensions",{fileextensions:n.params.fileextensions.split(",")})}),t.add("translatetolatin",["regex","other","comp","value","transmsg","translate","discard"],function(n){i(n,"translatetolatin",{regex:n.params.regex})}),t.add("phoneifelsevalid",["other","comp","value"],function(n){i(n,"phoneifelsevalid",{other:n.params.other,comp:n.params.comp,value:n.params.value})}),t.add("monthyearrequired",["monthfield","yearfield"],function(n){i(n,"monthyearrequired",{monthfield:n.params.monthfield,yearfield:n.params.yearfield})}),t.add("monthyearinfuture",["monthfield","yearfield"],function(n){i(n,"monthyearinfuture",{monthfield:n.params.monthfield,yearfield:n.params.yearfield})}),n.extend(n.validator.methods,{__sanitdummy__:function(n){return n},firstlastname:function(n){var i=/[^a-z-\s\-']/ig;return n.replace(i,"")},phonenumber:function(t,i){var r=n(i).data("phoneNumber"),u;return r?r.toPhoneNumber():(u=/[^0-9\s\+\-\#\(\)\.]/ig,t.replace(u,""))},sanitizetext:function(n){var i=/<\/?[a-z][a-z0-9]*[^<>]*>/ig;return n.replace(i,"")},creditcardnumber:function(n){var i=/[^0-9]/ig,r=/^([0-9]{4})([0-9]{4})([0-9]{4})([0-9]{3,4})/mg;return n.replace(i,"").replace(r,"$1 $2 $3 $4")},custommnogorucard:function(t,i){var r=n(i).data("mnogoruCard"),u;return r?r.toMnogoruCard():(u=/\D+/ig,t.replace(u,""))}}),t.add("firstlastname",[],function(n){e(n,"firstlastname",{})}),t.add("phonenumber",[],function(n){e(n,"phonenumber",{})}),t.add("sanitizetext",[],function(n){e(n,"sanitizetext",{})}),t.add("creditcardnumber",[],function(n){e(n,"creditcardnumber",{})}),t.add("custommnogorucard",[],function(n){e(n,"custommnogorucard",{})}),n(function(){u.unobtrusive.parse(document)})}(jQuery);var OK=OK||{};OK.namespace=function(n){var t=n.split("."),r=OK,i;for(t[0]==="OK"&&(t=t.slice(1)),i=0;i<t.length;i++)typeof r[t[i]]=="undefined"&&(r[t[i]]={}),r=r[t[i]];return r},function(n){"use strict";n.formatAmountWithoutFloat=function(n){var t=0;return isNaN(n)||(t=Number(n.toFixed(0))+"",n>t&&t++,t=t+"",t.length>3&&(t=t.substring(0,t.length-3)+""+t.substring(t.length-3))),t},n.formatAmount=function(n){var t=n+"",u=t.indexOf(".")>-1?".":",",r=t.split(u),i;return t=r[0],isNaN(n)||(t=t+"",t.length>3&&(t=t.substring(0,t.length-3)+""+t.substring(t.length-3))),r.length>1?(i=r[1],r[1].length>2&&(i=r[1].substring(0,3),i=Math.round(Number(i)/10)),i+="",i.length===1&&(i+="0")):i="00",t="<span class='rub'>"+t+"<\/span><span class='kop'>,"+i+"<\/span>"},n.declOfNum=function(n,t){var i=[2,0,1,1,1,2];return t[n%100>4&&n%100<20?2:i[Math.min(n%10,5)]]},n.SearchHelper=function(n){var t=this;this.destinationId,this.checkIn,this.checkOut,this.ticket,this.rooms,this.destination,this.hotelId,this.getQueryString=function(){var n="",e,u,o,f;if(n=r(i.checkIn,s(t.checkIn),n),n=r(i.checkOut,s(t.checkOut),n),n=r(i.destinationId,t.destinationId,n),n=r(i.ticket,t.ticket,n),n=r(i.hotelId,t.hotelId,n),t.destination!=undefined&&t.destination!=""&&(e=encodeURIComponent(t.destination),e=e.replace(/%/g,"_"),n=r(i.destination,e,n)),u="",t.rooms!=null&&t.rooms.length>0){for(o in t.rooms)f=t.rooms[o],u.length>0&&(u+=";"),u+=f.adultsCount.toString(),f.childrenAges!=undefined&&f.childrenAges.length>0&&(u+="."+f.childrenAges.join("."));n=r(i.occupancy,u,n)}return n},this.getOldQueryString=function(){var n="",a,c,i,u,o,h,y,l;n=r(f.checkIn,s(t.checkIn),n),n=r(f.checkOut,s(t.checkOut),n),n=r(f.destinationId,t.destinationId,n),n=r(f.ticket,t.ticket,n),n=r(f.hotelId,t.hotelId,n);for(a in e)n=r(a,e[a],n);if(t.destination!=undefined&&t.destination!=""&&(c=encodeURIComponent(t.destination),c=c.replace(/%/g,"_"),n=r(f.destination,c,n)),i="",t.rooms!=null&&t.rooms.length>0){for(u=0;u<t.rooms.length;u++){for(o=t.rooms[u],h=0,y=0;y<o.adultsCount;y++)i.length>0&&(i+="&"),i+=v(u,h,31,!1),h++;if(o.childrenAges!=undefined&&o.childrenAges.length>0)for(l=0;l<o.childrenAges.length;l++)i+="&",i+=v(u,h,o.childrenAges[l],!0),h++}n.length>0&&(n+="&"),n+=i}return n},this.parseQueryString=function(n){h=n,l()};var f={destinationId:"destinationid",checkIn:"checkindate",checkOut:"checkoutdate",ticket:"ticket",destination:"destination",hotelId:"hotelid"},i={destinationId:"destid",checkIn:"in",checkOut:"out",ticket:"tckt",destination:"dest",occupancy:"occ",hotelId:"hid"},h=n,e=[];e.language="ru",e.product="Hotel";var c="dd.mm.yyyy",l=function(){if(h!=undefined){var n=getQueryStringVars(h);y(n)?p(n):w(n)}},r=function(n,t,i){return t!=undefined&&t!=null&&t!=""&&(i.length>0&&(i+="&"),i+=n+"="+t),i},y=function(n){for(var t in n)if(t==i.destinationId||t==i.checkIn||t==i.checkOut||t==i.ticket||t==i.destination||t==i.occupancy||t==i.hotelId)return!0;return!1},p=function(n){var r,f,e;t.destinationId=u(n,i.destinationId),r=u(n,i.checkIn),t.checkIn=o(r),r=u(n,i.checkOut),t.checkOut=o(r),t.ticket=u(n,i.ticket),t.hotelId=u(n,i.hotelId),f=u(n,i.destination),t.destination=a(f),e=u(n,i.occupancy),k(e)},w=function(n){var i,r;t.destinationId=u(n,f.destinationId),i=u(n,f.checkIn),t.checkIn=o(i),i=u(n,f.checkOut),t.checkOut=o(i),t.ticket=u(n,f.ticket),t.hotelId=u(n,f.hotelId),r=u(n,f.destination),t.destination=a(r),b(n)},a=function(n){return n!=""&&(n=n.replace(/_([0-9a-f][0-9a-f])/ig,"%$1"),n.indexOf("<")==-1&&n.indexOf("%3C")==-1)?decodeURIComponent(n):""},u=function(n,t){var i=n[t];if(i!=undefined)if($.isArray(i))throw"Each key should appear only once";else return i;return""},b=function(n){var r=[],f,e,i,u,s,o,h;for(f in n)f.indexOf("room_")==0&&(e=f.split("_"),i=parseInt(e[1]),r[i]==undefined&&(r[i]=[]),u=parseInt(e[3]),r[i][u]==undefined&&(r[i][u]=[]),e[4]==="ischild"&&(r[i][u][0]=n[f].toLowerCase()),e[4]==="age"&&(r[i][u][1]=n[f]));t.rooms=[];for(i in r){s=r[i],o={adultsCount:0,childrenAges:[]};for(u in s)h=s[u],h[0]==="true"?o.childrenAges.push(parseInt(h[1])):o.adultsCount++;t.rooms.push(o)}},k=function(n){var i,f;if(t.rooms=[],n!=undefined&&n!=""){i=n.split(";");for(f in i){var e=i[f],r={adultsCount:0,childrenAges:[]},u=e.split(".");r.adultsCount=parseInt(u[0]),u.splice(0,1),r.childrenAges=u,t.rooms.push(r)}}},o=function(n){if(n!=null&&n!="")try{return $.datepick.parseDate(c,n)}catch(t){return null}return null},s=function(n){if(n!=null)try{return $.datepick.formatDate(c,n)}catch(t){return""}return""},v=function(n,t,i,r){var u="room_"+n.toString()+"_guest_"+t.toString()+"_";return u+"age="+i+"&"+u+"ischild="+r};l()},n.getQueryStringVars=function(n){for(var t=[],r,f=n.slice(n.indexOf("?")+1).split("&"),i,u=0;u<f.length;u++)r=f[u].split("="),i=r[0].toLowerCase(),t[i]!=undefined?(t[i]=[t[i]],t[i].push(r[1])):t[i]=r[1];return t},$.fn.wval=function(n){var t=$(this);return n!==undefined||n==""?(n==""?(t.show().val(n),t.prev("span:first").show()):(t.prev("span:first").hide(),t.show().val(n)),t):t.val()}}(OK.namespace("general")),function(n,t){"use strict";function e(n){t.each(i,function(t,i){n&&n[0]==i[0]||i.trigger("change.button")})}function o(n){u.each(function(u,f){var s=t(f),c=s.attr("for"),h,o;c&&(h=typeof n.change=="function"?n.change:undefined,o=t("#"+c,r),i.push(o),o.bind("change.button",function(n){var i=t(this);i.attr("checked")?(s.addClass("pressed"),h&&h.call(this),e(t(this))):s.removeClass("pressed"),n.stopPropagation()}),s.click(function(){o.prop("checked",!0),o.trigger("change.button")}),o.attr("checked")&&o.trigger("change.button"))})}var f,r,u,i;n.SegmentButtons=function(n,e){(f=this,i=[],n.length!=0)&&(r=n,u=t(".js-button-label",n),o(e),typeof e.initialized=="function"&&e.initialized.call(t("input:checked",n)[0]))}}(OK.namespace("controls"),jQuery),function(n,t,i){var u,s=function(){var r=this.id,n=i(".js-block-login"),t;i("[data-viewName]",n).hide(),t=n.find("[data-viewName="+r+"]"),t.show()},h=function(){new n.SegmentButtons(i(".js-login-switch"),{initialized:s,change:s})},f=function(n){var t=n?i().unbind:i().bind,r=i(".js-block-login"),u=i(".js-login");t.call(r.find("input"),"keypress",w),t.call(i(document),"click",p),t.call(r,"click",c),t.call(i("#auth"),"click",c),t.call(i(".js-navToReservation"),"click",k),t.call(u,"click",a)},e=function(){var n,t=i(this);return f(),n=i(".js-block-login"),n.show(),!1},p=function(n){var t=i(".js-block-login");return t.hide(),t.find(".dialog-content").qtip("hide"),f(!0),n.stopPropagation(),!1},c=function(n){n.stopPropagation()},w=function(n){if(n.keyCode=="13")return a(n),!1},l=function(n){for(var o={},u,r,f,e,t=0;t<n.errorList.length;t++)if(u=n.errorList[t].message,r=n.errorList[t].element.name,n.settings.messages[r]){f=n.settings.messages[r];for(e in f)f[e]==u&&(o[r+"."+e]={message:u,element:i(n.errorList[t].element)})}return o},b=function(){i.validator.unobtrusive.parse(u.find("form"))},r=function(n,i,r){t.show(n,i,{content:{text:r},position:{container:n.parents(".dialog-content")}})},a=function(n){var a=i(".js-login"),s,h,c,p;if(!a.data("isDisabled")){if(s=i(".b-form-login"),n.preventDefault(),s.valid())t.remove(s),v(a),i.ajax({url:a.attr("data-login-url"),data:s.serialize(),dataType:"jsonp",success:function(n){if(n.Status==0){if(n.ShouldRefresh){document.location.reload();return}i(".js-show-login").unbind("click",e),u.html(n.Html),i(".js-logout").bind("click",o),f(!0)}else n.Errors&&r(s,s.find(".js-anchor"),n.Errors[0])},error:function(n){alert("Error sending data:\nCode: "+n.status+"\nText: "+n.statusText+"\nResponse: "+n.responseText)},complete:function(){y(a)}});else if(h=l(s.validate()),h["Login.required"]&&h["Password.required"])c=s.find(".js-val-allrequired").text(),r(s,s.find(".js-anchor"),c);else if(h["Login.regex"])c=h["Login.regex"].message,r(s,h["Login.regex"].element,c);else for(p in h)if(h.hasOwnProperty(p)){c=h[p].message,r(s,h[p].element,c);break}return!1}},v=function(n){$buttonContainer=n.parents(".b-button"),n.data("text",n.text()),n.data("isDisabled",!0),n.text(n.data("disabled")),$buttonContainer.addClass("diabled")},y=function(n){$buttonContainer=n.parents(".b-button"),n.text(n.data("text")),n.data("isDisabled",!1),$buttonContainer.removeClass("diabled")},k=function(n){var o=i(".js-navToReservation"),u,f,e,s;if(!o.data("isDisabled"))if(u=i(".b-form-checkReservation"),n.preventDefault(),u.valid())t.remove(u),v(o),i.ajax({url:o.attr("data-login-url"),data:u.serialize(),dataType:"jsonp",success:function(n){n.isRedirect?window.location=n.redirectUrl:n.Status!=0&&n.Errors&&r(u,u.find(".js-anchor"),n.Errors[0])},error:function(n){alert("Error sending data:\nCode: "+n.status+"\nText: "+n.statusText+"\nResponse: "+n.responseText)},complete:function(){y(o)}});else if(f=l(u.validate()),f["Login.required"]&&f["ReservationNumber.required"])e=u.find(".js-val-allrequired").text(),r(u,u.find(".js-anchor"),e);else if(f["Login.regex"])e=f["Login.regex"].message,r(u,f["Login.regex"].element,e);else for(s in f)if(f.hasOwnProperty(s)){e=f[s].message,r(u,f[s].element,e);break}},o=function(n){return n.preventDefault(),i(".js-logout").addClass("spinner"),i.ajax({type:"POST",global:!1,url:i(".js-logout").attr("data-logoff-url"),data:"",dataType:"json",success:function(n){if(n.Status==0){if(n.ShouldRefresh){window.location.reload();return}i(".js-logout").unbind("click",o),u.html(n.Html),i(".js-show-login").bind("click",e),b(),i(".jq_watermark").watermark(),h()}},error:function(n){alert("Error sending data:\ncode: "+n.status+"\nText: "+n.statusText+"\nResponse: "+n.responseText)}}),!1};u=i(".js-login-container"),i(".js-show-login").bind("click",e),h(),i(".js-logout").bind("click",o)}(OK.namespace("controls"),OK.namespace("tools.tooltip"),jQuery),function(n){n.GA_TrackEvent=function(n,t,i,r,u){if(typeof isTrackingEnabled!="undefined"&&isTrackingEnabled)try{_gaq.push(["_trackEvent",n,t,i,r,u])}catch(f){}},n.OA_TrackAction=function(){}}(OK.namespace("tools.tracking"),jQuery),function(n,t){n.show=function(n,i,r){if(n&&r){var u={position:{target:i,my:"center right",at:"center left",adjust:{x:-4}},show:{effect:!1,event:!1,ready:!0},hide:!1,style:{classes:"qtip-qtip-2e10",tip:{height:7,width:13}}};typeof r=="string"?u.content={text:r}:t.extend(!0,u,r),n.qtip("destroy"),n.removeData("qtip").qtip(u)}},n.remove=function(n){n.qtip("destroy")}}(OK.namespace("tools.tooltip"),jQuery),function(n){var t=n.browser.msie&&n.browser.version<8,i=4;n.watermarker=function(){},n.extend(n.watermarker,{defaults:{color:"#999",left:0,top:0,fallback:!1,animDuration:0,minOpacity:0},setDefaults:function(t){n.extend(n.watermarker.defaults,t)},checkVal:function(t,i){return t.length==0?n(i).show():n(i).hide(),t.length>0},html5_support:function(){var n=document.createElement("input");return"placeholder"in n}}),n.fn.watermark=function(r,u){var u,f;if(u=n.extend(n.watermarker.defaults,u),f=this.filter("textarea, input:not(:checkbox,:radio,:file,:submit,:reset)"),!u.fallback||!n.watermarker.html5_support())return f.each(function(){var f,s,l,o,e,h,a,v,c=0,y,p;(f=n(this),f.attr("data-jq-watermark")!="processed")&&(s=f.attr("placeholder")!=undefined&&f.attr("placeholder")!=""?"placeholder":"title",l=r===undefined||r===""?n(this).attr(s):r,o=n('<span class="watermark_container"><\/span>'),e=n('<span class="watermark">'+l+"<\/span>"),s=="placeholder"&&f.removeAttr("placeholder"),o.css({display:"inline-block",position:"relative"}),t&&o.css({zoom:1,display:"inline"}),f.wrap(o).attr("data-jq-watermark","processed"),this.nodeName.toLowerCase()=="textarea"?(e_height=f.css("line-height"),e_height=e_height==="normal"?parseInt(f.css("font-size")):e_height,c=f.css("padding-top")!="auto"?parseInt(f.css("padding-top")):0):(e_height=f.outerHeight(),e_height<=0&&(e_height=f.css("padding-top")!="auto"?parseInt(f.css("padding-top")):0,e_height+=f.css("padding-bottom")!="auto"?parseInt(f.css("padding-bottom")):0,e_height+=f.css("height")!="auto"?parseInt(f.css("height")):0)),c+=f.css("margin-top")!="auto"?parseInt(f.css("margin-top")):0,h=f.css("margin-left")!="auto"?parseInt(f.css("margin-left")):0,h+=f.css("padding-left")!="auto"?parseInt(f.css("padding-left")):0,e.css({position:"absolute",display:"block",fontFamily:f.css("font-family"),color:u.color,left:i+u.left+h,top:u.top+c,height:e_height,lineHeight:e_height+"px",textAlign:"left",pointerEvents:"none"}).data("jq_watermark_element",f),n.watermarker.checkVal(f.val(),e),e.click(function(){n(n(this).data("jq_watermark_element")).trigger("focus")}),f.before(e).bind("focus.jq_watermark",function(){n(e).hide()}).bind("blur.jq_watermark change.jq_watermark",function(){n.watermarker.checkVal(n(this).val(),e)||n(e).show()}))}),this},n(document).ready(function(){n(".jq_watermark").watermark()})}(jQuery),function(n){function s(f,s){var l=f==window,h=s&&s.message!==undefined?s.message:undefined,tt,it,b,w,rt,ut,ft,lt;s=n.extend({},n.blockUI.defaults,s||{}),s.overlayCSS=n.extend({},n.blockUI.defaults.overlayCSS,s.overlayCSS||{}),tt=n.extend({},n.blockUI.defaults.css,s.css||{}),it=n.extend({},n.blockUI.defaults.themedCSS,s.themedCSS||{}),h=h===undefined?s.message:h,l&&t&&e(window,{fadeOut:0}),h&&typeof h!="string"&&(h.parentNode||h.jquery)&&(b=h.jquery?h[0]:h,b&&(w={},n(f).data("blockUI.history",w),w.el=b,w.parent=b.parentNode,w.display=b.style.display,w.position=b.style.position,w.parent&&w.parent.removeChild(b)));var k=s.baseZ,nt=n.browser.msie||s.forceIframe?n('<iframe class="blockUI" style="z-index:'+k+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+s.iframeSrc+'"><\/iframe>'):n('<div class="blockUI" style="display:none"><\/div>'),d=n('<div class="blockUI blockOverlay" style="z-index:'+k+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'),p,g;if(g=s.theme&&l?'<div class="blockUI '+s.blockMsgClass+' ui-dialog ui-widget ui-corner-all" style="z-index:'+k+';display:none;position:fixed"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+'<\/div><div class="ui-widget-content ui-dialog-content"><\/div><\/div>':s.theme?'<div class="blockUI '+s.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+k+';display:none;position:absolute"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+'<\/div><div class="ui-widget-content ui-dialog-content"><\/div><\/div>':l?'<div class="blockUI '+s.blockMsgClass+'" style="z-index:'+k+';display:none;position:fixed"><\/div>':'<div class="blockUI '+s.blockMsgClass+' blockElement" style="z-index:'+k+';display:none;position:absolute"><\/div>',p=n(g),h&&(s.theme?(p.css(it),p.addClass("ui-widget-content")):p.css(tt)),s.applyPlatformOpacityRules&&n.browser.mozilla&&/Linux/.test(navigator.platform)||d.css(s.overlayCSS),d.css("position",l?"fixed":"absolute"),(n.browser.msie||s.forceIframe)&&nt.css("opacity",0),rt=[nt,d,p],ut=l?n("body"):n(f),n.each(rt,function(){this.appendTo(ut)}),s.theme&&s.draggable&&n.fn.draggable&&p.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),ft=v&&(!n.boxModel||n("object,embed",l?null:f).length>0),o||ft){if(l&&s.allowBodyStretch&&n.boxModel&&n("html,body").css("height","100%"),(o||!n.boxModel)&&!l)var et=r(f,"borderTopWidth"),ot=r(f,"borderLeftWidth"),st=et?"(0 - "+et+")":0,ht=ot?"(0 - "+ot+")":0;n.each([nt,d,p],function(n,t){var i=t[0].style,r,u;i.position="absolute",n<2?(l?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+s.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),l?i.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),ht&&i.setExpression("left",ht),st&&i.setExpression("top",st)):s.centerY?(l&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0):!s.centerY&&l&&(r=s.css&&s.css.top?parseInt(s.css.top):0,u="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"',i.setExpression("top",u))})}if(h&&(s.theme?p.find(".ui-widget-content").append(h):p.append(h),(h.jquery||h.nodeType)&&n(h).show()),(n.browser.msie||s.forceIframe)&&s.showOverlay&&nt.show(),s.fadeIn){var ct=s.onBlock?s.onBlock:u,at=s.showOverlay&&!h?ct:u,vt=h?ct:u;s.showOverlay&&d._fadeIn(s.fadeIn,at),h&&p._fadeIn(s.fadeIn,vt)}else s.showOverlay&&d.show(),h&&p.show(),s.onBlock&&s.onBlock();c(1,f,s),l?(t=p[0],i=n(":input:enabled:visible",t),s.focusInput&&setTimeout(a,20)):y(p[0],s.centerX,s.centerY),s.timeout&&(lt=setTimeout(function(){l?n.unblockUI(s):n(f).unblock(s)},s.timeout),n(f).data("blockUI.timeout",lt))}function e(r,u){var o=r==window,e=n(r),s=e.data("blockUI.history"),l=e.data("blockUI.timeout"),f;l&&(clearTimeout(l),e.removeData("blockUI.timeout")),u=n.extend({},n.blockUI.defaults,u||{}),c(0,r,u),f=o?n("body").children().filter(".blockUI").add("body > .blockUI"):n(".blockUI",r),o&&(t=i=null),u.fadeOut?(f.fadeOut(u.fadeOut),setTimeout(function(){h(f,s,u,r)},u.fadeOut)):h(f,s,u,r)}function h(t,i,r,u){if(t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),n(u).removeData("blockUI.history")),typeof r.onUnblock=="function")r.onUnblock(u,r)}function c(i,r,u){var f=r==window,o=n(r),e;(i||(!f||t)&&(f||o.data("blockUI.isBlocked")))&&(f||o.data("blockUI.isBlocked",i),u.bindEvents&&(!i||u.showOverlay))&&(e="mousedown mouseup keydown keypress",i?n(document).bind(e,u,l):n(document).unbind(e,l))}function l(r){var e;if(r.keyCode&&r.keyCode==9&&t&&r.data.constrainTabKey){var u=i,o=!r.shiftKey&&r.target===u[u.length-1],f=r.shiftKey&&r.target===u[0];if(o||f)return setTimeout(function(){a(f)},10),!1}return(e=r.data,n(r.target).parents("div."+e.blockMsgClass).length>0)?!0:n(r.target).parents().children().filter("div.blockUI").length==0}function a(n){if(i){var t=i[n===!0?i.length-1:0];t&&t.focus()}}function y(n,t,i){var u=n.parentNode,f=n.style,e=(u.offsetWidth-n.offsetWidth)/2-r(u,"borderLeftWidth"),o=(u.offsetHeight-n.offsetHeight)/2-r(u,"borderTopWidth");t&&(f.left=e>0?e+"px":"0"),i&&(f.top=o>0?o+"px":"0")}function r(t,i){return parseInt(n.css(t,i))||0}var t,i;if(/1\.(0|1|2)\.(0|1|2)/.test(n.fn.jquery)||/^1.1/.test(n.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+n.fn.jquery);return}n.fn._fadeIn=n.fn.fadeIn;var u=function(){},f=document.documentMode||0,v=n.browser.msie&&(n.browser.version<8&&!f||f<8),o=n.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!f;n.blockUI=function(n){s(window,n)},n.unblockUI=function(n){e(window,n)},n.growlUI=function(t,i,r,u){var f=n('<div class="growlUI"><\/div>');t&&f.append("<h1>"+t+"<\/h1>"),i&&f.append("<h2>"+i+"<\/h2>"),r==undefined&&(r=3e3),n.blockUI({message:f,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:r,showOverlay:!1,onUnblock:u,css:n.blockUI.defaults.growlCSS})},n.fn.block=function(t){return this.unblock({fadeOut:0}).each(function(){n.css(this,"position")=="static"&&(this.style.position="relative"),n.browser.msie&&(this.style.zoom=1),s(this,t)})},n.fn.unblock=function(n){return this.each(function(){e(this,n)})},n.blockUI.version=2.37,n.blockUI.defaults={message:'<div class="b-wait-message"><div class="b-wait-message_title">Please wait...<\/div><\/div>',title:null,draggable:!0,theme:!1,css:{},themedCSS:{},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,applyPlatformOpacityRules:!0,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"b-wait"},t=null,i=[]}(jQuery),document.createElement("canvas").getContext||function(){function it(){return this.context_||(this.context_=new y(this))}function rt(n,t){var r=p.call(arguments,2);return function(){return n.apply(t,r.concat(p.call(arguments)))}}function ut(n){var t=n.srcElement;switch(n.propertyName){case"width":t.style.width=t.attributes.width.nodeValue+"px",t.getContext().clearRect();break;case"height":t.style.height=t.attributes.height.nodeValue+"px",t.getContext().clearRect()}}function ft(n){var t=n.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function v(){return[[1,0,0],[0,1,0],[0,0,1]]}function o(n,t){for(var e=v(),r,f,u,i=0;i<3;i++)for(r=0;r<3;r++){for(f=0,u=0;u<3;u++)f+=n[i][u]*t[u][r];e[i][r]=f}return e}function b(n,t){t.fillStyle=n.fillStyle,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.lineWidth=n.lineWidth,t.miterLimit=n.miterLimit,t.shadowBlur=n.shadowBlur,t.shadowColor=n.shadowColor,t.shadowOffsetX=n.shadowOffsetX,t.shadowOffsetY=n.shadowOffsetY,t.strokeStyle=n.strokeStyle,t.globalAlpha=n.globalAlpha,t.arcScaleX_=n.arcScaleX_,t.arcScaleY_=n.arcScaleY_,t.lineScale_=n.lineScale_}function k(n){var t,u=1,i;if(n=String(n),n.substring(0,3)=="rgb"){var f=n.indexOf("(",3),e=n.indexOf(")",f+1),r=n.substring(f+1,e).split(",");for(t="#",i=0;i<3;i++)t+=a[Number(r[i])];r.length==4&&n.substr(3,1)=="a"&&(u=r[3])}else t=n;return{color:t,alpha:u}}function et(n){switch(n){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function y(n){this.m_=v(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=i*1,this.globalAlpha=1,this.canvas=n;var t=n.ownerDocument.createElement("div");t.style.width=n.clientWidth+"px",t.style.height=n.clientHeight+"px",t.style.overflow="hidden",t.style.position="absolute",n.appendChild(t),this.element_=t,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function d(n,t,i,r){n.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:i.x,cp2y:i.y,x:r.x,y:r.y}),n.currentX_=r.x,n.currentY_=r.y}function ot(n){for(var i,t=0;t<3;t++)for(i=0;i<2;i++)if(!isFinite(n[t][i])||isNaN(n[t][i]))return!1;return!0}function s(n,t,i){if(ot(t)&&(n.m_=t,i)){var r=t[0][0]*t[1][1]-t[0][1]*t[1][0];n.lineScale_=tt(nt(r))}}function h(n){this.type_=n,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function g(){}var r=Math,t=r.round,c=r.sin,l=r.cos,nt=r.abs,tt=r.sqrt,i=10,u=i/2,p=Array.prototype.slice,w={init:function(n){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var t=n||document;t.createElement("canvas"),t.attachEvent("onreadystatechange",rt(this.init_,this,t))}},init_:function(n){var i,r,t;for(n.namespaces.g_vml_||n.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),n.namespaces.g_o_||n.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),n.styleSheets.ex_canvas_||(i=n.createStyleSheet(),i.owningElement.id="ex_canvas_",i.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"),r=n.getElementsByTagName("canvas"),t=0;t<r.length;t++)this.initElement(r[t])},initElement:function(n){if(!n.getContext){n.getContext=it,n.innerHTML="",n.attachEvent("onpropertychange",ut),n.attachEvent("onresize",ft);var t=n.attributes;t.width&&t.width.specified?n.style.width=t.width.nodeValue+"px":n.width=n.clientWidth,t.height&&t.height.specified?n.style.height=t.height.nodeValue+"px":n.height=n.clientHeight}return n}},a,f,e,n;for(w.init(),a=[],f=0;f<16;f++)for(e=0;e<16;e++)a[f*16+e]=f.toString(16)+e.toString(16);n=y.prototype,n.clearRect=function(){this.element_.innerHTML=""},n.beginPath=function(){this.currentPath_=[]},n.moveTo=function(n,t){var i=this.getCoords_(n,t);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},n.lineTo=function(n,t){var i=this.getCoords_(n,t);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},n.bezierCurveTo=function(n,t,i,r,u,f){var e=this.getCoords_(u,f),o=this.getCoords_(n,t),s=this.getCoords_(i,r);d(this,o,s,e)},n.quadraticCurveTo=function(n,t,i,r){var e=this.getCoords_(n,t),u=this.getCoords_(i,r),f={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)},o={x:f.x+(u.x-this.currentX_)/3,y:f.y+(u.y-this.currentY_)/3};d(this,f,o,u)},n.arc=function(n,t,r,f,e,o){r*=i;var p=o?"at":"wa",s=n+l(f)*r-u,w=t+c(f)*r-u,h=n+l(e)*r-u,b=t+c(e)*r-u;s!=h||o||(s+=.125);var a=this.getCoords_(n,t),v=this.getCoords_(s,w),y=this.getCoords_(h,b);this.currentPath_.push({type:p,x:a.x,y:a.y,radius:r,xStart:v.x,yStart:v.y,xEnd:y.x,yEnd:y.y})},n.rect=function(n,t,i,r){this.moveTo(n,t),this.lineTo(n+i,t),this.lineTo(n+i,t+r),this.lineTo(n,t+r),this.closePath()},n.strokeRect=function(n,t,i,r){var u=this.currentPath_;this.beginPath(),this.moveTo(n,t),this.lineTo(n+i,t),this.lineTo(n+i,t+r),this.lineTo(n,t+r),this.closePath(),this.stroke(),this.currentPath_=u},n.fillRect=function(n,t,i,r){var u=this.currentPath_;this.beginPath(),this.moveTo(n,t),this.lineTo(n+i,t),this.lineTo(n+i,t+r),this.lineTo(n,t+r),this.closePath(),this.fill(),this.currentPath_=u},n.createLinearGradient=function(n,t,i,r){var u=new h("gradient");return u.x0_=n,u.y0_=t,u.x1_=i,u.y1_=r,u},n.createRadialGradient=function(n,t,i,r,u,f){var e=new h("gradientradial");return e.x0_=n,e.y0_=t,e.r0_=i,e.x1_=r,e.y1_=u,e.r1_=f,e},n.drawImage=function(n){var f,e,o,s,a,v,y,p,rt=n.runtimeStyle.width,ut=n.runtimeStyle.height,h,c,k;if(n.runtimeStyle.width="auto",n.runtimeStyle.height="auto",h=n.width,c=n.height,n.runtimeStyle.width=rt,n.runtimeStyle.height=ut,arguments.length==3)f=arguments[1],e=arguments[2],a=v=0,y=o=h,p=s=c;else if(arguments.length==5)f=arguments[1],e=arguments[2],o=arguments[3],s=arguments[4],a=v=0,y=h,p=c;else if(arguments.length==9)a=arguments[1],v=arguments[2],y=arguments[3],p=arguments[4],f=arguments[5],e=arguments[6],o=arguments[7],s=arguments[8];else throw Error("Invalid number of arguments");var w=this.getCoords_(f,e),ft=y/2,et=p/2,b=[],d=10,g=10;if(b.push(" <g_vml_:group",' coordsize="',i*d,",",i*g,'"',' coordorigin="0,0"',' style="width:',d,"px;height:",g,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]){k=[],k.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",t(w.x/i),",","Dy=",t(w.y/i),"");var l=w,nt=this.getCoords_(f+o,e),tt=this.getCoords_(f,e+s),it=this.getCoords_(f+o,e+s);l.x=r.max(l.x,nt.x,tt.x,it.x),l.y=r.max(l.y,nt.y,tt.y,it.y),b.push("padding:0 ",t(l.x/i),"px ",t(l.y/i),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",k.join(""),", sizingmethod='clip');")}else b.push("top:",t(w.y/i),"px;left:",t(w.x/i),"px;");b.push(' ">','<g_vml_:image src="',n.src,'"',' style="width:',i*o,"px;"," height:",i*s,'px;"',' cropleft="',a/h,'"',' croptop="',v/c,'"',' cropright="',(h-a-y)/h,'"',' cropbottom="',(c-v-p)/c,'"'," />","<\/g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",b.join(""))},n.stroke=function(n){var f=[],ni=!1,it=k(n?this.fillStyle:this.strokeStyle),rt=it.color,y=it.alpha*this.globalAlpha,ut=10,ft=10,u,ct,a,g,h,c,tt;f.push("<g_vml_:shape",' filled="',!!n,'"',' style="position:absolute;width:',ut,"px;height:",ft,'px;"',' coordorigin="0 0" coordsize="',i*ut," ",i*ft,'"',' stroked="',!n,'"',' path="');var ti=!1,o={x:null,y:null},s={x:null,y:null};for(c=0;c<this.currentPath_.length;c++){u=this.currentPath_[c];switch(u.type){case"moveTo":ct=u,f.push(" m ",t(u.x),",",t(u.y));break;case"lineTo":f.push(" l ",t(u.x),",",t(u.y));break;case"close":f.push(" x "),u=null;break;case"bezierCurveTo":f.push(" c ",t(u.cp1x),",",t(u.cp1y),",",t(u.cp2x),",",t(u.cp2y),",",t(u.x),",",t(u.y));break;case"at":case"wa":f.push(" ",u.type," ",t(u.x-this.arcScaleX_*u.radius),",",t(u.y-this.arcScaleY_*u.radius)," ",t(u.x+this.arcScaleX_*u.radius),",",t(u.y+this.arcScaleY_*u.radius)," ",t(u.xStart),",",t(u.yStart)," ",t(u.xEnd),",",t(u.yEnd))}u&&((o.x==null||u.x<o.x)&&(o.x=u.x),(s.x==null||u.x>s.x)&&(s.x=u.x),(o.y==null||u.y<o.y)&&(o.y=u.y),(s.y==null||u.y>s.y)&&(s.y=u.y))}if(f.push(' ">'),n)if(typeof this.fillStyle=="object"){var e=this.fillStyle,l=0,p={x:0,y:0},w=0,ot=1;if(e.type_=="gradient"){var lt=e.x0_/this.arcScaleX_,at=e.y0_/this.arcScaleY_,vt=e.x1_/this.arcScaleX_,yt=e.y1_/this.arcScaleY_,v=this.getCoords_(lt,at),st=this.getCoords_(vt,yt),pt=st.x-v.x,wt=st.y-v.y;l=Math.atan2(pt,wt)*180/Math.PI,l<0&&(l+=360),l<1e-6&&(l=0)}else{var v=this.getCoords_(e.x0_,e.y0_),b=s.x-o.x,d=s.y-o.y;p={x:(v.x-o.x)/b,y:(v.y-o.y)/d},b/=this.arcScaleX_*i,d/=this.arcScaleY_*i,g=r.max(b,d),w=2*e.r0_/g,ot=2*e.r1_/g-w}h=e.colors_,h.sort(function(n,t){return n.offset-t.offset});var nt=h.length,bt=h[0].color,kt=h[nt-1].color,dt=h[0].alpha*this.globalAlpha,gt=h[nt-1].alpha*this.globalAlpha,ht=[];for(c=0;c<nt;c++)tt=h[c],ht.push(tt.offset*ot+w+" "+tt.color);f.push('<g_vml_:fill type="',e.type_,'"',' method="none" focus="100%"',' color="',bt,'"',' color2="',kt,'"',' colors="',ht.join(","),'"',' opacity="',gt,'"',' g_o_:opacity2="',dt,'"',' angle="',l,'"',' focusposition="',p.x,",",p.y,'" />')}else f.push('<g_vml_:fill color="',rt,'" opacity="',y,'" />');else a=this.lineScale_*this.lineWidth,a<1&&(y*=a),f.push("<g_vml_:stroke",' opacity="',y,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',et(this.lineCap),'"',' weight="',a,'px"',' color="',rt,'" />');f.push("<\/g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",f.join(""))},n.fill=function(){this.stroke(!0)},n.closePath=function(){this.currentPath_.push({type:"close"})},n.getCoords_=function(n,t){var r=this.m_;return{x:i*(n*r[0][0]+t*r[1][0]+r[2][0])-u,y:i*(n*r[0][1]+t*r[1][1]+r[2][1])-u}},n.save=function(){var n={};b(this,n),this.aStack_.push(n),this.mStack_.push(this.m_),this.m_=o(v(),this.m_)},n.restore=function(){b(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},n.translate=function(n,t){var i=[[1,0,0],[0,1,0],[n,t,1]];s(this,o(i,this.m_),!1)},n.rotate=function(n){var t=l(n),i=c(n),r=[[t,i,0],[-i,t,0],[0,0,1]];s(this,o(r,this.m_),!1)},n.scale=function(n,t){this.arcScaleX_*=n,this.arcScaleY_*=t;var i=[[n,0,0],[0,t,0],[0,0,1]];s(this,o(i,this.m_),!0)},n.transform=function(n,t,i,r,u,f){var e=[[n,t,0],[i,r,0],[u,f,1]];s(this,o(e,this.m_),!0)},n.setTransform=function(n,t,i,r,u,f){var e=[[n,t,0],[i,r,0],[u,f,1]];s(this,e,!0)},n.clip=function(){},n.arcTo=function(){},n.createPattern=function(){return new g},h.prototype.addColorStop=function(n,t){t=k(t),this.colors_.push({offset:n,color:t.color,alpha:t.alpha})},G_vmlCanvasManager=w,CanvasRenderingContext2D=y,CanvasGradient=h,CanvasPattern=g}(),function(n){function t(){this._defaults={pickerClass:"",showOnFocus:!0,showTrigger:null,showAnim:"show",showOptions:{},showSpeed:"normal",popupContainer:null,alignment:"bottom",fixedWeeks:!1,firstDay:0,calculateWeek:this.iso8601Week,monthsToShow:1,monthsOffset:0,monthsToStep:1,monthsToJump:12,useMouseWheel:!0,changeMonth:!0,yearRange:"c-10:c+10",shortYearCutoff:"+10",showOtherMonths:!1,selectOtherMonths:!1,defaultDate:null,selectDefaultDate:!1,minDate:null,maxDate:null,dateFormat:"mm/dd/yyyy",autoSize:!1,rangeSelect:!1,rangeSeparator:" - ",multiSelect:0,multiSeparator:",",title:"",anchorDirection:null,anchorDate:null,onDate:null,onShow:null,onChangeMonthYear:null,onSelect:null,onClose:null,onClear:null,altField:null,altFormat:null,constrainInput:!0,commandsAsDateFormat:!1,commands:this.commands},this.regional={"":{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesDisplay:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dateFormat:"mm/dd/yyyy",firstDay:0,renderer:this.defaultRenderer,prevText:"&lt;Prev",prevStatus:"Show the previous month",prevJumpText:"&lt;&lt;",prevJumpStatus:"Show the previous year",nextText:"Next&gt;",nextStatus:"Show the next month",nextJumpText:"&gt;&gt;",nextJumpStatus:"Show the next year",currentText:"Current",currentStatus:"Show the current month",todayText:"Today",todayStatus:"Show today's month",clearText:"Clear",clearStatus:"Clear all the dates",closeText:"Close",closeStatus:"Close the datepicker",yearStatus:"Change the year",monthStatus:"Change the month",weekText:"Wk",weekStatus:"Week of the year",dayStatus:"Select DD, M d, yyyy",defaultStatus:"Select a date",isRTL:!1}},n.extend(this._defaults,this.regional[""]),this._disabled=[]}function i(t,i){n.extend(t,i);for(var r in i)(i[r]==null||i[r]==undefined)&&(t[r]=i[r]);return t}n.extend(t.prototype,{dataName:"datepick",markerClass:"hasDatepick",_popupClass:"datepick-popup",_triggerClass:"datepick-trigger",_disableClass:"datepick-disable",_coverClass:"datepick-cover",_monthYearClass:"datepick-month-year",_monthMonthClass:"datepick-month-month",_curMonthClass:"datepick-month-",_anyYearClass:"datepick-any-year",_curDoWClass:"datepick-dow-",commands:{prev:{text:"prevText",status:"prevStatus",keystroke:{keyCode:33},enabled:function(t){var i=t.curMinDate();return!i||n.datepick.add(n.datepick.day(n.datepick._applyMonthsOffset(n.datepick.add(n.datepick.newDate(t.drawDate),1-t.get("monthsToStep"),"m"),t),1),-1,"d").getTime()>=i.getTime()},date:function(t){return n.datepick.day(n.datepick._applyMonthsOffset(n.datepick.add(n.datepick.newDate(t.drawDate),-t.get("monthsToStep"),"m"),t),1)},action:function(t){n.datepick.changeMonth(this,-t.get("monthsToStep"))}},prevJump:{text:"prevJumpText",status:"prevJumpStatus",keystroke:{keyCode:33,ctrlKey:!0},enabled:function(t){var i=t.curMinDate();return!i||n.datepick.add(n.datepick.day(n.datepick._applyMonthsOffset(n.datepick.add(n.datepick.newDate(t.drawDate),1-t.get("monthsToJump"),"m"),t),1),-1,"d").getTime()>=i.getTime()},date:function(t){return n.datepick.day(n.datepick._applyMonthsOffset(n.datepick.add(n.datepick.newDate(t.drawDate),-t.get("monthsToJump"),"m"),t),1)},action:function(t){n.datepick.changeMonth(this,-t.get("monthsToJump"))}},next:{text:"nextText",status:"nextStatus",keystroke:{keyCode:34},enabled:function(t){var i=t.get("maxDate");return!i||n.datepick.day(n.datepick._applyMonthsOffset(n.datepick.add(n.datepick.newDate(t.drawDate),t.get("monthsToStep"),"m"),t),1).getTime()<=i.getTime()},date:function(t){return n.datepick.day(n.datepick._applyMonthsOffset(n.datepick.add(n.datepick.newDate(t.drawDate),t.get("monthsToStep"),"m"),t),1)},action:function(t){n.datepick.changeMonth(this,t.get("monthsToStep"))}},nextJump:{text:"nextJumpText",status:"nextJumpStatus",keystroke:{keyCode:34,ctrlKey:!0},enabled:function(t){var i=t.get("maxDate");return!i||n.datepick.day(n.datepick._applyMonthsOffset(n.datepick.add(n.datepick.newDate(t.drawDate),t.get("monthsToJump"),"m"),t),1).getTime()<=i.getTime()},date:function(t){return n.datepick.day(n.datepick._applyMonthsOffset(n.datepick.add(n.datepick.newDate(t.drawDate),t.get("monthsToJump"),"m"),t),1)},action:function(t){n.datepick.changeMonth(this,t.get("monthsToJump"))}},current:{text:"currentText",status:"currentStatus",keystroke:{keyCode:36,ctrlKey:!0},enabled:function(t){var i=t.curMinDate(),r=t.get("maxDate"),u=t.selectedDates[0]||n.datepick.today();return(!i||u.getTime()>=i.getTime())&&(!r||u.getTime()<=r.getTime())},date:function(t){return t.selectedDates[0]||n.datepick.today()},action:function(t){var i=t.selectedDates[0]||n.datepick.today();n.datepick.showMonth(this,i.getFullYear(),i.getMonth()+1)}},today:{text:"todayText",status:"todayStatus",keystroke:{keyCode:36,ctrlKey:!0},enabled:function(t){var i=t.curMinDate(),r=t.get("maxDate");return(!i||n.datepick.today().getTime()>=i.getTime())&&(!r||n.datepick.today().getTime()<=r.getTime())},date:function(){return n.datepick.today()},action:function(){n.datepick.showMonth(this)}},clear:{text:"clearText",status:"clearStatus",keystroke:{keyCode:35,ctrlKey:!0},enabled:function(){return!0},date:function(){return null},action:function(){n.datepick.clear(this)}},close:{text:"closeText",status:"closeStatus",keystroke:{keyCode:27},enabled:function(){return!0},date:function(){return null},action:function(){n.datepick.hide(this)}},prevWeek:{text:"prevWeekText",status:"prevWeekStatus",keystroke:{keyCode:38,ctrlKey:!0},enabled:function(t){var i=t.curMinDate();return!i||n.datepick.add(n.datepick.newDate(t.drawDate),-7,"d").getTime()>=i.getTime()},date:function(t){return n.datepick.add(n.datepick.newDate(t.drawDate),-7,"d")},action:function(){n.datepick.changeDay(this,-7)}},prevDay:{text:"prevDayText",status:"prevDayStatus",keystroke:{keyCode:37,ctrlKey:!0},enabled:function(t){var i=t.curMinDate();return!i||n.datepick.add(n.datepick.newDate(t.drawDate),-1,"d").getTime()>=i.getTime()},date:function(t){return n.datepick.add(n.datepick.newDate(t.drawDate),-1,"d")},action:function(){n.datepick.changeDay(this,-1)}},nextDay:{text:"nextDayText",status:"nextDayStatus",keystroke:{keyCode:39,ctrlKey:!0},enabled:function(t){var i=t.get("maxDate");return!i||n.datepick.add(n.datepick.newDate(t.drawDate),1,"d").getTime()<=i.getTime()},date:function(t){return n.datepick.add(n.datepick.newDate(t.drawDate),1,"d")},action:function(){n.datepick.changeDay(this,1)}},nextWeek:{text:"nextWeekText",status:"nextWeekStatus",keystroke:{keyCode:40,ctrlKey:!0},enabled:function(t){var i=t.get("maxDate");return!i||n.datepick.add(n.datepick.newDate(t.drawDate),7,"d").getTime()<=i.getTime()},date:function(t){return n.datepick.add(n.datepick.newDate(t.drawDate),7,"d")},action:function(){n.datepick.changeDay(this,7)}}},defaultRenderer:{picker:'<div class="datepick"><div class="datepick-head">{link:title}{link:close}<\/div><div class="datepick-nav">{link:prev}{link:next}<\/div>{months}{popup:start}<div class="datepick-ctrl">{link:clear}{link:today}<\/div>{popup:end}<div class="datepick-clear-fix"><\/div><\/div>',monthRow:'<div class="datepick-month-row">{months}<\/div>',month:'<div class="datepick-month"><div class="datepick-month-header">{monthHeader}<\/div><table><thead>{weekHeader}<\/thead><tbody>{weeks}<\/tbody><\/table><\/div>',weekHeader:"<tr>{days}<\/tr>",dayHeader:"<th>{day}<\/th>",week:"<tr>{days}<\/tr>",day:"<td>{day}<\/td>",monthSelector:".datepick-month",daySelector:"td",rtlClass:"datepick-rtl",multiClass:"datepick-multi",defaultClass:"",selectedClass:"datepick-selected",highlightedClass:"datepick-highlight",todayClass:"datepick-today",otherMonthClass:"datepick-other-month",weekendClass:"datepick-weekend",commandClass:"datepick-cmd",commandButtonClass:"",commandLinkClass:"",disabledClass:"datepick-disabled",anchorClass:"datepick-anchor",anchorPeriodClass:"datepick-anchor-period",anchorHighlightedClass:"datepick-anchor-period-highlighted"},setDefaults:function(t){return n.extend(this._defaults,t||{}),this},_ticksTo1970:(718685+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*864e9,_msPerDay:864e5,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,t,i){var u;if(typeof n!="string"&&(i=t,t=n,n=""),!t)return"";n=n||this._defaults.dateFormat,i=i||{};var h=i.dayNamesShort||this._defaults.dayNamesShort,c=i.dayNames||this._defaults.dayNames,l=i.monthNamesShort||this._defaults.monthNamesShort,a=i.monthNamesDisplay||this._defaults.monthNamesDisplay,v=i.calculateWeek||this._defaults.calculateWeek,f=function(t,i){for(var r=1;u+r<n.length&&n.charAt(u+r)==t;)r++;return u+=r-1,Math.floor(r/(i||1))>1},e=function(n,t,i,r){var u=""+t;if(f(n,r))while(u.length<i)u="0"+u;return u},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;for(u=0;u<n.length;u++)if(o)n.charAt(u)!="'"||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",this.dayOfYear(t),3);break;case"w":r+=e("w",v(t),2);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y",2)?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":r+=Math.floor(t.getTime()/1e3);break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},parseDate:function(n,t,i){var h,e,k,a,r;if(t==null)throw"Invalid arguments";if(t=typeof t=="object"?t.toString():t+"",t=="")return null;n=n||this._defaults.dateFormat,i=i||{},h=i.shortYearCutoff||this._defaults.shortYearCutoff,h=typeof h!="string"?h:this.today().getFullYear()%100+parseInt(h,10);var d=i.dayNamesShort||this._defaults.dayNamesShort,g=i.dayNames||this._defaults.dayNames,nt=i.monthNamesShort||this._defaults.monthNamesShort,tt=i.monthNamesDisplay||this._defaults.monthNamesDisplay,u=-1,o=-1,s=-1,v=-1,w=!1,y=!1,l=function(t,i){for(var r=1;e+r<n.length&&n.charAt(e+r)==t;)r++;return e+=r-1,Math.floor(r/(i||1))>1},c=function(n,i){var u=l(n,i),e=[2,3,u?4:2,11,20]["oy@!".indexOf(n)+1],o=new RegExp("^-?\\d{1,"+e+"}"),r=t.substring(f).match(o);if(!r)throw"Missing number at position {0}".replace(/\{0\}/,f);return f+=r[0].length,parseInt(r[0],10)},b=function(n,i,r,u){for(var o=l(n,u)?r:i,e=0;e<o.length;e++)if(t.substr(f,o[e].length)==o[e])return f+=o[e].length,e+1;throw"Unknown name at position {0}".replace(/\{0\}/,f);},p=function(){if(t.charAt(f)!=n.charAt(e))throw"Unexpected literal at position {0}".replace(/\{0\}/,f);f++},f=0;for(e=0;e<n.length;e++)if(y)n.charAt(e)!="'"||l("'")?p():y=!1;else switch(n.charAt(e)){case"d":s=c("d");break;case"D":b("D",d,g);break;case"o":v=c("o");break;case"w":c("w");break;case"m":o=c("m");break;case"M":o=b("M",nt,tt);break;case"y":k=e,w=!l("y",2),e=k,u=c("y",2);break;case"@":r=this._normaliseDate(new Date(c("@")*1e3)),u=r.getFullYear(),o=r.getMonth()+1,s=r.getDate();break;case"!":r=this._normaliseDate(new Date((c("!")-this._ticksTo1970)/1e4)),u=r.getFullYear(),o=r.getMonth()+1,s=r.getDate();break;case"*":f=t.length;break;case"'":l("'")?p():y=!0;break;default:p()}if(f<t.length)throw"Additional text found at end";if(u==-1?u=this.today().getFullYear():u<100&&w&&(u+=h==-1?1900:this.today().getFullYear()-this.today().getFullYear()%100-(u<=h?0:100)),v>-1)for(o=1,s=v,a=this.daysInMonth(u,o);s>a;a=this.daysInMonth(u,o))o++,s-=a;if(r=this.newDate(u,o,s),r.getFullYear()!=u||r.getMonth()+1!=o||r.getDate()!=s)throw"Invalid date";return r},determineDate:function(t,i,r,u,f){r&&typeof r!="object"&&(f=u,u=r,r=null),typeof u!="string"&&(f=u,u="");var e=function(t){try{return n.datepick.parseDate(u,t,f)}catch(s){}t=t.toLowerCase();for(var e=(t.match(/^c/)&&r?n.datepick.newDate(r):null)||n.datepick.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,i=o.exec(t);i;)e=n.datepick.add(e,parseInt(i[1],10),i[2]||"d"),i=o.exec(t);return e};return i=i?n.datepick.newDate(i):null,t=t==null?i:typeof t=="string"?e(t):typeof t=="number"?isNaN(t)||t==Infinity||t==-Infinity?i:n.datepick.add(n.datepick.today(),t,"d"):n.datepick.newDate(t)},daysInMonth:function(n,t){return t=n.getFullYear?n.getMonth()+1:t,n=n.getFullYear?n.getFullYear():n,this.newDate(n,t+1,0).getDate()},dayOfYear:function(n,t,i){var r=n.getFullYear?n:this.newDate(n,t,i),u=this.newDate(r.getFullYear(),1,1);return Math.floor((r.getTime()-u.getTime())/this._msPerDay)+1},iso8601Week:function(n,t,i){var r=n.getFullYear?new Date(n.getTime()):this.newDate(n,t,i),u;return r.setDate(r.getDate()+4-(r.getDay()||7)),u=r.getTime(),r.setMonth(0,1),Math.floor(Math.round((u-r)/864e5)/7)+1},today:function(){return this._normaliseDate(new Date)},newDate:function(n,t,i){return n?n.getFullYear?this._normaliseDate(new Date(n.getTime())):new Date(n,t-1,i,12):null},_normaliseDate:function(n){return n&&n.setHours(12,0,0,0),n},year:function(n,t){return n.setFullYear(t),this._normaliseDate(n)},month:function(n,t){return n.setMonth(t-1),this._normaliseDate(n)},day:function(n,t){return n.setDate(t),this._normaliseDate(n)},add:function(t,i,r){if(r=="d"||r=="w")this._normaliseDate(t),t.setDate(t.getDate()+i*(r=="w"?7:1));else{var u=t.getFullYear()+(r=="y"?i:0),f=t.getMonth()+(r=="m"?i:0);t.setTime(n.datepick.newDate(u,f+1,Math.min(t.getDate(),this.daysInMonth(u,f+1))).getTime())}return t},_applyMonthsOffset:function(t,i){var r=i.get("monthsOffset");return n.isFunction(r)&&(r=r.apply(i.target[0],[t])),n.datepick.add(t,-r,"m")},_attachPicker:function(t,i){var r,u;(t=n(t),t.hasClass(this.markerClass))||(t.addClass(this.markerClass),r={target:t,selectedDates:[],drawDate:null,pickingRange:!1,inline:n.inArray(t[0].nodeName.toLowerCase(),["div","span"])>-1,get:function(t){var i=this.settings[t]!==undefined?this.settings[t]:n.datepick._defaults[t];return n.inArray(t,["defaultDate","minDate","maxDate"])>-1&&(i=n.datepick.determineDate(i,null,this.selectedDates[0],this.get("dateFormat"),r.getConfig())),i},curMinDate:function(){return this.pickingRange?this.selectedDates[0]:this.get("minDate")},getConfig:function(){return{dayNamesShort:this.get("dayNamesShort"),dayNames:this.get("dayNames"),monthNamesShort:this.get("monthNamesShort"),monthNames:this.get("monthNames"),calculateWeek:this.get("calculateWeek"),shortYearCutoff:this.get("shortYearCutoff")}}},n.data(t[0],this.dataName,r),u=n.fn.metadata?t.metadata():{},r.settings=n.extend({},i||{},u||{}),r.inline?(r.drawDate=n.datepick._checkMinMax(n.datepick.newDate(r.selectedDates[0]||r.get("defaultDate")||n.datepick.today()),r),r.prevDate=n.datepick.newDate(r.drawDate),this._update(t[0]),n.fn.mousewheel&&t.mousewheel(this._doMouseWheel)):(this._attachments(t,r),t.bind("keydown."+this.dataName,this._keyDown).bind("keypress."+this.dataName,this._keyPress).bind("keyup."+this.dataName,this._keyUp),t.attr("disabled")&&this.disable(t[0])))},options:function(t,i){var r=n.data(t,this.dataName);return r?i?i=="all"?r.settings:r.settings[i]:n.datepick._defaults:{}},option:function(t,r,u){var e,f,o;(t=n(t),t.hasClass(this.markerClass))&&(r=r||{},typeof r=="string"&&(e=r,r={},r[e]=u),f=n.data(t[0],this.dataName),o=f.selectedDates,i(f.settings,r),this.setDate(t[0],o,null,!1,!0),f.pickingRange=!1,f.drawDate=n.datepick.newDate(this._checkMinMax((r.defaultDate?f.get("defaultDate"):f.drawDate)||f.get("defaultDate")||n.datepick.today(),f)),f.inline||this._attachments(t,f),(f.inline||f.div)&&this._update(t[0]))},_attachments:function(t,i){var r,u;t.unbind("focus."+this.dataName),i.get("showOnFocus")&&t.bind("focus."+this.dataName,this.show),i.trigger&&i.trigger.remove(),r=i.get("showTrigger"),i.trigger=r?n(r).clone().removeAttr("id").addClass(this._triggerClass)[i.get("isRTL")?"insertBefore":"insertAfter"](t).click(function(){n.datepick.isDisabled(t[0])||n.datepick[n.datepick.curInst==i?"hide":"show"](t[0])}):n([]),this._autoSize(t,i),u=this._extractDates(i,t.val()),u&&this.setDate(t[0],u,null,!0),i.get("selectDefaultDate")&&i.get("defaultDate")&&i.selectedDates.length==0&&this.setDate(t[0],n.datepick.newDate(i.get("defaultDate")||n.datepick.today()))},_autoSize:function(t,i){var r,u,f;i.get("autoSize")&&!i.inline&&(r=n.datepick.newDate(2009,10,20),u=i.get("dateFormat"),u.match(/[DM]/)&&(f=function(n){for(var i=0,r=0,t=0;t<n.length;t++)n[t].length>i&&(i=n[t].length,r=t);return r},r.setMonth(f(i.get(u.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(f(i.get(u.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),i.target.attr("size",n.datepick.formatDate(u,r,i.getConfig()).length))},destroy:function(t){if(t=n(t),t.hasClass(this.markerClass)){var i=n.data(t[0],this.dataName);i.trigger&&i.trigger.remove(),t.removeClass(this.markerClass).empty().unbind("."+this.dataName),i.inline&&n.fn.mousewheel&&t.unmousewheel(),!i.inline&&i.get("autoSize")&&t.removeAttr("size"),n.removeData(t[0],this.dataName)}},multipleEvents:function(){var t=arguments;return function(){for(var i=0;i<t.length;i++)t[i].apply(this,arguments)}},enable:function(t){var r=n(t),i;r.hasClass(this.markerClass)&&(i=n.data(t,this.dataName),i.inline?r.children("."+this._disableClass).remove().end().find("button,select").attr("disabled","").end().find("a").attr("href","javascript:void(0)"):(t.disabled=!1,i.trigger.filter("button."+this._triggerClass).attr("disabled","").end().filter("img."+this._triggerClass).css({opacity:"1.0",cursor:""})),this._disabled=n.map(this._disabled,function(n){return n==t?null:n}))},disable:function(t){var r=n(t),f,i;if(r.hasClass(this.markerClass)){if(f=n.data(t,this.dataName),f.inline){var u=r.children(":last"),o=u.offset(),e={left:0,top:0};u.parents().each(function(){if(n(this).css("position")=="relative")return e=n(this).offset(),!1}),i=r.css("zIndex"),i=(i=="auto"?0:parseInt(i,10))+1,r.prepend('<div class="'+this._disableClass+'" style="width: '+u.outerWidth()+"px; height: "+u.outerHeight()+"px; left: "+(o.left-e.left)+"px; top: "+(o.top-e.top)+"px; z-index: "+i+'"><\/div>').find("button,select").attr("disabled","disabled").end().find("a").removeAttr("href")}else t.disabled=!0,f.trigger.filter("button."+this._triggerClass).attr("disabled","disabled").end().filter("img."+this._triggerClass).css({opacity:"0.5",cursor:"default"});this._disabled=n.map(this._disabled,function(n){return n==t?null:n}),this._disabled.push(t)}},isDisabled:function(t){return t&&n.inArray(t,this._disabled)>-1},show:function(t){var i,s,r,u,f,e,o;if((t=t.target||t,i=n.data(t,n.datepick.dataName),n.datepick.curInst!=i)&&(n.datepick.curInst&&n.datepick.hide(n.datepick.curInst,!0),i)){if(i.lastVal=null,i.selectedDates=n.datepick._extractDates(i,n(t).val()),i.pickingRange=!1,i.drawDate=n.datepick._checkMinMax(n.datepick.newDate(i.selectedDates[0]||i.get("defaultDate")||n.datepick.today()),i),i.prevDate=n.datepick.newDate(i.drawDate),n.datepick.curInst=i,n.datepick._update(t,!0),s=n.datepick._checkOffset(i),i.div.css({left:s.left,top:s.top}),r=i.get("showAnim"),u=i.get("showSpeed"),u=u=="normal"&&n.ui&&n.ui.version>="1.8"?"_default":u,f=function(){var r=i.div.find("."+n.datepick._coverClass),t;r.length&&(t=n.datepick._getBorders(i.div),r.css({left:-t[0],top:-t[1],width:i.div.outerWidth()+t[0],height:i.div.outerHeight()+t[1]}))},n.effects&&n.effects[r]){e=i.div.data();for(o in e)o.match(/^ec\.storage\./)&&(e[o]=i._mainDiv.css(o.replace(/ec\.storage\./,"")));i.div.data(e).show(r,i.get("showOptions"),u,f)}else i.div[r||"show"](r?u:"",f);r||f()}},_extractDates:function(t,i){var r,u,f,s,e;if(i!=t.lastVal){t.lastVal=i;var c=t.get("dateFormat"),h=t.get("multiSelect"),o=t.get("rangeSelect");for(i=i.split(h?t.get("multiSeparator"):o?t.get("rangeSeparator"):"\x00"),r=[],u=0;u<i.length;u++)try{if(f=n.datepick.parseDate(c,i[u],t.getConfig()),f){for(s=!1,e=0;e<r.length;e++)if(r[e].getTime()==f.getTime()){s=!0;break}s||r.push(f)}}catch(l){}return r.splice(h||(o?2:1),r.length),o&&r.length==1&&(r[1]=r[0]),r}},_update:function(t,i){var r,u;t=n(t.target||t),r=n.data(t[0],n.datepick.dataName),r&&((r.inline||n.datepick.curInst==r)&&(u=r.get("onChangeMonthYear"),u&&(!r.prevDate||r.prevDate.getFullYear()!=r.drawDate.getFullYear()||r.prevDate.getMonth()!=r.drawDate.getMonth())&&u.apply(t[0],[r.drawDate.getFullYear(),r.drawDate.getMonth()+1])),r.inline?t.html(this._generateContent(t[0],r)):n.datepick.curInst==r&&(r.div||(r.div=n("<div><\/div>").addClass(this._popupClass).css({display:i?"none":"static",position:"absolute",left:t.offset().left,top:t.offset().top+t.outerHeight()}).appendTo(n(r.get("popupContainer")||"body")),n.fn.mousewheel&&r.div.mousewheel(this._doMouseWheel)),r.div.html(this._generateContent(t[0],r)),t.focus()))},_updateInput:function(t,i){var r=n.data(t,this.dataName),u,f;if(r){var e="",o="",s=r.get("multiSelect")?r.get("multiSeparator"):r.get("rangeSeparator"),h=r.get("dateFormat"),c=r.get("altFormat")||h;for(u=0;u<r.selectedDates.length;u++)e+=i?"":(u>0?s:"")+n.datepick.formatDate(h,r.selectedDates[u],r.getConfig()),o+=(u>0?s:"")+n.datepick.formatDate(c,r.selectedDates[u],r.getConfig());r.inline||i||n(t).val(e),n(r.get("altField")).val(o),f=r.get("onSelect"),!f||i||r.inSelect||(r.inSelect=!0,f.apply(t,[r.selectedDates]),r.inSelect=!1)}},_getBorders:function(t){var i=function(t){var i=n.browser.msie?1:0;return{thin:1+i,medium:3+i,thick:5+i}[t]||t};return[parseFloat(i(t.css("border-left-width"))),parseFloat(i(t.css("border-top-width")))]},_checkOffset:function(t){var f=t.target.is(":hidden")&&t.trigger?t.trigger:t.target,i=f.offset(),r=!1,s,a;if(n(t.target).parents().each(function(){return r|=n(this).css("position")=="fixed",!r}),r&&n.browser.opera&&(i.left-=document.documentElement.scrollLeft,i.top-=document.documentElement.scrollTop),s=(!n.browser.mozilla||document.doctype?document.documentElement.clientWidth:0)||document.body.clientWidth,a=(!n.browser.mozilla||document.doctype?document.documentElement.clientHeight:0)||document.body.clientHeight,s==0)return i;var u=t.get("alignment"),v=t.get("isRTL"),h=document.documentElement.scrollLeft||document.body.scrollLeft,p=document.documentElement.scrollTop||document.body.scrollTop,c=i.top-t.div.outerHeight()-(r&&n.browser.opera?document.documentElement.scrollTop:0),l=i.top+f.outerHeight(),e=i.left,o=i.left+f.outerWidth()-t.div.outerWidth()-(r&&n.browser.opera?document.documentElement.scrollLeft:0),y=i.left+t.div.outerWidth()-h>s,w=i.top+t.target.outerHeight()+t.div.outerHeight()-p>a;return i=u=="topLeft"?{left:e,top:c}:u=="topRight"?{left:o,top:c}:u=="bottomLeft"?{left:e,top:l}:u=="bottomRight"?{left:o,top:l}:u=="top"?{left:v||y?o:e,top:c}:u=="rightTop"?{left:i.left+f.outerWidth(),top:i.top}:{left:v||y?o:e,top:l},i.left=Math.max(r?0:h,i.left-(r?h:0)),i},_checkExternalClick:function(t){if(n.datepick.curInst){var i=n(t.target);i.parents().andSelf().hasClass(n.datepick._popupClass)||i.hasClass(n.datepick.markerClass)||i.parents().andSelf().hasClass(n.datepick._triggerClass)||n.datepick.hide(n.datepick.curInst)}},hide:function(t,i){var r,u,f,e,o;t&&(r=n.data(t,this.dataName)||t,r&&r==n.datepick.curInst&&(u=i?"":r.get("showAnim"),f=r.get("showSpeed"),f=f=="normal"&&n.ui&&n.ui.version>="1.8"?"_default":f,e=function(){r.div.remove(),r.div=null,n.datepick.curInst=null;var i=r.get("onClose");i&&i.apply(t,[r.selectedDates])},r.div.stop(),n.effects&&n.effects[u]?r.div.hide(u,r.get("showOptions"),f,e):(o=u=="slideDown"?"slideUp":u=="fadeIn"?"fadeOut":"hide",r.div[o](u?f:"",e)),u||e()))},_keyDown:function(t){var u=t.target,r=n.data(u,n.datepick.dataName),f=!1,e,o,i;if(r.div)if(t.keyCode==9)n.datepick.hide(u);else if(t.keyCode==13)n.datepick.selectDate(u,n("a."+r.get("renderer").highlightedClass,r.div)[0]),f=!0;else{e=r.get("commands");for(o in e)if(i=e[o],i.keystroke.keyCode==t.keyCode&&!!i.keystroke.ctrlKey==!!(t.ctrlKey||t.metaKey)&&!!i.keystroke.altKey==t.altKey&&!!i.keystroke.shiftKey==t.shiftKey){n.datepick.performAction(u,o),f=!0;break}}else i=r.get("commands").current,i.keystroke.keyCode==t.keyCode&&!!i.keystroke.ctrlKey==!!(t.ctrlKey||t.metaKey)&&!!i.keystroke.altKey==t.altKey&&!!i.keystroke.shiftKey==t.shiftKey&&(n.datepick.show(u),f=!0);return r.ctrlKey=t.keyCode<48&&t.keyCode!=32||t.ctrlKey||t.metaKey,f&&(t.preventDefault(),t.stopPropagation()),!f},_keyPress:function(t){var f,i,r,u;return t.preventDefault(),!1},_allowedChars:function(n){for(var f=n.get("dateFormat"),t=n.get("multiSelect")?n.get("multiSeparator"):n.get("rangeSelect")?n.get("rangeSeparator"):"",e=!1,i=!1,u,r=0;r<f.length;r++)if(u=f.charAt(r),e)u=="'"&&f.charAt(r+1)!="'"?e=!1:t+=u;else switch(u){case"d":case"m":case"o":case"w":t+=i?"":"0123456789",i=!0;break;case"y":case"@":case"!":t+=(i?"":"0123456789")+"-",i=!0;break;case"J":t+=(i?"":"0123456789")+"-.",i=!0;break;case"D":case"M":case"Y":return null;case"'":f.charAt(r+1)=="'"?t+="'":e=!0;break;default:t+=u}return t},_keyUp:function(t){var u=t.target,i=n.data(u,n.datepick.dataName),r;if(i&&!i.ctrlKey&&i.lastVal!=i.target.val())try{r=n.datepick._extractDates(i,i.target.val()),r.length>0&&n.datepick.setDate(u,r,null,!0)}catch(t){}return!0},_doMouseWheel:function(t,i){var r=n.datepick.curInst&&n.datepick.curInst.target[0]||n(t.target).closest("."+n.datepick.markerClass)[0],u;n.datepick.isDisabled(r)||(u=n.data(r,n.datepick.dataName),u.get("useMouseWheel")&&(i=n.browser.opera?-i:i,i=i<0?-1:1,n.datepick.changeMonth(r,-u.get(t.ctrlKey?"monthsToJump":"monthsToStep")*i)),t.preventDefault())},clear:function(t){var i=n.data(t,this.dataName),r;i&&(i.selectedDates=[],this.hide(t),i.get("selectDefaultDate")&&i.get("defaultDate")?this.setDate(t,n.datepick.newDate(i.get("defaultDate")||n.datepick.today())):this._updateInput(t),r=i.get("onClear"),r&&r.apply(t))},getDate:function(t){var i=n.data(t,this.dataName);return i?i.selectedDates:[]},setDate:function(t,i,r,u,f){var e=n.data(t,this.dataName),s,o,c,h,l;if(e){n.isArray(i)||(i=[i],r&&i.push(r));var y=e.get("dateFormat"),a=e.get("minDate"),v=e.get("maxDate"),p=e.selectedDates[0];for(e.selectedDates=[],s=0;s<i.length;s++)if(o=n.datepick.determineDate(i[s],null,p,y,e.getConfig()),o&&(!a||o.getTime()>=a.getTime())&&(!v||o.getTime()<=v.getTime())){for(c=!1,h=0;h<e.selectedDates.length;h++)if(e.selectedDates[h].getTime()==o.getTime()){c=!0;break}c||e.selectedDates.push(o)}if(l=e.get("rangeSelect"),e.selectedDates.splice(e.get("multiSelect")||(l?2:1),e.selectedDates.length),l){switch(e.selectedDates.length){case 1:e.selectedDates[1]=e.selectedDates[0];break;case 2:e.selectedDates[1]=e.selectedDates[0].getTime()>e.selectedDates[1].getTime()?e.selectedDates[0]:e.selectedDates[1]}e.pickingRange=!1}e.prevDate=e.drawDate?n.datepick.newDate(e.drawDate):null,e.drawDate=this._checkMinMax(n.datepick.newDate(e.selectedDates[0]||e.get("defaultDate")||n.datepick.today()),e),f||(this._update(t),this._updateInput(t,u))}},isSelectable:function(t,i){var r=n.data(t,this.dataName);return r?(i=n.datepick.determineDate(i,r.selectedDates[0]||this.today(),null,r.get("dateFormat"),r.getConfig()),this._isSelectable(t,i,r.get("onDate"),r.get("minDate"),r.get("maxDate"))):!1},_isSelectable:function(n,t,i,r,u){var f=typeof i=="boolean"?{selectable:i}:i?i.apply(n,[t,!0]):{};return f.selectable!=!1&&(!r||t.getTime()>=r.getTime())&&(!u||t.getTime()<=u.getTime())},performAction:function(t,i){var r=n.data(t,this.dataName),u;r&&!this.isDisabled(t)&&(u=r.get("commands"),u[i]&&u[i].enabled.apply(t,[r])&&u[i].action.apply(t,[r]))},showMonth:function(t,i,r,u){var f=n.data(t,this.dataName),e;f&&(u!=null||f.drawDate.getFullYear()!=i||f.drawDate.getMonth()+1!=r)&&(f.prevDate=n.datepick.newDate(f.drawDate),e=this._checkMinMax(i!=null?n.datepick.newDate(i,r,1):n.datepick.today(),f),f.drawDate=n.datepick.newDate(e.getFullYear(),e.getMonth()+1,u!=null?u:Math.min(f.drawDate.getDate(),n.datepick.daysInMonth(e.getFullYear(),e.getMonth()+1))),this._update(t))},changeMonth:function(t,i){var u=n.data(t,this.dataName),r;u&&(r=n.datepick.add(n.datepick.newDate(u.drawDate),i,"m"),this.showMonth(t,r.getFullYear(),r.getMonth()+1))},changeDay:function(t,i){var u=n.data(t,this.dataName),r;u&&(r=n.datepick.add(n.datepick.newDate(u.drawDate),i,"d"),this.showMonth(t,r.getFullYear(),r.getMonth()+1,r.getDate()))},_checkMinMax:function(t,i){var r=i.get("minDate"),u=i.get("maxDate");return t=r&&t.getTime()<r.getTime()?n.datepick.newDate(r):t,t=u&&t.getTime()>u.getTime()?n.datepick.newDate(u):t},retrieveDate:function(t,i){var r=n.data(t,this.dataName);return r?this._normaliseDate(new Date(parseInt(i.className.replace(/^.*dp(-?\d+).*$/,"$1"),10))):null},selectDate:function(t,i){var r=n.data(t,this.dataName),o,f;if(r&&!this.isDisabled(t)){var u=this.retrieveDate(t,i),e=r.get("multiSelect"),s=r.get("rangeSelect");if(e){for(o=!1,f=0;f<r.selectedDates.length;f++)if(u.getTime()==r.selectedDates[f].getTime()){r.selectedDates.splice(f,1),o=!0;break}!o&&r.selectedDates.length<e&&r.selectedDates.push(u)}else s?(r.pickingRange?r.selectedDates[1]=u:r.selectedDates=[u,u],r.pickingRange=!r.pickingRange):r.selectedDates=[u];r.prevDate=n.datepick.newDate(u),this._updateInput(t),r.inline||r.pickingRange||r.selectedDates.length<(e||(s?2:1))?this._update(t):this.hide(t)}},_generateContent:function(t,i){var r=i.get("renderer"),f=i.get("monthsToShow"),o,c,s,l,h,a,k,e,v,y,p;for(f=n.isArray(f)?f:[1,f],i.drawDate=this._checkMinMax(i.drawDate||i.get("defaultDate")||n.datepick.today(),i),o=n.datepick._applyMonthsOffset(n.datepick.newDate(i.drawDate),i),c="",s=0;s<f[0];s++){for(l="",h=0;h<f[1];h++)l+=this._generateMonth(t,i,o.getFullYear(),o.getMonth()+1,r,s==0&&h==0),n.datepick.add(o,1,"m");c+=this._prepare(r.monthRow,i).replace(/\{months\}/,l)}var u=this._prepare(r.picker,i).replace(/\{months\}/,c).replace(/\{weekHeader\}/g,this._generateDayHeaders(i,r))+(n.browser.msie&&parseInt(n.browser.version,10)<7&&!i.inline?'<iframe src="javascript:void(0);" class="'+this._coverClass+'"><\/iframe>':""),w=i.get("commands"),d=i.get("commandsAsDateFormat"),b=function(f,e,o,s,h){if(u.indexOf("{"+f+":"+s+"}")!=-1){var c=w[s],l=d?c.date.apply(t,[i]):null;u=u.replace(new RegExp("\\{"+f+":"+s+"\\}","g"),"<"+e+(c.status?' title="'+i.get(c.status)+'"':"")+' class="'+r.commandClass+" "+r.commandClass+"-"+s+" "+h+(c.enabled(i)?"":" "+r.disabledClass)+'">'+(l?n.datepick.formatDate(i.get(c.text),l,i.getConfig()):i.get(c.text))+"<\/"+o+">")}};for(a in w)b("button",'button type="button"',"button",a,r.commandButtonClass),b("link",'a href="javascript:void(0)"',"a",a,r.commandLinkClass);return u=u.replace(new RegExp("\\{link:title\\}","g"),'<span class="datepick-title">'+i.get("title")+"<\/span>"),u=n(u),f[1]>1&&(k=0,n(r.monthSelector,u).each(function(){var t=++k%f[1];n(this).addClass(t==1?"first":t==0?"last":"")})),e=this,u.find(r.daySelector+" a").hover(function(){var t=(i.inline?n(this).parents("."+e.markerClass):i.div).find(r.daySelector+" a"),h=(i.inline?n(this).parents("."+e.markerClass):i.div).find(r.daySelector+" span"),o,u,f,s;if(i.pickingRange||(t.removeClass(r.highlightedClass),h.removeClass(r.highlightedClass)),n(this).addClass(r.highlightedClass),i.pickingRange&&(o=parseInt(this.className.replace(/^.*dp(-?\d+).*$/,"$1"),10),u=i.selectedDates[0].getTime(),n.each(t,function(){var t=parseInt(this.className.replace(/^.*dp(-?\d+).*$/,"$1"),10);u<t&&t<o&&n(this).addClass(r.selectedClass)})),f=i.get("anchorDirection"),s=i.get("anchorDate"),f&&s){t.removeClass(r.anchorHighlightedClass);var u=s.getTime(),o=parseInt(this.className.replace(/^.*dp(-?\d+).*$/,"$1"),10),c=i.selectedDates[0]?i.selectedDates[0].getTime():null;f=="right"&&(n.each(t,function(){var t=parseInt(this.className.replace(/^.*dp(-?\d+).*$/,"$1"),10);u<=t&&t<=o&&n(this).addClass(r.anchorHighlightedClass)}),n.each(h,function(){var t=parseInt(this.className.replace(/^.*dp(-?\d+).*$/,"$1"),10);u==t&&n(this).addClass(r.anchorHighlightedClass)})),f=="left"&&n.each(t,function(){var t=parseInt(this.className.replace(/^.*dp(-?\d+).*$/,"$1"),10);u>=t&&t>=o&&n(this).addClass(r.anchorHighlightedClass)})}},function(){var t=(i.inline?n(this).parents("."+e.markerClass):i.div).find(r.daySelector+" a, span"),u;t.removeClass(r.highlightedClass),t.removeClass(r.anchorHighlightedClass),u=i.selectedDates[0]?i.selectedDates[0].getTime():0,i.pickingRange&&n.each(t,function(){var t=parseInt(this.className.replace(/^.*dp(-?\d+).*$/,"$1"),10);u!=t&&n(this).removeClass(r.selectedClass)})}).click(function(){e.selectDate(t,this)}).end().find("select."+this._monthYearClass+":not(."+this._anyYearClass+")").change(function(){var i=n(this).val().split("/");e.showMonth(t,parseInt(i[1],10),parseInt(i[0],10))}).end().find("select."+this._monthMonthClass+":not(."+this._anyYearClass+")").change(function(){var i=n(this).val().split("/");e.showMonth(t,parseInt(i[1],10),parseInt(i[0],10))}).end().find("select."+this._anyYearClass).click(function(){n(this).css("visibility","hidden").next("input").css({left:this.offsetLeft,top:this.offsetTop,width:this.offsetWidth,height:this.offsetHeight}).show().focus()}).end().find("input."+e._monthYearClass).change(function(){try{var r=parseInt(n(this).val(),10);r=isNaN(r)?i.drawDate.getFullYear():r,e.showMonth(t,r,i.drawDate.getMonth()+1,i.drawDate.getDate())}catch(u){alert(u)}}).keydown(function(t){t.keyCode==13?n(t.target).change():t.keyCode==27&&(n(t.target).hide().prev("select").css("visibility","visible"),i.target.focus())}),u.find("."+r.commandClass).click(function(){if(!n(this).hasClass(r.disabledClass)){var i=this.className.replace(new RegExp("^.*"+r.commandClass+"-([^ ]+).*$"),"$1");n.datepick.performAction(t,i)}}),i.get("isRTL")&&u.addClass(r.rtlClass),f[0]*f[1]>1&&u.addClass(r.multiClass),v=i.get("pickerClass"),v&&u.addClass(v),n("body").append(u),y=0,u.find(r.monthSelector).each(function(){y+=n(this).outerWidth()}),u.width(y/f[0]),p=i.get("onShow"),p&&p.apply(t,[u,i]),u},_generateMonth:function(t,i,r,u,f,e){var yt=n.datepick.daysInMonth(r,u),h=i.get("monthsToShow"),v,k,d,lt,g,nt,y,p,w,b,c,l,s,at,vt;h=n.isArray(h)?h:[1,h];var tt=i.get("fixedWeeks")||h[0]*h[1]>1,it=i.get("firstDay"),rt=(n.datepick.newDate(r,u,1).getDay()-it+7)%7,pt=tt?6:Math.ceil((rt+yt)/7),ut=i.get("showOtherMonths"),ft=i.get("selectOtherMonths")&&ut,et=i.get("dayStatus"),ot=i.pickingRange?i.selectedDates[0]:i.get("minDate"),st=i.get("maxDate"),wt=i.get("rangeSelect"),ht=i.get("onDate"),bt=f.week.indexOf("{weekOfYear}")>-1,ct=i.get("calculateWeek"),kt=n.datepick.today(),o=n.datepick.newDate(r,u,1),a=i.get("anchorDate");for(n.datepick.add(o,-rt-(tt&&o.getDay()==it?7:0),"d"),v=o.getTime(),k="",d=0;d<pt;d++){for(lt=bt?'<span class="dp'+v+'">'+(ct?ct(o):0)+"<\/span>":"",g="",nt=0;nt<7;nt++){if(y=!1,wt&&i.selectedDates.length>0)y=o.getTime()>=i.selectedDates[0]&&o.getTime()<=i.selectedDates[1];else for(p=0;p<i.selectedDates.length;p++)if(i.selectedDates[p].getTime()==o.getTime()){y=!0;break}w=!1,b=i.get("anchorDirection"),b&&a&&i.selectedDates[0]&&(b=="left"&&i.selectedDates[0].getTime()<o.getTime()&&o.getTime()<a.getTime()&&(w=!0),b=="right"&&i.selectedDates[0].getTime()>o.getTime()&&o.getTime()>a.getTime()&&(w=!0)),c=ht?ht.apply(t,[o,o.getMonth()+1==u]):{},l=(ft||o.getMonth()+1==u)&&this._isSelectable(t,o,c.selectable,ot,st),g+=this._prepare(f.day,i).replace(/\{day\}/g,(l?'<a href="javascript:void(0)"':"<span")+' class="dp'+v+" "+(c.dateClass||"")+(y&&(ft||o.getMonth()+1==u)?" "+f.selectedClass:"")+(l?" "+f.defaultClass:"")+((o.getDay()||7)<6?"":" "+f.weekendClass)+(o.getMonth()+1==u?"":" "+f.otherMonthClass)+(o.getTime()==kt.getTime()&&o.getMonth()+1==u?" "+f.todayClass:"")+(a&&o.getTime()==a.getTime()?" "+f.anchorClass:"")+(l&&w?" "+f.anchorPeriodClass:"")+'"'+(c.title||et&&l?' title="'+(c.title||n.datepick.formatDate(et,o,i.getConfig()))+'"':"")+">"+(ut||o.getMonth()+1==u?c.content||o.getDate():"&nbsp;")+(l?"<\/a>":"<\/span>")),n.datepick.add(o,1,"d"),v=o.getTime()}k+=this._prepare(f.week,i).replace(/\{days\}/g,g).replace(/\{weekOfYear\}/g,lt)}return s=this._prepare(f.month,i).match(/\{monthHeader(:[^\}]+)?\}/),at=i.getConfig().monthNames||this._defaults.monthNames,s=s[0].length<=13?"MM yyyy":s[0].substring(13,s[0].length-1),s=e?this._generateMonthSelection(i,r,u,ot,st,s,f):at[u-1]+" "+r,vt=this._prepare(f.weekHeader,i).replace(/\{days\}/g,this._generateDayHeaders(i,f)),this._prepare(f.month,i).replace(/\{monthHeader(:[^\}]+)?\}/g,s).replace(/\{weekHeader\}/g,vt).replace(/\{weeks\}/g,k)},_generateDayHeaders:function(n,t){for(var f=n.get("firstDay"),e=n.get("dayNames"),o=n.get("dayNamesMin"),u="",r,i=0;i<7;i++)r=(i+f)%7,u+=this._prepare(t.dayHeader,n).replace(/\{day\}/g,'<span class="'+this._curDoWClass+r+'" title="'+e[r]+'">'+o[r]+"<\/span>");return u},_generateMonthSelection:function(t,i,r,u,f,e){var o,s;if(!t.get("changeMonth"))return n.datepick.formatDate(e,n.datepick.newDate(i,r,1),t.getConfig());var a=t.get("monthNames"+(e.match(/mm/i)?"":"Short")),h=e.replace(/m+/i,"\\x2E").replace(/y+/i,"\\x2F"),c='<select class="'+this._monthMonthClass+'" title="'+t.get("monthStatus")+'">',l=n.datepick.today().getFullYear(),v=f?f.getFullYear():l+1;for(o=l;o<=v;o++)for(s=1;s<=12;s++)(!u||n.datepick.newDate(o,s,n.datepick.daysInMonth(o,s)).getTime()>=u.getTime())&&(!f||n.datepick.newDate(o,s,1).getTime()<=f.getTime())&&(c+='<option value="'+s+"/"+o+'"'+(r==s&&o==i?' selected="selected"':"")+">"+a[s-1]+" "+o+"<\/option>");return c+="<\/select>",h=h.replace(/\\x2E/,c),h=h.replace(/\\x2F/,"")},_prepare:function(n,t){var r=function(t,i){for(var r,u;;){if(r=n.indexOf("{"+t+":start}"),r==-1)return;u=n.substring(r).indexOf("{"+t+":end}"),u>-1&&(n=n.substring(0,r)+(i?n.substr(r+t.length+8,u-t.length-8):"")+n.substring(r+u+t.length+6))}},u,i;for(r("inline",t.inline),r("popup",!t.inline),u=/\{l10n:([^\}]+)\}/,i=null;i=u.exec(n);)n=n.replace(i[0],t.get(i[1]));return n}}),n.fn.datepick=function(t){var i=Array.prototype.slice.call(arguments,1);return n.inArray(t,["getDate","isDisabled","isSelectable","options","retrieveDate"])>-1?n.datepick[t].apply(n.datepick,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepick[t].apply(n.datepick,[this].concat(i)):n.datepick._attachPicker(this,t||{})})},n.datepick=new t,n(function(){n(document).mousedown(n.datepick._checkExternalClick).resize(function(){n.datepick.hide(n.datepick.curInst)})})}(jQuery),function(n){n.datepick.regional.ru={monthNames:["","","","","","","","","","","",""],monthNamesDisplay:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],dateFormat:"dd.mm.yyyy",firstDay:1,renderer:n.datepick.defaultRenderer,prevText:"",prevStatus:"",prevJumpText:"&#x3c;&#x3c;",prevJumpStatus:"",nextText:"",nextStatus:"",nextJumpText:"&#x3e;&#x3e;",nextJumpStatus:"",currentText:"",currentStatus:"",todayText:"",todayStatus:"",clearText:" ",clearStatus:"",closeText:"",closeStatus:"",yearStatus:"",monthStatus:"",weekText:"",weekStatus:"",dayStatus:"D, M d",defaultStatus:"",isRTL:!1},n.datepick.setDefaults(n.datepick.regional.ru)}(jQuery),jQuery.cookie=function(n,t,i){var f,r,e,o,u,s;if(typeof t!="undefined"){i=i||{},t===null&&(t="",i.expires=-1),f="",i.expires&&(typeof i.expires=="number"||i.expires.toUTCString)&&(typeof i.expires=="number"?(r=new Date,r.setTime(r.getTime()+i.expires*864e5)):r=i.expires,f="; expires="+r.toUTCString());var h=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:"",l=i.secure?"; secure":"";document.cookie=[n,"=",encodeURIComponent(t),f,h,c,l].join("")}else{if(e=null,document.cookie&&document.cookie!="")for(o=document.cookie.split(";"),u=0;u<o.length;u++)if(s=jQuery.trim(o[u]),s.substring(0,n.length+1)==n+"="){e=decodeURIComponent(s.substring(n.length+1));break}return e}},function(n){function t(n,t){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+n+"=([^&#]*)",u=new RegExp(r),i=u.exec(t);return i==null?"":i[1]}n.prettyPhoto={version:"3.0.2"},n.fn.prettyPhoto=function(i){function b(){n(".pp_loaderIcon").hide(),$ppt.fadeTo(settings.animation_speed,1),projectedTop=scroll_pos.scrollTop+(e/2-r.containerHeight/2),projectedTop<0&&(projectedTop=0),$pp_pic_holder.find(".pp_content").animate({height:r.contentHeight,width:r.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:f/2-r.containerWidth/2,width:r.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(r.height).width(r.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&y(pp_images[set_position])=="image"?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),r.resized?n("a.pp_expand,a.pp_contract").show():n("a.pp_expand,a.pp_contract").hide(),!settings.autoplay_slideshow||h||a||n.prettyPhoto.startSlideshow(),settings.changepicturecallback(),a=!0}),rt()}function k(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){n(".pp_loaderIcon").show(),t()})}function tt(t){t>1?n(".pp_nav").show():n(".pp_nav").hide()}function u(n,t){if(resized=!1,d(n,t),imageWidth=n,imageHeight=t,(s>f||o>e)&&doresize&&settings.allow_resize&&!l){for(resized=!0,fitting=!1;!fitting;)s>f?(imageWidth=f-200,imageHeight=t/n*imageWidth):o>e?(imageHeight=e-200,imageWidth=n/t*imageHeight):fitting=!0,o=imageHeight,s=imageWidth;d(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(o),containerWidth:Math.floor(s)+40,contentHeight:Math.floor(v),contentWidth:Math.floor(w),resized:resized}}function d(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().appendTo(n("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,n.browser.msie&&n.browser.version==7&&(detailsHeight+=8),$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(n("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),v=i+detailsHeight,w=t,o=v+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),s=t}function y(n){return n.match(/youtube\.com\/watch/i)?"youtube":n.match(/vimeo\.com/i)?"vimeo":n.match(/\b.mov\b/i)?"quicktime":n.match(/\b.swf\b/i)?"flash":n.match(/\biframe=true\b/i)?"iframe":n.match(/\bcustom=true\b/i)?"custom":n.substr(0,1)=="#"?"inline":"image"}function p(){doresize&&typeof $pp_pic_holder!="undefined"&&(scroll_pos=g(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=e/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),$pp_pic_holder.css({top:projectedTop,left:f/2+scroll_pos.scrollLeft-contentwidth/2}))}function g(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function it(){e=n(window).height(),f=n(window).width(),typeof $pp_overlay!="undefined"&&$pp_overlay.height(n(document).height()).width(f)}function rt(){isSet&&settings.overlay_gallery&&y(pp_images[set_position])=="image"?(itemWidth=57,navWidth=settings.theme=="facebook"?58:38,itemsPerPage=Math.floor((r.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,totalPage==0?(navWidth=0,$pp_pic_holder.find(".pp_gallery .pp_arrow_next,.pp_gallery .pp_arrow_previous").hide()):$pp_pic_holder.find(".pp_gallery .pp_arrow_next,.pp_gallery .pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth+navWidth,$pp_pic_holder.find(".pp_gallery").width(galleryWidth).css("margin-left",-(galleryWidth/2)),$pp_pic_holder.find(".pp_gallery ul").width(itemsPerPage*itemWidth).find("li.selected").removeClass("selected"),goToPage=Math.ceil((set_position+1)/itemsPerPage)<totalPage?Math.ceil((set_position+1)/itemsPerPage):totalPage,n.prettyPhoto.changeGalleryPage(goToPage),$pp_pic_holder.find(".pp_gallery ul li:eq("+set_position+")").addClass("selected")):($pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave"),$pp_pic_holder.find(".pp_gallery").hide())}function nt(){if(n("body").append(settings.markup),$pp_pic_holder=n(".pp_pic_holder"),$ppt=n(".ppt"),$pp_overlay=n("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var i=0;i<pp_images.length;i++)pp_images[i].match(/\b(jpg|jpeg|png|gif)\b/gi)?classname="":classname="default",toInject+="<li class='"+classname+"'><a href='#'><img src='"+pp_images[i]+"' width='50' alt='' /><\/a><\/li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_pic_holder.find(".pp_gallery .pp_arrow_next").click(function(){return n.prettyPhoto.changeGalleryPage("next"),n.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_gallery .pp_arrow_previous").click(function(){return n.prettyPhoto.changeGalleryPage("previous"),n.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_pic_holder.find(".pp_gallery ul li").each(function(t){n(this).css({position:"absolute",left:t*itemWidth}),n(this).find("a").unbind("click").click(function(){return n.prettyPhoto.changePage(t),n.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play<\/a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return n.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:n(document).height(),width:n(window).width()}).bind("click",function(){settings.modal||n.prettyPhoto.close()}),n("a.pp_close").bind("click",function(){return n.prettyPhoto.close(),!1}),n("a.pp_expand").bind("click",function(){return n(this).hasClass("pp_expand")?(n(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(n(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),k(function(){n.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return n.prettyPhoto.changePage("previous"),n.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return n.prettyPhoto.changePage("next"),n.prettyPhoto.stopSlideshow(),!1}),p()}i=jQuery.extend({animation_speed:"fast",slideshow:!1,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"facebook",hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,overlay_gallery:!0,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt">&nbsp;<\/div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"><\/div> \t\t\t\t\t\t\t<div class="pp_middle"><\/div> \t\t\t\t\t\t\t<div class="pp_right"><\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"><\/div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand<\/a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next<\/a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous<\/a> \t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"><\/div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details clearfix"> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"><\/p> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close<\/a> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous<\/a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0<\/p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next<\/a> \t\t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"><\/div> \t\t\t\t\t\t\t<div class="pp_middle"><\/div> \t\t\t\t\t\t\t<div class="pp_right"><\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t<\/div> \t\t\t\t\t<div class="pp_overlay"><\/div>',gallery_markup:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous<\/a> \t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t<\/ul> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next<\/a> \t\t\t\t\t\t\t<\/div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"><\/embed><\/object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"><\/embed><\/object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"><\/iframe>',inline_markup:'<div class="pp_inline clearfix">{content}<\/div>',custom_markup:""},i);var c=this,l=!1,r,a,v,w,o,s,e=n(window).height(),f=n(window).width(),h;return doresize=!0,scroll_pos=g(),n(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){p(),it()}),i.keyboard_shortcuts&&n(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:n.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:n.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||n.prettyPhoto.close(),t.preventDefault()}}),n.prettyPhoto.initialize=function(){return settings=i,n.browser.msie&&parseInt(n.browser.version)==6&&(settings.theme="light_square"),theRel=n(this).attr("rel"),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(c,function(t){if(n(t).attr("rel").indexOf(theRel)!=-1)return n(t).attr("href")}):n.makeArray(n(this).attr("href")),pp_titles=isSet?jQuery.map(c,function(t){if(n(t).attr("rel").indexOf(theRel)!=-1)return n(t).find("img").attr("alt")?n(t).find("img").attr("alt"):""}):n.makeArray(n(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(c,function(t){if(n(t).attr("rel").indexOf(theRel)!=-1)return n(t).attr("title")?n(t).attr("title"):""}):n.makeArray(n(this).attr("title")),nt(this),settings.allow_resize&&n(window).bind("scroll.prettyphoto",function(){p()}),set_position=jQuery.inArray(n(this).attr("href"),pp_images),n.prettyPhoto.open(),!1},n.prettyPhoto.open=function(f){return typeof settings=="undefined"&&(settings=i,n.browser.msie&&n.browser.version==6&&(settings.theme="light_square"),pp_images=n.makeArray(arguments[0]),pp_titles=arguments[1]?n.makeArray(arguments[1]):n.makeArray(""),pp_descriptions=arguments[2]?n.makeArray(arguments[2]):n.makeArray(""),isSet=pp_images.length>1?!0:!1,set_position=0,nt(f.target)),n.browser.msie&&n.browser.version==6&&n("select").css("visibility","hidden"),settings.hideflash&&n("object,embed").css("visibility","hidden"),tt(n(pp_images).size()),n(".pp_loaderIcon").show(),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+n(pp_images).size()),$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])),settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;"),movie_width=parseFloat(t("width",pp_images[set_position]))?t("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(t("height",pp_images[set_position]))?t("height",pp_images[set_position]):settings.default_height.toString(),movie_height.indexOf("%")!=-1&&(movie_height=parseFloat(n(window).height()*parseFloat(movie_height)/100-150),l=!0),movie_width.indexOf("%")!=-1&&(movie_width=parseFloat(n(window).width()*parseFloat(movie_width)/100-150),l=!0),$pp_pic_holder.fadeIn(function(){imgPreloader="";switch(y(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<n(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){r=u(imgPreloader.width,imgPreloader.height),b()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),n.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":r=u(movie_width,movie_height),movie="http://www.youtube.com/v/"+t("v",pp_images[set_position]),settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.flash_markup.replace(/{width}/g,r.width).replace(/{height}/g,r.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":r=u(movie_width,movie_height),movie_id=pp_images[set_position];var i=/http:\/\/(www\.)?vimeo.com\/(\d+)/,f=movie_id.match(i);movie="http://player.vimeo.com/video/"+f[2]+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=r.width+"/embed/?moog_width="+r.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,r.height).replace(/{path}/g,movie);break;case"quicktime":r=u(movie_width,movie_height),r.height+=15,r.contentHeight+=15,r.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,r.width).replace(/{height}/g,r.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":r=u(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,r.width).replace(/{height}/g,r.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":r=u(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,r.width).replace(/{height}/g,r.height).replace(/{path}/g,frame_url);break;case"custom":r=u(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=n(pp_images[set_position]).clone().css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline clearfix"><\/div><\/div>').appendTo(n("body")).show(),doresize=!1,r=u(n(myClone).width(),n(myClone).height()),doresize=!0,n(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,n(pp_images[set_position]).html())}imgPreloader||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,b())}),!1},n.prettyPhoto.changePage=function(t){if(currentGalleryPage=0,t=="previous"){if(set_position--,set_position<0){set_position=0;return}}else t=="next"?(set_position++,set_position>n(pp_images).size()-1&&(set_position=0)):set_position=t;doresize||(doresize=!0),n(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),k(function(){n.prettyPhoto.open()})},n.prettyPhoto.changeGalleryPage=function(t){t=="next"?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):t=="previous"?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=t,itemsToSlide=currentGalleryPage==totalPage?pp_images.length-totalPage*itemsPerPage:itemsPerPage,$pp_pic_holder.find(".pp_gallery li").each(function(t){n(this).animate({left:t*itemWidth-itemsToSlide*itemWidth*currentGalleryPage})})},n.prettyPhoto.startSlideshow=function(){typeof h=="undefined"?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return n.prettyPhoto.stopSlideshow(),!1}),h=setInterval(n.prettyPhoto.startSlideshow,settings.slideshow)):n.prettyPhoto.changePage("next")},n.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return n.prettyPhoto.startSlideshow(),!1}),clearInterval(h),h=undefined},n.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(n.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),n("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){n(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){n.browser.msie&&n.browser.version==6&&n("select").css("visibility","visible"),settings.hideflash&&n("object,embed").css("visibility","visible"),n(this).remove(),n(window).unbind("scroll"),settings.callback(),doresize=!0,a=!1,delete settings}))},this.unbind("click.prettyphoto").bind("click.prettyphoto",n.prettyPhoto.initialize)}}(jQuery),function(n){"$:nomunge";var t,e,c=1,i,r=this,u=!1,f="postMessage",o="addEventListener",s,h=r[f]&&!n.browser.opera;n[f]=function(t,i,r){i&&(t=typeof t=="string"?t:n.param(t),r=r||parent,h?r[f](t,i.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):i&&(r.location=i.replace(/#.*$/,"")+"#"+ +new Date+c+++"&"+t))},n.receiveMessage=s=function(f,c,l){h?(f&&(i&&s(),i=function(t){if(typeof c=="string"&&t.origin!==c||n.isFunction(c)&&c(t.origin)===u)return u;f(t)}),r[o]?r[f?o:"removeEventListener"]("message",i,u):r[f?"attachEvent":"detachEvent"]("onmessage",i)):(t&&clearInterval(t),t=null,f&&(l=typeof c=="number"?c:typeof l=="number"?l:100,t=setInterval(function(){var n=document.location.hash,t=/^#?\d+&/;n!==e&&t.test(n)&&(e=n,f({data:n.replace(t,"")}))},l)))}}(jQuery),function(n){var r={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},t={TAB:9,RETURN:13,ESC:27,BACKSPACE:8,DELETE:46},i={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},u=function(r){var u=r.keyCode;return u=n.browser.safari?i[u]||u:u,u>=33&&u<=40||u==t.RETURN||u==t.TAB||u==t.ESC},f=function(t){var i=t.keyCode,r=t.charCode;return i==9||i==13||i==40&&(!n.browser.opera||!t.shiftKey)||i==27||i==16||i==17||i>=18&&i<=20||n.browser.opera&&!t.shiftKey&&(i==8||i>=33&&i<=35||i>=36&&i<=39||i>=44&&i<=45)},e=function(t){var r=t.keyCode||t.charCode;return n.browser.safari?i[r]||r:r},o=function(n){return n.charCode||n.keyCode||n.which};n.fn.keyfilter=function(i,r){return this.keypress(function(s){var c;if(!s.ctrlKey&&!s.altKey&&(c=e(s),!u(s)&&c!=t.BACKSPACE&&(c!=t.DELETE||s.charCode!=0&&s.charCode=="undefined"))){var a=o(s),l=String.fromCharCode(a),h=!0;(n.browser.mozilla||!f(s)&&l)&&(h=n.isFunction(i)?i.call(this,l):i.test(l),n.isFunction(r)&&(h=r.call(this,h)),h||s.preventDefault())}})},n.extend(n.fn.keyfilter,{defaults:{masks:r},version:1.7}),n(document).ready(function(){var i=n("input[class*=mask],textarea[class*=mask]"),t;for(t in n.fn.keyfilter.defaults.masks)i.filter(".mask-"+t).keyfilter(n.fn.keyfilter.defaults.masks[t])}),n.fn.pastefilter=function(t,i){return n.browser.msie?this.bind("input1",function(r){var f=n(this).val(),u=!0;u=n.isFunction(t)?t.call(this,f):t.test(f),n.isFunction(i)&&(u=i.call(this,u)),u||r.preventDefault()}):this.bind("input",function(r){var f=n(this).val(),u=!0;u=n.isFunction(t)?t.call(this,f):t.test(f),n.isFunction(i)&&(u=i.call(this,u)),u||r.preventDefault()})}}(jQuery),function(n){function t(){var t=n(this);window.event.propertyName!="value"||t.data("triggering.inputEvent")||(t.data("triggering.inputEvent",!0).trigger("input"),window.setTimeout(function(){t.data("triggering.inputEvent",!1)},0))}function i(n){if(n.setAttribute("oninput","return"),typeof n.oninput=="function")return!0;try{var t=document.createEvent("KeyboardEvent"),i=!1,r=function(n){i=!0,n.preventDefault(),n.stopPropagation()};return t.initKeyEvent("keypress",!0,!0,window,!1,!1,!1,!1,0,"e".charCodeAt(0)),document.body.appendChild(n),n.addEventListener("input",r,!1),n.focus(),n.dispatchEvent(t),n.removeEventListener("input",r,!1),document.body.removeChild(n),i}catch(t){}}n.event.special.input1={setup:function(){function h(){var t=n(f);f.value==c||t.data("triggering.inputEvent")||(c=f.value,t.data("triggering.inputEvent",!0).trigger("input"),window.setTimeout(function(){t.data("triggering.inputEvent",!1)},0))}function y(n){n.type=="focus"?(h(),clearInterval(e),e=window.setInterval(h,250)):n.type=="blur"?window.clearInterval(e):window.setTimeout(h,0)}var e,f=this,c=f.value,o=document.createElement(this.tagName),l="oninput"in o||i(o),a="onpropertychange"in o,s="inputEventNS"+~~(Math.random()*1e7),v=["focus","blur","paste","cut","keydown","drop",""].join("."+s+" ");if(l)return!1;a?n(this).find("input, textarea").andSelf().filter("input, textarea").bind("propertychange."+s,t):n(this).find("input, textarea").andSelf().filter("input, textarea").bind(v,y),n(this).data("inputEventHandlerNS",s)},teardown:function(){var t=n(this);t.find("input, textarea").unbind(t.data("inputEventHandlerNS")),t.data("inputEventHandlerNS","")}},n.fn.input=function(n){return n?this.bind("input",n):this.trigger("input")}}(jQuery),function(n){m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n.toJSON=function(t,i){var f,r,u,o,s=/["\\\x00-\x1f\x7f-\x9f]/g,e;switch(typeof t){case"string":return s.test(t)?'"'+t.replace(s,function(n){var t=m[n];return t?t:(t=n.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+t+'"';case"number":return isFinite(t)?String(t):"null";case"boolean":case"null":return String(t);case"object":if(!t)return"null";if(typeof t.toJSON=="function")return n.toJSON(t.toJSON());if(f=[],typeof t.length=="number"&&!t.propertyIsEnumerable("length")){for(o=t.length,r=0;r<o;r+=1)f.push(n.toJSON(t[r],i)||"null");return"["+f.join(",")+"]"}if(i)for(o=i.length,r=0;r<o;r+=1)u=i[r],typeof u=="string"&&(e=n.toJSON(t[u],i),e&&f.push(n.toJSON(u)+":"+e));else for(u in t)typeof u=="string"&&(e=n.toJSON(t[u],i),e&&f.push(n.toJSON(u)+":"+e));return"{"+f.join(",")+"}"}}}(jQuery),function(n){var t={},r=0,u;n.galleriffic={version:"2.0.1",normalizeHash:function(n){return n.replace(/^.*#/,"").replace(/\?.*$/,"")},getImage:function(i){return i?(i=n.galleriffic.normalizeHash(i),t[i]):undefined},gotoImage:function(t){var i=n.galleriffic.getImage(t),r;return i?(r=i.gallery,r.gotoImage(i),!0):!1},removeImageByHash:function(t,i){var r=n.galleriffic.getImage(t),u;return r?(u=r.gallery,i&&i!=u)?!1:u.removeImageByIndex(r.index):!1}},u={maxWidth:350,delay:3e3,numThumbs:20,preloadAhead:40,enableTopPager:!1,enableBottomPager:!0,maxPagesToShow:7,imageContainerSel:"",captionContainerSel:"",controlsContainerSel:"",loadingContainerSel:"",renderSSControls:!0,renderNavControls:!0,playLinkText:"",pauseLinkText:"",prevLinkText:"",nextLinkText:"",nextPageLinkText:" &rsaquo;",prevPageLinkText:"&lsaquo; ",enableHistory:!1,enableKeyboardNavigation:!0,autoStart:!1,syncTransitions:!1,defaultTransitionDuration:1e3,onSlideChange:undefined,onTransitionOut:undefined,onTransitionIn:undefined,onPageTransitionOut:undefined,onPageTransitionIn:undefined,onImageAdded:undefined,onImageRemoved:undefined},n.fn.galleriffic=function(f){var e,o,s,h;return n.extend(this,{version:n.galleriffic.version,isSlideshowRunning:!1,slideshowTimeout:undefined,clickHandler:function(t,i){if(this.pause(),!this.enableHistory){var r=n.galleriffic.normalizeHash(n(i).attr("href"));n.galleriffic.gotoImage(r),t.preventDefault()}},appendImage:function(n){return this.addImage(n,!1,!1),this},insertImage:function(n,t){return this.addImage(n,!1,!0,t),this},addImage:function(i,u,f,e){var h=typeof i=="string"?n(i):i,o=h.find("a.thumb"),y=o.attr("href"),a=o.attr("title"),p=h.find(".caption").remove(),s=o.attr("name"),v=o.attr("data-thumb-src"),w='<img src="'+v+'" alt="'+a+'" width="104" height="78" />',c,l;return r++,(!s||t[""+s])&&(s=r),f||(e=this.data.length),c={title:a,slideUrl:y,caption:p,hash:s,gallery:this,index:e},f?(this.data.splice(e,0,c),this.updateIndices(e)):this.data.push(c),l=this,u||this.updateThumbs(function(){var n=l.find("ul.thumbs");if(f?n.children(":eq("+e+")").before(h):n.append(h),l.onImageAdded)l.onImageAdded(c,h)}),t[""+s]=c,o.attr("rel","history").attr("href","#"+s).removeAttr("name").click(function(n){l.clickHandler(n,this)}),v&&o.html(w),this},removeImageByIndex:function(n){if(n<0||n>=this.data.length)return!1;var t=this.data[n];return t?(this.removeImage(t),!0):!1},removeImageByHash:function(t){return n.galleriffic.removeImageByHash(t,this)},removeImage:function(n){var i=n.index;return this.data.splice(i,1),delete t[""+n.hash],this.updateThumbs(function(){var t=e.find("ul.thumbs").children(":eq("+i+")").remove();if(e.onImageRemoved)e.onImageRemoved(n,t)}),this.updateIndices(i),this},updateIndices:function(n){for(i=n;i<this.data.length;i++)this.data[i].index=i;return this},initializeThumbs:function(){this.data=[];var t=this;return this.find("ul.thumbs > li").each(function(){t.addImage(n(this),!0,!1)}),this},isPreloadComplete:!1,preloadInit:function(){if(this.preloadAhead==0)return this;this.preloadStartIndex=this.currentImage.index;var n=this.getNextIndex(this.preloadStartIndex);return this.preloadRecursive(this.preloadStartIndex,n)},preloadRelocate:function(n){return this.preloadStartIndex=n,this},preloadRecursive:function(n,t){var e,f,r,i,u;return n!=this.preloadStartIndex?(e=this.getNextIndex(this.preloadStartIndex),this.preloadRecursive(this.preloadStartIndex,e)):(f=this,r=t-n,r<0&&(r=this.data.length-1-n+t),this.preloadAhead>=0&&r>this.preloadAhead)?(setTimeout(function(){f.preloadRecursive(n,t)},500),this):(i=this.data[t],!i)?this:i.image?this.preloadNext(n,t):(u=new Image,u.onload=function(){i.image=this,f.preloadNext(n,t)},u.alt=i.title,u.src=i.slideUrl,this)},preloadNext:function(n,t){var i=this.getNextIndex(t),r;return i==n?this.isPreloadComplete=!0:(r=this,setTimeout(function(){r.preloadRecursive(n,i)},100)),this},getNextIndex:function(n){var t=n+1;return t>=this.data.length&&(t=0),t},getPrevIndex:function(n){var t=n-1;return t<0&&(t=this.data.length-1),t},pause:function(){return this.isSlideshowRunning=!1,this.slideshowTimeout&&(clearTimeout(this.slideshowTimeout),this.slideshowTimeout=undefined),this.$controlsContainer&&this.$controlsContainer.find("div.ss-controls a").removeClass().addClass("play").attr("title",this.playLinkText).attr("href","#play").html(this.playLinkText),this},play:function(){if(this.isSlideshowRunning=!0,this.$controlsContainer&&this.$controlsContainer.find("div.ss-controls a").removeClass().addClass("pause").attr("title",this.pauseLinkText).attr("href","#pause").html(this.pauseLinkText),!this.slideshowTimeout){var n=this;this.slideshowTimeout=setTimeout(function(){n.ssAdvance()},this.delay)}return this},toggleSlideshow:function(){return this.isSlideshowRunning?this.pause():this.play(),this},ssAdvance:function(){return this.isSlideshowRunning&&this.next(!0),this},next:function(n,t){return this.gotoIndex(this.getNextIndex(this.currentImage.index),n,t),this},previous:function(n,t){return this.gotoIndex(this.getPrevIndex(this.currentImage.index),n,t),this},nextPage:function(n,t){var i=this.getCurrentPage(),f=this.getNumPages()-1,r,u;return i<f&&(r=i*this.numThumbs,u=r+this.numThumbs,this.gotoIndex(u,n,t)),this},previousPage:function(n,t){var i=this.getCurrentPage(),r,u;return i>0&&(r=i*this.numThumbs,u=r-this.numThumbs,this.gotoIndex(u,n,t)),this},gotoIndex:function(t,i,r){i||this.pause(),t<0?t=0:t>=this.data.length&&(t=this.data.length-1);var u=this.data[t];return!r&&this.enableHistory?n.historyLoad(String(u.hash)):this.gotoImage(u),this},gotoImage:function(n){var t=n.index;if(this.onSlideChange)this.onSlideChange(this.currentImage.index,t);return this.currentImage=n,this.preloadRelocate(t),this.refresh(),this},getDefaultTransitionDuration:function(n){return n?this.defaultTransitionDuration:this.defaultTransitionDuration/2},refresh:function(){var n=this.currentImage,e,u,r,f;if(!n)return this;e=n.index,this.$controlsContainer&&this.$controlsContainer.find("div.nav-controls a.prev").attr("href","#"+this.data[this.getPrevIndex(e)].hash).end().find("div.nav-controls a.next").attr("href","#"+this.data[this.getNextIndex(e)].hash),u=this.$imageContainer.find("span.current").addClass("previous").removeClass("current"),r=0,this.$captionContainer&&(r=this.$captionContainer.find("span.current").addClass("previous").removeClass("current"));var i=this.syncTransitions&&n.image,s=!0,t=this,o=function(){s=!1,u.remove(),r&&r.remove(),i||(n.image&&n.hash==t.data[t.currentImage.index].hash?t.buildImage(n,i):t.$loadingContainer&&t.$loadingContainer.show())};if(u.length==0)o();else if(this.onTransitionOut)this.onTransitionOut(u,r,i,o);else u.fadeTo(this.getDefaultTransitionDuration(i),0,o),r&&r.fadeTo(this.getDefaultTransitionDuration(i),0);return i&&this.buildImage(n,i),n.image||(f=new Image,f.onload=function(){n.image=this;var r=n.image.width,u=n.image.height;r&&t.maxWidth&&r>t.maxWidth&&(n.image.width=t.maxWidth,n.image.height=t.maxWidth*u/r),s||n.hash!=t.data[t.currentImage.index].hash||t.buildImage(n,i)},f.alt=n.title,f.src=n.slideUrl),this.relocatePreload=!0,this.syncThumbs()},buildImage:function(n,t){var u=this,f=this.getNextIndex(n.index),r=this.$imageContainer.html('<span class="image-wrapper current"><a class="advance-link" rel="history" href="#'+this.data[f].hash+'" title="'+n.title+'">&nbsp;<\/a><\/span>').find("span.current").css("opacity","0"),i;if(r.find("a").append(n.image).click(function(n){u.clickHandler(n,this)}),i=0,this.$captionContainer&&(i=this.$captionContainer.append('<span class="image-caption current"><\/span>').find("span.current").css("opacity","0").append(n.caption)),this.$loadingContainer&&this.$loadingContainer.hide(),this.onTransitionIn)this.onTransitionIn(r,i,t);else r.fadeTo(this.getDefaultTransitionDuration(t),1),i&&i.fadeTo(this.getDefaultTransitionDuration(t),1);return this.isSlideshowRunning&&(this.slideshowTimeout&&clearTimeout(this.slideshowTimeout),this.slideshowTimeout=setTimeout(function(){u.ssAdvance()},this.delay)),this},getCurrentPage:function(){return Math.floor(this.currentImage.index/this.numThumbs)},syncThumbs:function(){var t=this.getCurrentPage(),n;return t!=this.displayedPage&&this.updateThumbs(),n=this.find("ul.thumbs").children(),n.filter(".selected").removeClass("selected"),n.eq(this.currentImage.index).addClass("selected"),this},updateThumbs:function(n){var t=this,i=function(){n&&n(),t.rebuildThumbs(),t.onPageTransitionIn?t.onPageTransitionIn():t.show()};if(this.onPageTransitionOut)this.onPageTransitionOut(i);else this.hide(),i();return this},rebuildThumbs:function(){var f=this.data.length>this.numThumbs,t,i,u;this.enableTopPager&&(t=this.find("div.top"),t.length==0?t=this.prepend('<div class="top pagination"><\/div>').find("div.top"):t.empty(),f&&this.buildPager(t)),this.enableBottomPager&&(i=this.find("div.bottom"),i.length==0?i=this.append('<div class="bottom pagination"><\/div>').find("div.bottom"):i.empty(),f&&this.buildPager(i));var e=this.getCurrentPage(),o=e*this.numThumbs,r=o+this.numThumbs-1;return r>=this.data.length&&(r=this.data.length-1),u=this.find("ul.thumbs"),u.find("li").each(function(t){var i=n(this);t>=o&&t<=r?i.show():i.hide()}),this.displayedPage=e,u.removeClass("noscript"),this},getNumPages:function(){return Math.ceil(this.data.length/this.numThumbs)},buildPager:function(n){var c=this,i=this.getNumPages(),u=this.getCurrentPage(),s=u*this.numThumbs,r=this.maxPagesToShow-1,t=u-Math.floor((this.maxPagesToShow-1)/2)+1,f,h,e,o;for(t>0&&(f=i-t,f<r&&(t=t-(r-f))),t<0&&(t=0),u>0&&(h=s-this.numThumbs,n.append('<a rel="history" href="#'+this.data[h].hash+'" title="'+this.prevPageLinkText+'">'+this.prevPageLinkText+"<\/a>")),t>0&&(this.buildPageLink(n,0,i),t>1&&n.append('<span class="ellipsis">&hellip;<\/span>'),r--);r>0;)this.buildPageLink(n,t,i),r--,t++;return t<i&&(e=i-1,t<e&&n.append('<span class="ellipsis">&hellip;<\/span>'),this.buildPageLink(n,e,i)),o=s+this.numThumbs,o<this.data.length&&n.append('<a rel="history" href="#'+this.data[o].hash+'" title="'+this.nextPageLinkText+'">'+this.nextPageLinkText+"<\/a>"),n.find("a").click(function(n){c.clickHandler(n,this)}),this},buildPageLink:function(n,t,i){var r=t+1,f=this.getCurrentPage(),u;return t==f?n.append('<span class="current">'+r+"<\/span>"):t<i&&(u=t*this.numThumbs,n.append('<a rel="history" href="#'+this.data[u].hash+'" title="'+r+'">'+r+"<\/a>")),this}}),n.extend(this,u,f),this.enableHistory&&!n.historyInit&&(this.enableHistory=!1),this.imageContainerSel&&(this.$imageContainer=n(this.imageContainerSel)),this.captionContainerSel&&(this.$captionContainer=n(this.captionContainerSel)),this.loadingContainerSel&&(this.$loadingContainer=n(this.loadingContainerSel)),this.initializeThumbs(),this.maxPagesToShow<3&&(this.maxPagesToShow=3),this.displayedPage=-1,this.currentImage=this.data[0],e=this,this.$loadingContainer&&this.$loadingContainer.hide(),this.controlsContainerSel&&(this.$controlsContainer=n(this.controlsContainerSel).empty(),this.renderSSControls&&(this.autoStart?this.$controlsContainer.append('<div class="ss-controls"><a href="#pause" class="pause" title="'+this.pauseLinkText+'">'+this.pauseLinkText+"<\/a><\/div>"):this.$controlsContainer.append('<div class="ss-controls"><a href="#play" class="play" title="'+this.playLinkText+'">'+this.playLinkText+"<\/a><\/div>"),this.$controlsContainer.find("div.ss-controls a").click(function(n){return e.toggleSlideshow(),n.preventDefault(),!1})),this.renderNavControls&&this.$controlsContainer.append('<div class="nav-controls"><a class="prev" rel="history" title="'+this.prevLinkText+'">'+this.prevLinkText+'<\/a><a class="next" rel="history" title="'+this.nextLinkText+'">'+this.nextLinkText+"<\/a><\/div>").find("div.nav-controls a").click(function(n){e.clickHandler(n,this)})),o=!this.enableHistory||!location.hash,this.enableHistory&&location.hash&&(s=n.galleriffic.normalizeHash(location.hash),h=t[s],h||(o=!0)),o&&this.gotoIndex(0,!1,!0),this.enableKeyboardNavigation&&n(document).keydown(function(n){var t=n.charCode?n.charCode:n.keyCode?n.keyCode:0;switch(t){case 32:e.next(),n.preventDefault();break;case 33:e.previousPage(),n.preventDefault();break;case 34:e.nextPage(),n.preventDefault();break;case 35:e.gotoIndex(e.data.length-1),n.preventDefault();break;case 36:e.gotoIndex(0),n.preventDefault();break;case 37:e.previous(),n.preventDefault();break;case 39:e.next(),n.preventDefault()}}),this.autoStart&&this.play(),setTimeout(function(){e.preloadInit()},1e3),this}}(jQuery),Raphael=function(){function n(){var r,o,u;if(n.is(arguments[0],ot)){var i=arguments[0],f=fr[b](n,i.splice(0,3+n.is(i[0],nt))),e=f.set();for(r=0,o=i[t];r<o;r++)u=i[r]||{},uf.test(u.type)&&e[v](f[u.type]().attr(u));return e}return fr[b](n,arguments)}function ct(n,r,u){function f(){var c=Array[i].slice.call(arguments,0),e=c[it](""),o=f.cache=f.cache||{},h=f.count=f.count||[];return o[s](e)?u?u(o[e]):o[e]:(h[t]>=1e3&&delete o[h.shift()],h[v](e),o[e]=n[b](r,c),u?u(o[e]):o[e])}return f}function ku(){return this.x+d+this.y}function tf(t){return function(i,u,f,e){var o={back:t};return n.is(f,"function")?e=f:o.rot=f,i&&i.constructor==r&&(i=i.attrs.path),i&&(o.along=i),this.animate(o,u,e)}}var hi,ci,wr,br,u,wu,rt,sr,ft,ki,rf;n.version="1.4.7";var et=/[, ]+/,uf=/^(circle|rect|path|ellipse|text|image)$/,i="prototype",s="hasOwnProperty",c=document,pt=window,ar={was:Object[i][s].call(pt,"Raphael"),is:pt.Raphael},w=function(){},e="appendChild",b="apply",k="concat",di="createTouch"in c,h="",d=" ",l=String,y="split",vr="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[y](d),gi={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},it="join",t="length",wt=String[i].toLowerCase,f=Math,ht=f.max,at=f.min,nt="number",bt="string",ot="array",g="toString",vt="fill",ff=Object[i][g],te={},a=f.pow,v="push",dt=/^(?=[\da-f]$)/,yr=/^url\(['"]?([^\)]+?)['"]?\)$/i,ef=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%)?)\s*\)|hsb\(\s*([\d\.]+(?:deg|\xb0)?\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsb\(\s*([\d\.]+(?:deg|\xb0|%)\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hsl\(\s*([\d\.]+(?:deg|\xb0)?\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsl\(\s*([\d\.]+(?:deg|\xb0|%)\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,tt=f.round,st="setAttribute",o=parseFloat,kt=parseInt,nr=" progid:DXImageTransform.Microsoft",oi=String[i].toUpperCase,si={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},tr={along:"along",blur:nt,"clip-rect":"csv",cx:nt,cy:nt,fill:"colour","fill-opacity":nt,"font-size":nt,height:nt,opacity:nt,path:"path",r:nt,rotation:"csv",rx:nt,ry:nt,scale:"csv",stroke:"colour","stroke-opacity":nt,"stroke-width":nt,translation:"csv",width:nt,x:nt,y:nt},p="replace";if(n.type=pt.SVGAngle||c.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",n.type=="VML"){if(hi=c.createElement("div"),hi.innerHTML='<v:shape adj="1"/>',ci=hi.firstChild,ci.style.behavior="url(#default#VML)",!(ci&&typeof ci.adj=="object"))return n.type=null;hi=null}n.svg=!(n.vml=n.type=="VML"),w[i]=n[i],n._id=0,n._oid=0,n.fn={},n.is=function(n,t){return t=wt.call(t),t=="object"&&n===Object(n)||t=="undefined"&&typeof n==t||t=="null"&&n==null||t=="array"&&Array.isArray&&Array.isArray(n)||wt.call(ff.call(n).slice(8,-1))==t},n.setWindow=function(n){pt=n,c=pt.document};var li=function(t){var r,i;return n.vml?(r=/^\s+|\s+$/g,li=ct(function(n){var i,u,f,t;n=l(n)[p](r,h);try{u=new pt.ActiveXObject("htmlfile"),u.write("<body>"),u.close(),i=u.body}catch(e){i=pt.createPopup().document.body}f=i.createTextRange();try{return i.style.color=n,t=f.queryCommandValue("ForeColor"),t=(t&255)<<16|t&65280|(t&16711680)>>>16,"#"+("000000"+t[g](16)).slice(-6)}catch(e){return"none"}})):(i=c.createElement("i"),i.title="Raphal Colour Picker",i.style.display="none",c.body[e](i),li=ct(function(n){return i.style.color=n,c.defaultView.getComputedStyle(i,h).getPropertyValue("color")})),li(t)},pr=function(){return"hsb("+[this.h,this.s,this.b]+")"},of=function(){return"hsl("+[this.h,this.s,this.l]+")"},sf=function(){return this.hex};n.hsb2rgb=function(t,i,r){return n.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,i=t.s,t=t.h),n.hsl2rgb(t,i,r/2)},n.hsl2rgb=function(t,i,r){var u,o,s,h,f,c,l,a,e,v;if(n.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,i=t.s,t=t.h),u={},o=["r","g","b"],i)for(s=r<.5?r*(1+i):r+i-r*i,h=2*r-s,e=0,v=o.length;e<v;e++)f=t+1/3*-(e-1),f<0&&f++,f>1&&f--,u[o[e]]=f*6<1?h+(s-h)*6*f:f*2<1?s:f*3<2?h+(s-h)*(2/3-f)*6:h;else u={r:r,g:r,b:r};return u.r*=255,u.g*=255,u.b*=255,c=(~~u.r)[g](16),l=(~~u.g)[g](16),a=(~~u.b)[g](16),c=c[p](dt,"0"),l=l[p](dt,"0"),a=a[p](dt,"0"),u.hex="#"+c+l+a,u.toString=sf,u},n.rgb2hsb=function(t,i,r){var o,e;i==null&&n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,i=t.g,t=t.r),i==null&&n.is(t,bt)&&(o=n.getRGB(t),t=o.r,i=o.g,r=o.b),(t>1||i>1||r>1)&&(t/=255,i/=255,r/=255);var f=ht(t,i,r),s=at(t,i,r),u,h,c=f;return s==f?{h:0,s:0,b:f,toString:pr}:(e=f-s,h=e/f,u=t==f?(i-r)/e:i==f?2+(r-t)/e:4+(t-i)/e,u/=6,u<0&&u++,u>1&&u--,{h:u,s:h,b:c,toString:pr})},n.rgb2hsl=function(t,i,r){var s,e;i==null&&n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,i=t.g,t=t.r),i==null&&n.is(t,bt)&&(s=n.getRGB(t),t=s.r,i=s.g,r=s.b),(t>1||i>1||r>1)&&(t/=255,i/=255,r/=255);var f=ht(t,i,r),o=at(t,i,r),u,l,c=(f+o)/2,h;return o==f?h={h:0,s:0,l:c}:(e=f-o,l=c<.5?e/(f+o):e/(2-f-o),u=t==f?(i-r)/e:i==f?2+(r-t)/e:4+(t-i)/e,u/=6,u<0&&u++,u>1&&u--,h={h:u,s:l,l:c}),h.toString=of,h};var hf=/,?([achlmqrstvxz]),?/gi,gt=/\s*,\s*/,cf={hs:1,rg:1};n._path2string=function(){return this.join(",")[p](hf,"$1")},n.getRGB=ct(function(t){var w,r,u,f,h,e,i;if(!t||!!((t=l(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none"};if(cf[s](t.substring(0,2))||t.charAt()=="#"||(t=li(t)),i=t.match(ef),i){if(i[2]&&(f=kt(i[2].substring(5),16),u=kt(i[2].substring(3,5),16),r=kt(i[2].substring(1,3),16)),i[3]&&(f=kt((e=i[3].charAt(3))+e,16),u=kt((e=i[3].charAt(2))+e,16),r=kt((e=i[3].charAt(1))+e,16)),i[4]&&(i=i[4][y](gt),r=o(i[0]),u=o(i[1]),f=o(i[2]),h=o(i[3])),i[5]&&(i=i[5][y](gt),r=o(i[0])*2.55,u=o(i[1])*2.55,f=o(i[2])*2.55,h=o(i[3])),i[6])return i=i[6][y](gt),r=o(i[0]),u=o(i[1]),f=o(i[2]),(i[0].slice(-3)=="deg"||i[0].slice(-1)=="")&&(r/=360),n.hsb2rgb(r,u,f);if(i[7])return i=i[7][y](gt),r=o(i[0])*2.55,u=o(i[1])*2.55,f=o(i[2])*2.55,(i[0].slice(-3)=="deg"||i[0].slice(-1)=="")&&(r/=360*2.55),n.hsb2rgb(r,u,f);if(i[8])return i=i[8][y](gt),r=o(i[0]),u=o(i[1]),f=o(i[2]),(i[0].slice(-3)=="deg"||i[0].slice(-1)=="")&&(r/=360),n.hsl2rgb(r,u,f);if(i[9])return i=i[9][y](gt),r=o(i[0])*2.55,u=o(i[1])*2.55,f=o(i[2])*2.55,(i[0].slice(-3)=="deg"||i[0].slice(-1)=="")&&(r/=360*2.55),n.hsl2rgb(r,u,f);i={r:r,g:u,b:f};var c=(~~r)[g](16),a=(~~u)[g](16),v=(~~f)[g](16);return c=c[p](dt,"0"),a=a[p](dt,"0"),v=v[p](dt,"0"),i.hex="#"+c+a+v,isFinite(o(h))&&(i.o=h),i}return{r:-1,g:-1,b:-1,hex:"none",error:1}},n),n.getColor=function(n){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:n||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex},n.getColor.reset=function(){delete this.start},wr=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,br=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,n.parsePathString=ct(function(i){if(!i)return null;var u={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return n.is(i,ot)&&n.is(i[0],ot)&&(r=vi(i)),r[t]||l(i)[p](wr,function(n,i,f){var e=[],o=wt.call(i);for(f[p](br,function(n,t){t&&e[v](+t)}),o=="m"&&e[t]>2&&(r[v]([i][k](e.splice(0,2))),o="l",i=i=="m"?"l":"L");e[t]>=u[o];)if(r[v]([i][k](e.splice(0,u[o]))),!u[o])break}),r[g]=n._path2string,r}),n.findDotsAtSegment=function(n,t,i,r,u,e,o,s,h){var c=1-h,b=a(c,3)*n+a(c,2)*3*h*i+c*3*h*h*u+a(h,3)*o,k=a(c,3)*t+a(c,2)*3*h*r+c*3*h*h*e+a(h,3)*s,l=n+2*h*(i-n)+h*h*(u-2*i+n),v=t+2*h*(r-t)+h*h*(e-2*r+t),y=i+2*h*(u-i)+h*h*(o-2*u+i),p=r+2*h*(e-r)+h*h*(s-2*e+r),d=(1-h)*n+h*i,g=(1-h)*t+h*r,nt=(1-h)*u+h*o,tt=(1-h)*e+h*s,w=90-f.atan((l-y)/(v-p))*180/f.PI;return(l>y||v<p)&&(w+=180),{x:b,y:k,m:{x:l,y:v},n:{x:y,y:p},start:{x:d,y:g},end:{x:nt,y:tt},alpha:w}};var ai=ct(function(n){var s,l,f,h,c;if(!n)return{x:0,y:0,width:0,height:0};n=pi(n);var e=0,o=0,r=[],u=[],i;for(s=0,l=n[t];s<l;s++)i=n[s],i[0]=="M"?(e=i[1],o=i[2],r[v](e),u[v](o)):(f=lf(e,o,i[1],i[2],i[3],i[4],i[5],i[6]),r=r[k](f.min.x,f.max.x),u=u[k](f.min.y,f.max.y),e=i[5],o=i[6]);return h=at[b](0,r),c=at[b](0,u),{x:h,y:c,width:ht[b](0,r)-h,height:ht[b](0,u)-c}}),vi=function(i){var f=[],r,e,u,o;for(n.is(i,ot)&&n.is(i&&i[0],ot)||(i=n.parsePathString(i)),r=0,e=i[t];r<e;r++)for(f[r]=[],u=0,o=i[r][t];u<o;u++)f[r][u]=i[r][u];return f[g]=n._path2string,f},ir=ct(function(i){var u,w,f,r,h,b,c,k,l;n.is(i,ot)&&n.is(i&&i[0],ot)||(i=n.parsePathString(i));var e=[],s=0,o=0,a=0,y=0,p=0;for(i[0][0]=="M"&&(s=i[0][1],o=i[0][2],a=s,y=o,p++,e[v](["M",s,o])),u=p,w=i[t];u<w;u++){if(f=e[u]=[],r=i[u],r[0]!=wt.call(r[0])){f[0]=wt.call(r[0]);switch(f[0]){case"a":f[1]=r[1],f[2]=r[2],f[3]=r[3],f[4]=r[4],f[5]=r[5],f[6]=+(r[6]-s).toFixed(3),f[7]=+(r[7]-o).toFixed(3);break;case"v":f[1]=+(r[1]-o).toFixed(3);break;case"m":a=r[1],y=r[2];default:for(h=1,b=r[t];h<b;h++)f[h]=+(r[h]-(h%2?s:o)).toFixed(3)}}else for(f=e[u]=[],r[0]=="m"&&(a=r[1]+s,y=r[2]+o),c=0,k=r[t];c<k;c++)e[u][c]=r[c];l=e[u][t];switch(e[u][0]){case"z":s=a,o=y;break;case"h":s+=+e[u][l-1];break;case"v":o+=+e[u][l-1];break;default:s+=+e[u][l-2],o+=+e[u][l-1]}}return e[g]=n._path2string,e},0,vi),ri=ct(function(i){var f,y,u,r,h,p,c,w;n.is(i,ot)&&n.is(i&&i[0],ot)||(i=n.parsePathString(i));var e=[],o=0,s=0,l=0,a=0,v=0;for(i[0][0]=="M"&&(o=+i[0][1],s=+i[0][2],l=o,a=s,v++,e[0]=["M",o,s]),f=v,y=i[t];f<y;f++){if(u=e[f]=[],r=i[f],r[0]!=oi.call(r[0])){u[0]=oi.call(r[0]);switch(u[0]){case"A":u[1]=r[1],u[2]=r[2],u[3]=r[3],u[4]=r[4],u[5]=r[5],u[6]=+(r[6]+o),u[7]=+(r[7]+s);break;case"V":u[1]=+r[1]+s;break;case"H":u[1]=+r[1]+o;break;case"M":l=+r[1]+o,a=+r[2]+s;default:for(h=1,p=r[t];h<p;h++)u[h]=+r[h]+(h%2?o:s)}}else for(c=0,w=r[t];c<w;c++)e[f][c]=r[c];switch(u[0]){case"Z":o=l,s=a;break;case"H":o=u[1];break;case"V":s=u[1];break;case"M":l=e[f][e[f][t]-2],a=e[f][e[f][t]-1];default:o=e[f][e[f][t]-2],s=e[f][e[f][t]-1]}}return e[g]=n._path2string,e},null,vi),yi=function(n,t,i,r){return[n,t,i,r,i,r]},kr=function(n,t,i,r,u,f){var e=1/3,o=2/3;return[e*n+o*i,e*t+o*r,e*u+o*i,e*f+o*r,u,f]},dr=function(n,i,r,u,e,o,s,h,c,l){var p=f.PI,vt=p*120/180,et=p/180*(+e||0),w=[],nt,ot=ct(function(n,t,i){var r=n*f.cos(i)-t*f.sin(i),u=n*f.sin(i)+t*f.cos(i);return{x:r,y:u}}),st,at,b,ni;if(l)v=l[0],a=l[1],ut=l[2],ft=l[3];else{nt=ot(n,i,-et),n=nt.x,i=nt.y,nt=ot(h,c,-et),h=nt.x,c=nt.y;var si=f.cos(p/180*e),hi=f.sin(p/180*e),d=(n-h)/2,g=(i-c)/2,rt=d*d/(r*r)+g*g/(u*u);rt>1&&(rt=f.sqrt(rt),r=rt*r,u=rt*u);var ht=r*r,lt=u*u,yt=(o==s?-1:1)*f.sqrt(f.abs((ht*lt-ht*g*g-lt*d*d)/(ht*g*g+lt*d*d))),ut=yt*r*g/u+(n+h)/2,ft=yt*-u*d/r+(i+c)/2,v=f.asin(((i-ft)/u).toFixed(7)),a=f.asin(((c-ft)/u).toFixed(7));v=n<ut?p-v:v,a=h<ut?p-a:a,v<0&&(v=p*2+v),a<0&&(a=p*2+a),s&&v>a&&(v=v-p*2),!s&&a>v&&(a=a-p*2)}if(st=a-v,f.abs(st)>vt){var ti=a,ii=h,ri=c;a=v+vt*(s&&a>v?1:-1),h=ut+r*f.cos(a),c=ft+u*f.sin(a),w=dr(h,c,r,u,e,0,s,ii,ri,[a,ti,ut,ft])}st=a-v;var ui=f.cos(v),fi=f.sin(v),ei=f.cos(a),oi=f.sin(a),pt=f.tan(st/4),wt=4/3*r*pt,bt=4/3*u*pt,kt=[n,i],tt=[n+wt*fi,i-bt*ui],dt=[h+wt*oi,c-bt*ei],gt=[h,c];if(tt[0]=2*kt[0]-tt[0],tt[1]=2*kt[1]-tt[1],l)return[tt,dt,gt][k](w);for(w=[tt,dt,gt][k](w)[it]()[y](","),at=[],b=0,ni=w[t];b<ni;b++)at[b]=b%2?ot(w[b-1],w[b],et).y:ot(w[b],w[b+1],et).x;return at},ni=function(n,t,i,r,u,f,e,o,s){var h=1-s;return{x:a(h,3)*n+a(h,2)*3*s*i+h*3*s*s*u+a(s,3)*e,y:a(h,3)*t+a(h,2)*3*s*r+h*3*s*s*f+a(s,3)*o}},lf=ct(function(n,t,i,r,u,e,o,s){var y=u-2*i+n-(o-2*u+i),h=2*(i-n)-2*(u-i),k=n-i,l=(-h+f.sqrt(h*h-4*y*k))/2/y,a=(-h-f.sqrt(h*h-4*y*k))/2/y,p=[t,s],w=[n,o],c;return f.abs(l)>1e12&&(l=.5),f.abs(a)>1e12&&(a=.5),l>0&&l<1&&(c=ni(n,t,i,r,u,e,o,s,l),w[v](c.x),p[v](c.y)),a>0&&a<1&&(c=ni(n,t,i,r,u,e,o,s,a),w[v](c.x),p[v](c.y)),y=e-2*r+t-(s-2*e+r),h=2*(r-t)-2*(e-r),k=t-r,l=(-h+f.sqrt(h*h-4*y*k))/2/y,a=(-h-f.sqrt(h*h-4*y*k))/2/y,f.abs(l)>1e12&&(l=.5),f.abs(a)>1e12&&(a=.5),l>0&&l<1&&(c=ni(n,t,i,r,u,e,o,s,l),w[v](c.x),p[v](c.y)),a>0&&a<1&&(c=ni(n,t,i,r,u,e,o,s,a),w[v](c.x),p[v](c.y)),{min:{x:at[b](0,w),y:at[b](0,p)},max:{x:ht[b](0,w),y:ht[b](0,p)}}}),pi=ct(function(n,i){for(var f=ri(n),r=i&&ri(i),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},y=function(n,t){var i,r;if(!n)return["C",t.x,t.y,t.x,t.y,t.x,t.y];n[0]in{T:1,Q:1}||(t.qx=t.qy=null);switch(n[0]){case"M":t.X=n[1],t.Y=n[2];break;case"A":n=["C"][k](dr[b](0,[t.x,t.y][k](n.slice(1))));break;case"S":i=t.x+(t.x-(t.bx||t.x)),r=t.y+(t.y-(t.by||t.y)),n=["C",i,r][k](n.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),n=["C"][k](kr(t.x,t.y,t.qx,t.qy,n[1],n[2]));break;case"Q":t.qx=n[1],t.qy=n[2],n=["C"][k](kr(t.x,t.y,n[1],n[2],n[3],n[4]));break;case"L":n=["C"][k](yi(t.x,t.y,n[1],n[2]));break;case"H":n=["C"][k](yi(t.x,t.y,n[1],t.y));break;case"V":n=["C"][k](yi(t.x,t.y,t.x,n[1]));break;case"Z":n=["C"][k](yi(t.x,t.y,t.X,t.Y))}return n},p=function(n,i){if(n[i][t]>7){n[i].shift();for(var u=n[i];u[t];)n.splice(i++,0,["C"][k](u.splice(0,6)));n.splice(i,1),l=ht(f[t],r&&r[t]||0)}},w=function(n,i,u,e,o){n&&i&&n[o][0]=="M"&&i[o][0]!="M"&&(i.splice(o,0,["M",e.x,e.y]),u.bx=0,u.by=0,u.x=n[o][1],u.y=n[o][2],l=ht(f[t],r&&r[t]||0))},u=0,l=ht(f[t],r&&r[t]||0);u<l;u++){f[u]=y(f[u],e),p(f,u),r&&(r[u]=y(r[u],s)),r&&p(r,u),w(f,r,e,s,u),w(r,f,s,e,u);var h=f[u],c=r&&r[u],a=h[t],v=r&&c[t];e.x=h[a-2],e.y=h[a-1],e.bx=o(h[a-4])||e.x,e.by=o(h[a-3])||e.y,s.bx=r&&(o(c[v-4])||s.x),s.by=r&&(o(c[v-3])||s.y),s.x=r&&c[v-2],s.y=r&&c[v-1]}return r?[f,r]:f},null,vi),gr=ct(function(i){for(var u=[],e,c,l,s,f,a,r=0,h=i[t];r<h;r++){if(e={},c=i[r].match(/^([^:]*):?([\d\.]*)/),e.color=n.getRGB(c[1]),e.color.error)return null;e.color=e.color.hex,c[2]&&(e.offset=c[2]+"%"),u[v](e)}for(r=1,h=u[t]-1;r<h;r++)if(!u[r].offset){for(l=o(u[r-1].offset||0),s=0,f=r+1;f<h;f++)if(u[f].offset){s=u[f].offset;break}for(s||(s=100,f=h),s=o(s),a=(s-l)/(f-r+1);r<f;r++)l+=a,u[r].offset=l+"%"}return u}),nu=function(t,i,r,u){var f;if(n.is(t,bt)||n.is(t,"object")){if(f=n.is(t,bt)?c.getElementById(t):t,f.tagName)return i==null?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:i,height:r}}else return{container:1,x:t,y:i,width:r,height:u}},rr=function(n,t){var r=this,i;for(i in t)if(t[s](i)&&!(i in n))switch(typeof t[i]){case"function":(function(t){n[i]=n===r?t:function(){return t[b](r,arguments)}})(t[i]);break;case"object":n[i]=n[i]||{},rr.call(this,n[i],t[i]);break;default:n[i]=t[i]}},ti=function(n,t){n==t.top&&(t.top=n.prev),n==t.bottom&&(t.bottom=n.next),n.next&&(n.next.prev=n.prev),n.prev&&(n.prev.next=n.next)},tu=function(n,t){t.top!==n&&(ti(n,t),n.next=null,n.prev=t.top,t.top.next=n,t.top=n)},iu=function(n,t){t.bottom!==n&&(ti(n,t),n.next=t.bottom,n.prev=null,t.bottom.prev=n,t.bottom=n)},ru=function(n,t,i){ti(n,i),t==i.top&&(i.top=n),t.next&&(t.next.prev=n),n.next=t.next,n.prev=t,t.next=n},uu=function(n,t,i){ti(n,i),t==i.bottom&&(i.bottom=n),t.prev&&(t.prev.next=n),n.prev=t.prev,t.prev=n,n.next=t},fu=function(n){return function(){throw new Error("Raphal: you are calling to method "+n+" of removed object");}},eu=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(n.pathToRelative=ir,n.svg){w[i].svgns="http://www.w3.org/2000/svg",w[i].xlink="http://www.w3.org/1999/xlink",tt=function(n){return+n+(~~n===n)*.5},u=function(n,t){if(t)for(var r in t)t[s](r)&&n[st](r,l(t[r]));else return n=c.createElementNS(w[i].svgns,n),n.style.webkitTapHighlightColor="rgba(0,0,0,0)",n},n[g]=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var ou=function(n,t){var f=u("path"),i;return t.canvas&&t.canvas[e](f),i=new r(f,t),i.type="path",yt(i,{fill:"none",stroke:"#000",path:n}),i},ui=function(i,r,s){var it="linear",rt=.5,w=.5,ut=i.style,k,v,ft,d,tt,nt,b,ot,et;if(r=l(r)[p](eu,function(n,t,i){if(it="radial",t&&i){rt=o(t),w=o(i);var r=(w>.5)*2-1;a(rt-.5,2)+a(w-.5,2)>.25&&(w=f.sqrt(.25-a(rt-.5,2))*r+.5)&&w!=.5&&(w=w.toFixed(5)-1e-5*r)}return h}),r=r[y](/\s*\-\s*/),it=="linear"){if(k=r.shift(),k=-o(k),isNaN(k))return null;v=[0,0,f.cos(k*f.PI/180),f.sin(k*f.PI/180)],ft=1/(ht(f.abs(v[2]),f.abs(v[3]))||1),v[2]*=ft,v[3]*=ft,v[2]<0&&(v[0]=-v[2],v[2]=0),v[3]<0&&(v[1]=-v[3],v[3]=0)}if(d=gr(r),!d)return null;for(tt=i.getAttribute(vt),tt=tt.match(/^url\(#(.*)\)$/),tt&&s.defs.removeChild(c.getElementById(tt[1])),nt=u(it+"Gradient"),nt.id="r"+(n._id++)[g](36),u(nt,it=="radial"?{fx:rt,fy:w}:{x1:v[0],y1:v[1],x2:v[2],y2:v[3]}),s.defs[e](nt),b=0,ot=d[t];b<ot;b++)et=u("stop"),u(et,{offset:d[b].offset?d[b].offset:b?"100%":"0%","stop-color":d[b].color||"#fff"}),nt[e](et);return u(i,{fill:"url(#"+nt.id+")",opacity:1,"fill-opacity":1}),ut.fill=h,ut.opacity=1,ut.fillOpacity=1,1},ur=function(t){var i=t.getBBox();u(t.pattern,{patternTransform:n.format("translate({0},{1})",i.x,i.y)})},yt=function(i,r){var ni={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},a=i.node,w=i.attrs,ut=i.rotate(),dt=function(n,i){if(i=ni[wt.call(i)],i){for(var e=n.attrs["stroke-width"]||"1",s={round:e,square:e,butt:0}[n.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],f=i[t];f--;)o[f]=i[f]*e+(f%2?1:-1)*s;u(a,{"stroke-dasharray":o[it](",")})}},k,v,f,ft,ct,rt,nt,lt,at,b,yt,ot,ht,tt,pt,bt,gt;r[s]("rotation")&&(ut=r.rotation),k=l(ut)[y](et),k.length-1?(k[1]=+k[1],k[2]=+k[2]):k=null,o(ut)&&i.rotate(0,!0);for(v in r)if(r[s](v)){if(!si[s](v))continue;f=r[v],w[v]=f;switch(v){case"blur":i.blur(f);break;case"rotation":i.rotate(f,!0);break;case"href":case"title":case"target":ft=a.parentNode,wt.call(ft.tagName)!="a"&&(ct=u("a"),ft.insertBefore(ct,a),ct[e](a),ft=ct),ft.setAttributeNS(i.paper.xlink,v,f);break;case"cursor":a.style.cursor=f;break;case"clip-rect":rt=l(f)[y](et),rt[t]==4&&(i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode),nt=u("clipPath"),lt=u("rect"),nt.id="r"+(n._id++)[g](36),u(lt,{x:rt[0],y:rt[1],width:rt[2],height:rt[3]}),nt[e](lt),i.paper.defs[e](nt),u(a,{"clip-path":"url(#"+nt.id+")"}),i.clip=lt),f||(at=c.getElementById(a.getAttribute("clip-path")[p](/(^url\(#|\)$)/g,h)),at&&at.parentNode.removeChild(at),u(a,{"clip-path":h}),delete i.clip);break;case"path":i.type=="path"&&u(a,{d:f?w.path=ri(f):"M0,0"});break;case"width":if(a[st](v,f),w.fx)v="x",f=w.x;else break;case"x":w.fx&&(f=-w.x-(w.width||0));case"rx":if(v=="rx"&&i.type=="rect")break;case"cx":k&&(v=="x"||v=="cx")&&(k[1]+=f-w[v]),a[st](v,f),i.pattern&&ur(i);break;case"height":if(a[st](v,f),w.fy)v="y",f=w.y;else break;case"y":w.fy&&(f=-w.y-(w.height||0));case"ry":if(v=="ry"&&i.type=="rect")break;case"cy":k&&(v=="y"||v=="cy")&&(k[2]+=f-w[v]),a[st](v,f),i.pattern&&ur(i);break;case"r":i.type=="rect"?u(a,{rx:f,ry:f}):a[st](v,f);break;case"src":i.type=="image"&&a.setAttributeNS(i.paper.xlink,"href",f);break;case"stroke-width":a.style.strokeWidth=f,a[st](v,f),w["stroke-dasharray"]&&dt(i,w["stroke-dasharray"]);break;case"stroke-dasharray":dt(i,f);break;case"translation":b=l(f)[y](et),b[0]=+b[0]||0,b[1]=+b[1]||0,k&&(k[1]+=b[0],k[2]+=b[1]),bi.call(i,b[0],b[1]);break;case"scale":b=l(f)[y](et),i.scale(+b[0]||1,+b[1]||+b[0]||1,isNaN(o(b[2]))?null:+b[2],isNaN(o(b[3]))?null:+b[3]);break;case vt:if(yt=l(f).match(yr),yt){nt=u("pattern"),ot=u("image"),nt.id="r"+(n._id++)[g](36),u(nt,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),u(ot,{x:0,y:0}),ot.setAttributeNS(i.paper.xlink,"href",yt[1]),nt[e](ot),ht=c.createElement("img"),ht.style.cssText="position:absolute;left:-9999em;top-9999em",ht.onload=function(){u(nt,{width:this.offsetWidth,height:this.offsetHeight}),u(ot,{width:this.offsetWidth,height:this.offsetHeight}),c.body.removeChild(this),i.paper.safari()},c.body[e](ht),ht.src=yt[1],i.paper.defs[e](nt),a.style.fill="url(#"+nt.id+")",u(a,{fill:"url(#"+nt.id+")"}),i.pattern=nt,i.pattern&&ur(i);break}if(tt=n.getRGB(f),tt.error){if(({circle:1,ellipse:1}[s](i.type)||l(f).charAt()!="r")&&ui(a,f,i.paper)){w.gradient=f,w.fill="none";break}}else delete r.gradient,delete w.gradient,!n.is(w.opacity,"undefined")&&n.is(r.opacity,"undefined")&&u(a,{opacity:w.opacity}),!n.is(w["fill-opacity"],"undefined")&&n.is(r["fill-opacity"],"undefined")&&u(a,{"fill-opacity":w["fill-opacity"]});tt[s]("o")&&u(a,{"fill-opacity":tt.o/100});case"stroke":tt=n.getRGB(f),a[st](v,tt.hex),v=="stroke"&&tt[s]("o")&&u(a,{"stroke-opacity":tt.o/100});break;case"gradient":({circle:1,ellipse:1}[s](i.type)||l(f).charAt()!="r")&&ui(a,f,i.paper);break;case"opacity":case"fill-opacity":if(w.gradient){pt=c.getElementById(a.getAttribute(vt)[p](/^url\(#|\)$/g,h)),pt&&(bt=pt.getElementsByTagName("stop"),bt[bt[t]-1][st]("stop-opacity",f));break}default:v=="font-size"&&(f=kt(f,10)+"px"),gt=v[p](/(\-.)/g,function(n){return oi.call(n.substring(1))}),a.style[gt]=f,a[st](v,f)}}af(i,r),k?i.rotate(k.join(d)):o(ut)&&i.rotate(ut,!0)},su=1.2,af=function(n,i){var o,r,v,p,b,w;if(n.type=="text"&&(i[s]("text")||i[s]("font")||i[s]("font-size")||i[s]("x")||i[s]("y"))){var a=n.attrs,f=n.node,k=f.firstChild?kt(c.defaultView.getComputedStyle(f.firstChild,h).getPropertyValue("font-size"),10):10;if(i[s]("text")){for(a.text=i.text;f.firstChild;)f.removeChild(f.firstChild);for(o=l(i.text)[y]("\n"),r=0,v=o[t];r<v;r++)o[r]&&(p=u("tspan"),r&&u(p,{dy:k*su,x:a.x}),p[e](c.createTextNode(o[r])),f[e](p))}else for(o=f.getElementsByTagName("tspan"),r=0,v=o[t];r<v;r++)r&&u(o[r],{dy:k*su,x:a.x});u(f,{y:a.y}),b=n.getBBox(),w=a.y-(b.y+b.height/2),w&&isFinite(w)&&u(f,{y:a.y+w})}},r=function(t,i){var r=0,u=0;this[0]=t,this.id=n._oid++,this.node=t,t.raphael=this,this.paper=i,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},i.bottom||(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null};r[i].rotate=function(i,r,f){if(this.removed)return this;if(i==null)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][it](d):this._.rt.deg;var e=this.getBBox();return i=l(i)[y](et),i[t]-1&&(r=o(i[1]),f=o(i[2])),i=o(i[0]),r!=null?this._.rt.deg=i:this._.rt.deg+=i,f==null&&(r=null),this._.rt.cx=r,this._.rt.cy=f,r=r==null?e.x+e.width/2:r,f=f==null?e.y+e.height/2:f,this._.rt.deg?(this.transformations[0]=n.format("rotate({0} {1} {2})",this._.rt.deg,r,f),this.clip&&u(this.clip,{transform:n.format("rotate({0} {1} {2})",-this._.rt.deg,r,f)})):(this.transformations[0]=h,this.clip&&u(this.clip,{transform:h})),u(this.node,{transform:this.transformations[it](d)}),this},r[i].hide=function(){return this.removed||(this.node.style.display="none"),this},r[i].show=function(){return this.removed||(this.node.style.display=""),this},r[i].remove=function(){if(!this.removed){ti(this,this.paper),this.node.parentNode.removeChild(this.node);for(var n in this)delete this[n];this.removed=!0}},r[i].getBBox=function(){var r,n,i,u,t;if(this.removed)return this;if(this.type=="path")return ai(this.attrs.path);this.node.style.display=="none"&&(this.show(),r=!0),n={};try{n=this.node.getBBox()}catch(f){}finally{n=n||{}}if(this.type=="text")for(n={x:n.x,y:Infinity,width:0,height:0},i=0,u=this.node.getNumberOfChars();i<u;i++)t=this.node.getExtentOfChar(i),t.y<n.y&&(n.y=t.y),t.y+t.height-n.y>n.height&&(n.height=t.y+t.height-n.y),t.x+t.width-n.x>n.width&&(n.width=t.x+t.width-n.x);return r&&this.hide(),n},r[i].attr=function(t,i){var r,f,e,u,h,o;if(this.removed)return this;if(t==null){r={};for(f in this.attrs)this.attrs[s](f)&&(r[f]=this.attrs[f]);return this._.rt.deg&&(r.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(r.scale=this.scale()),r.gradient&&r.fill=="none"&&(r.fill=r.gradient)&&delete r.gradient,r}if(i==null&&n.is(t,bt))return t=="translation"?bi.call(this):t=="rotation"?this.rotate():t=="scale"?this.scale():t==vt&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(i==null&&n.is(t,ot)){for(e={},u=0,h=t.length;u<h;u++)e[t[u]]=this.attr(t[u]);return e}return i!=null?(o={},o[t]=i,yt(this,o)):t!=null&&n.is(t,"object")&&yt(this,t),this},r[i].toFront=function(){if(this.removed)return this;this.node.parentNode[e](this.node);var n=this.paper;return n.top!=this&&tu(this,n),this},r[i].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),iu(this,this.paper);var n=this.paper}return this},r[i].insertAfter=function(n){if(this.removed)return this;var t=n.node||n[n.length].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode[e](this.node),ru(this,n,this.paper),this},r[i].insertBefore=function(n){if(this.removed)return this;var t=n.node||n[0].node;return t.parentNode.insertBefore(this.node,t),uu(this,n,this.paper),this},r[i].blur=function(t){var i=this,r,f;+t!=0?(r=u("filter"),f=u("feGaussianBlur"),i.attrs.blur=t,r.id="r"+(n._id++)[g](36),u(f,{stdDeviation:+t||1.5}),r.appendChild(f),i.paper.defs.appendChild(r),i._blur=r,u(i.node,{filter:"url(#"+r.id+")"})):(i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter"))};var hu=function(n,t,i,f){var s=u("circle"),o;return n.canvas&&n.canvas[e](s),o=new r(s,n),o.attrs={cx:t,cy:i,r:f,fill:"none",stroke:"#000"},o.type="circle",u(s,o.attrs),o},cu=function(n,t,i,f,o,s){var c=u("rect"),h;return n.canvas&&n.canvas[e](c),h=new r(c,n),h.attrs={x:t,y:i,width:f,height:o,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},h.type="rect",u(c,h.attrs),h},lu=function(n,t,i,f,o){var h=u("ellipse"),s;return n.canvas&&n.canvas[e](h),s=new r(h,n),s.attrs={cx:t,cy:i,rx:f,ry:o,fill:"none",stroke:"#000"},s.type="ellipse",u(h,s.attrs),s},au=function(n,t,i,f,o,s){var h=u("image"),c;return u(h,{x:i,y:f,width:o,height:s,preserveAspectRatio:"none"}),h.setAttributeNS(n.xlink,"href",t),n.canvas&&n.canvas[e](h),c=new r(h,n),c.attrs={x:i,y:f,width:o,height:s,src:t},c.type="image",c},vu=function(n,t,i,f){var s=u("text"),o;return u(s,{x:t,y:i,"text-anchor":"middle"}),n.canvas&&n.canvas[e](s),o=new r(s,n),o.attrs={x:t,y:i,"text-anchor":"middle",text:f,font:si.font,stroke:"none",fill:"#000"},o.type="text",yt(o,o.attrs),o},yu=function(n,t){return this.width=n||this.width,this.height=t||this.height,this.canvas[st]("width",this.width),this.canvas[st]("height",this.height),this},fr=function(){var r=nu[b](0,arguments),t=r&&r.container,s=r.x,h=r.y,f=r.width,o=r.height,i;if(!t)throw new Error("SVG container not found.");return i=u("svg"),s=s||0,h=h||0,f=f||512,o=o||342,u(i,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:o}),t==1?(i.style.cssText="position:absolute;left:"+s+"px;top:"+h+"px",c.body[e](i)):t.firstChild?t.insertBefore(i,t.firstChild):t[e](i),t=new w,t.width=f,t.height=o,t.canvas=i,rr.call(t,t,n.fn),t.clear(),t};w[i].clear=function(){for(var n=this.canvas;n.firstChild;)n.removeChild(n.firstChild);this.bottom=this.top=null,(this.desc=u("desc"))[e](c.createTextNode("Created with Raphal")),n[e](this.desc),n[e](this.defs=u("defs"))},w[i].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var n in this)this[n]=fu(n)}}if(n.vml){var pu={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},vf=/([clmz]),?([^clmz]*)/gi,yf=/-?[^,\s-]+/g,fi=1e3+d+1e3,ii=10,ei={path:1,rect:1},pf=function(n){var o=/[ahqstv]/ig,s=ri,i,e,c,r,u,y,f,a;if(l(n).match(o)&&(s=pi),o=/[clmz]/g,s==ri&&!l(n).match(o))return i=l(n)[p](vf,function(n,i,r){var u=[],e=wt.call(i)=="m",f=pu[i];return r[p](yf,function(n){e&&u[t]==2&&(f+=u+pu[i=="m"?"l":"L"],u=[]),u[v](tt(n*ii))}),f+u});for(e=s(n),i=[],u=0,y=e[t];u<y;u++){for(c=e[u],r=wt.call(e[u][0]),r=="z"&&(r="x"),f=1,a=c[t];f<a;f++)r+=tt(c[f]*ii)+(f!=a-1?",":h);i[v](r)}return i[it](d)};n[g]=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version},ou=function(n,t){var u=rt("group"),f,o,i,s;return u.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",u.coordsize=t.coordsize,u.coordorigin=t.coordorigin,f=rt("shape"),o=f.style,o.width=t.width+"px",o.height=t.height+"px",f.coordsize=fi,f.coordorigin=t.coordorigin,u[e](f),i=new r(f,u,t),s={fill:"none",stroke:"#000"},n&&(s.path=n),i.isAbsolute=!0,i.type="path",i.path=[],i.Path=h,yt(i,s),t.canvas[e](u),i},yt=function(i,r){var ut,g,w,st,d,ht,v,ct,lt,it,at;i.attrs=i.attrs||{};var f=i.node,u=i.attrs,b=f.style,k,yt=(r.x!=u.x||r.y!=u.y||r.width!=u.width||r.height!=u.height||r.r!=u.r)&&i.type=="rect",a=i;for(ut in r)r[s](ut)&&(u[ut]=r[ut]);if(yt&&(u.path=bu(u.x,u.y,u.width,u.height,u.r),i.X=u.x,i.Y=u.y,i.W=u.width,i.H=u.height),r.href&&(f.href=r.href),r.title&&(f.title=r.title),r.target&&(f.target=r.target),r.cursor&&(b.cursor=r.cursor),"blur"in r&&i.blur(r.blur),(r.path&&i.type=="path"||yt)&&(f.path=pf(u.path)),r.rotation!=null&&i.rotate(r.rotation,!0),r.translation&&(k=l(r.translation)[y](et),bi.call(i,k[0],k[1]),i._.rt.cx!=null&&(i._.rt.cx+=+k[0],i._.rt.cy+=+k[1],i.setBox(i.attrs,k[0],k[1]))),r.scale&&(k=l(r.scale)[y](et),i.scale(+k[0]||1,+k[1]||+k[0]||1,+k[2]||null,+k[3]||null)),"clip-rect"in r){if(g=l(r["clip-rect"])[y](et),g[t]==4){g[2]=+g[2]+ +g[0],g[3]=+g[3]+ +g[1];var ft=f.clipRect||c.createElement("div"),nt=ft.style,ot=f.parentNode;nt.clip=n.format("rect({1}px {2}px {3}px {0}px)",g),f.clipRect||(nt.position="absolute",nt.top=0,nt.left=0,nt.width=i.paper.width+"px",nt.height=i.paper.height+"px",ot.parentNode.insertBefore(ft,ot),ft[e](ot),f.clipRect=ft)}r["clip-rect"]||f.clipRect&&(f.clipRect.style.clip=h)}if(i.type=="image"&&r.src&&(f.src=r.src),i.type=="image"&&r.opacity&&(f.filterOpacity=nr+".Alpha(opacity="+r.opacity*100+")",b.filter=(f.filterMatrix||h)+(f.filterOpacity||h)),r.font&&(b.font=r.font),r["font-family"]&&(b.fontFamily='"'+r["font-family"][y](",")[0][p](/^['"]+|['"]+$/g,h)+'"'),r["font-size"]&&(b.fontSize=r["font-size"]),r["font-weight"]&&(b.fontWeight=r["font-weight"]),r["font-style"]&&(b.fontStyle=r["font-style"]),(r.opacity!=null||r["stroke-width"]!=null||r.fill!=null||r.stroke!=null||r["stroke-width"]!=null||r["stroke-opacity"]!=null||r["fill-opacity"]!=null||r["stroke-dasharray"]!=null||r["stroke-miterlimit"]!=null||r["stroke-linejoin"]!=null||r["stroke-linecap"]!=null)&&(f=i.shape||f,w=f.getElementsByTagName(vt)&&f.getElementsByTagName(vt)[0],st=!1,w||(st=w=rt(vt)),("fill-opacity"in r||"opacity"in r)&&(d=((+u["fill-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+n.getRGB(r.fill).o+1||2)-1),d<0&&(d=0),d>1&&(d=1),w.opacity=d),r.fill&&(w.on=!0),(w.on==null||r.fill=="none")&&(w.on=!1),w.on&&r.fill&&(ht=r.fill.match(yr),ht?(w.src=ht[1],w.type="tile"):(w.color=n.getRGB(r.fill).hex,w.src=h,w.type="solid",n.getRGB(r.fill).error&&(a.type in{circle:1,ellipse:1}||l(r.fill).charAt()!="r")&&ui(a,r.fill)&&(u.fill="none",u.gradient=r.fill))),st&&f[e](w),v=f.getElementsByTagName("stroke")&&f.getElementsByTagName("stroke")[0],ct=!1,v||(ct=v=rt("stroke")),(r.stroke&&r.stroke!="none"||r["stroke-width"]||r["stroke-opacity"]!=null||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])&&(v.on=!0),(r.stroke=="none"||v.on==null||r.stroke==0||r["stroke-width"]==0)&&(v.on=!1),lt=n.getRGB(r.stroke),v.on&&r.stroke&&(v.color=lt.hex),d=((+u["stroke-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+lt.o+1||2)-1),it=(o(r["stroke-width"])||1)*.75,d<0&&(d=0),d>1&&(d=1),r["stroke-width"]==null&&(it=u["stroke-width"]),r["stroke-width"]&&(v.weight=it),it&&it<1&&(d*=it)&&(v.weight=1),v.opacity=d,r["stroke-linejoin"]&&(v.joinstyle=r["stroke-linejoin"]||"miter"),v.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(v.endcap=r["stroke-linecap"]=="butt"?"flat":r["stroke-linecap"]=="square"?"square":"round"),r["stroke-dasharray"]&&(at={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},v.dashstyle=at[s](r["stroke-dasharray"])?at[r["stroke-dasharray"]]:h),ct&&f[e](v)),a.type=="text"){b=a.paper.span.style,u.font&&(b.font=u.font),u["font-family"]&&(b.fontFamily=u["font-family"]),u["font-size"]&&(b.fontSize=u["font-size"]),u["font-weight"]&&(b.fontWeight=u["font-weight"]),u["font-style"]&&(b.fontStyle=u["font-style"]),a.node.string&&(a.paper.span.innerHTML=l(a.node.string)[p](/</g,"&#60;")[p](/&/g,"&#38;")[p](/\n/g,"<br>")),a.W=u.w=a.paper.span.offsetWidth,a.H=u.h=a.paper.span.offsetHeight,a.X=u.x,a.Y=u.y+tt(a.H/2);switch(u["text-anchor"]){case"start":a.node.style["v-text-align"]="left",a.bbx=tt(a.W/2);break;case"end":a.node.style["v-text-align"]="right",a.bbx=-tt(a.W/2);break;default:a.node.style["v-text-align"]="center"}}},ui=function(n,i){var s,u,c,e,k;n.attrs=n.attrs||{};var g=n.attrs,r,w="linear",b=".5 .5";if((n.attrs.gradient=i,i=l(i)[p](eu,function(n,t,i){return w="radial",t&&i&&(t=o(t),i=o(i),a(t-.5,2)+a(i-.5,2)>.25&&(i=f.sqrt(.25-a(t-.5,2))*((i>.5)*2-1)+.5),b=t+d+i),h}),i=i[y](/\s*\-\s*/),w=="linear"&&(s=i.shift(),s=-o(s),isNaN(s)))||(u=gr(i),!u))return null;if(n=n.shape||n.node,r=n.getElementsByTagName(vt)[0]||rt(vt),r.parentNode||n.appendChild(r),u[t]){for(r.on=!0,r.method="none",r.color=u[0].color,r.color2=u[u[t]-1].color,c=[],e=0,k=u[t];e<k;e++)u[e].offset&&c[v](u[e].offset+d+u[e].color);r.colors&&(r.colors.value=c[t]?c[it]():"0% "+r.color),w=="radial"?(r.type="gradientradial",r.focus="100%",r.focussize=b,r.focusposition=b):(r.type="gradient",r.angle=(270-s)%360)}return 1},r=function(t,i,r){var u=0,f=0,e=0,o=1;this[0]=t,this.id=n._oid++,this.node=t,t.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=i,this.paper=r,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},r.bottom||(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},r[i].rotate=function(n,i,r){return this.removed?this:n==null?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][it](d):this._.rt.deg:(n=l(n)[y](et),n[t]-1&&(i=o(n[1]),r=o(n[2])),n=o(n[0]),i!=null?this._.rt.deg=n:this._.rt.deg+=n,r==null&&(i=null),this._.rt.cx=i,this._.rt.cy=r,this.setBox(this.attrs,i,r),this.Group.style.rotation=this._.rt.deg,this)},r[i].setBox=function(n,t,i){var a,f,w,u,e,o,c,l,p,v,y,r;if(this.removed)return this;a=this.Group.style,f=this.shape&&this.shape.style||this.node.style,n=n||{};for(w in n)n[s](w)&&(this.attrs[w]=n[w]);t=t||this._.rt.cx,i=i||this._.rt.cy,u=this.attrs;switch(this.type){case"circle":e=u.cx-u.r,o=u.cy-u.r,c=l=u.r*2;break;case"ellipse":e=u.cx-u.rx,o=u.cy-u.ry,c=u.rx*2,l=u.ry*2;break;case"image":e=+u.x,o=+u.y,c=u.width||0,l=u.height||0;break;case"text":this.textpath.v=["m",tt(u.x),", ",tt(u.y-2),"l",tt(u.x)+1,", ",tt(u.y-2)][it](h),e=u.x-tt(this.W/2),o=u.y-this.H/2,c=this.W,l=this.H;break;case"rect":case"path":this.attrs.path?(p=ai(this.attrs.path),e=p.x,o=p.y,c=p.width,l=p.height):(e=0,o=0,c=this.paper.width,l=this.paper.height);break;default:e=0,o=0,c=this.paper.width,l=this.paper.height}t=t==null?e+c/2:t,i=i==null?o+l/2:i,v=t-this.paper.width/2,y=i-this.paper.height/2,a.left!=(r=v+"px")&&(a.left=r),a.top!=(r=y+"px")&&(a.top=r),this.X=ei[s](this.type)?-v:e,this.Y=ei[s](this.type)?-y:o,this.W=c,this.H=l,ei[s](this.type)?(f.left!=(r=-v*ii+"px")&&(f.left=r),f.top!=(r=-y*ii+"px")&&(f.top=r)):this.type=="text"?(f.left!=(r=-v+"px")&&(f.left=r),f.top!=(r=-y+"px")&&(f.top=r)):(a.width!=(r=this.paper.width+"px")&&(a.width=r),a.height!=(r=this.paper.height+"px")&&(a.height=r),f.left!=(r=e-v+"px")&&(f.left=r),f.top!=(r=o-y+"px")&&(f.top=r),f.width!=(r=c+"px")&&(f.width=r),f.height!=(r=l+"px")&&(f.height=r))},r[i].hide=function(){return this.removed||(this.Group.style.display="none"),this},r[i].show=function(){return this.removed||(this.Group.style.display="block"),this},r[i].getBBox=function(){return this.removed?this:ei[s](this.type)?ai(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},r[i].remove=function(){if(!this.removed){ti(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var n in this)delete this[n];this.removed=!0}},r[i].attr=function(i,r){var u,e,h,o,f;if(this.removed)return this;if(i==null){u={};for(e in this.attrs)this.attrs[s](e)&&(u[e]=this.attrs[e]);return this._.rt.deg&&(u.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(u.scale=this.scale()),u.gradient&&u.fill=="none"&&(u.fill=u.gradient)&&delete u.gradient,u}if(r==null&&n.is(i,bt))return i=="translation"?bi.call(this):i=="rotation"?this.rotate():i=="scale"?this.scale():i==vt&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[i];if(this.attrs&&r==null&&n.is(i,ot)){for(o={},e=0,h=i[t];e<h;e++)o[i[e]]=this.attr(i[e]);return o}return r!=null&&(f={},f[i]=r),r==null&&n.is(i,"object")&&(f=i),f&&(f.text&&this.type=="text"&&(this.node.string=f.text),yt(this,f),f.gradient&&({circle:1,ellipse:1}[s](this.type)||l(f.gradient).charAt()!="r")&&ui(this,f.gradient),(!ei[s](this.type)||this._.rt.deg)&&this.setBox(this.attrs)),this},r[i].toFront=function(){return this.removed||this.Group.parentNode[e](this.Group),this.paper.top!=this&&tu(this,this.paper),this},r[i].toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),iu(this,this.paper)),this)},r[i].insertAfter=function(n){return this.removed?this:(n.constructor==ft&&(n=n[n.length]),n.Group.nextSibling?n.Group.parentNode.insertBefore(this.Group,n.Group.nextSibling):n.Group.parentNode[e](this.Group),ru(this,n,this.paper),this)},r[i].insertBefore=function(n){return this.removed?this:(n.constructor==ft&&(n=n[0]),n.Group.parentNode.insertBefore(this.Group,n.Group),uu(this,n,this.paper),this)},wu=/ progid:\S+Blur\([^\)]+\)/g,r[i].blur=function(t){var i=this.node.runtimeStyle,r=i.filter;r=r.replace(wu,h),+t!=0?(this.attrs.blur=t,i.filter=r+d+nr+".Blur(pixelradius="+(+t||1.5)+")",i.margin=n.format("-{0}px 0 0 -{0}px",tt(+t||1.5))):(i.filter=r,i.margin=0,delete this.attrs.blur)},hu=function(n,t,i,u){var o=rt("group"),s=rt("oval"),h=s.style,f;return o.style.cssText="position:absolute;left:0;top:0;width:"+n.width+"px;height:"+n.height+"px",o.coordsize=fi,o.coordorigin=n.coordorigin,o[e](s),f=new r(s,o,n),f.type="circle",yt(f,{stroke:"#000",fill:"none"}),f.attrs.cx=t,f.attrs.cy=i,f.attrs.r=u,f.setBox({x:t-u,y:i-u,width:u*2,height:u*2}),n.canvas[e](o),f};function bu(t,i,r,u,f){return f?n.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+f,i,r-f*2,f,-f,u-f*2,f*2-r,f*2-u):n.format("M{0},{1}l{2},0,0,{3},{4},0z",t,i,r,u,-r)}cu=function(n,t,i,r,u,f){var s=bu(t,i,r,u,f),e=n.path(s),o=e.attrs;return e.X=o.x=t,e.Y=o.y=i,e.W=o.width=r,e.H=o.height=u,o.r=f,o.path=s,e.type="rect",e},lu=function(n,t,i,u,f){var s=rt("group"),h=rt("oval"),c=h.style,o;return s.style.cssText="position:absolute;left:0;top:0;width:"+n.width+"px;height:"+n.height+"px",s.coordsize=fi,s.coordorigin=n.coordorigin,s[e](h),o=new r(h,s,n),o.type="ellipse",yt(o,{stroke:"#000"}),o.attrs.cx=t,o.attrs.cy=i,o.attrs.rx=u,o.attrs.ry=f,o.setBox({x:t-u,y:i-f,width:u*2,height:f*2}),n.canvas[e](s),o},au=function(n,t,i,u,f,o){var h=rt("group"),c=rt("image"),l=c.style,s;return h.style.cssText="position:absolute;left:0;top:0;width:"+n.width+"px;height:"+n.height+"px",h.coordsize=fi,h.coordorigin=n.coordorigin,c.src=t,h[e](c),s=new r(c,h,n),s.type="image",s.attrs.src=t,s.attrs.x=i,s.attrs.y=u,s.attrs.w=f,s.attrs.h=o,s.setBox({x:i,y:u,width:f,height:o}),n.canvas[e](h),s},vu=function(t,i,u,f){var s=rt("group"),h=rt("shape"),v=h.style,c=rt("path"),y=c.style,a=rt("textpath"),o;return s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=fi,s.coordorigin=t.coordorigin,c.v=n.format("m{0},{1}l{2},{1}",tt(i*10),tt(u*10),tt(i*10)+1),c.textpathok=!0,v.width=t.width,v.height=t.height,a.string=l(f),a.on=!0,h[e](a),h[e](c),s[e](h),o=new r(a,s,t),o.shape=h,o.textpath=c,o.type="text",o.attrs.text=f,o.attrs.x=i,o.attrs.y=u,o.attrs.w=1,o.attrs.h=1,yt(o,{font:si.font,stroke:"none",fill:"#000"}),o.setBox(),t.canvas[e](s),o},yu=function(n,t){var i=this.canvas.style;return n==+n&&(n+="px"),t==+t&&(t+="px"),i.width=n,i.height=t,i.clip="rect(0 "+n+" "+t+" 0)",this},c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{c.namespaces.rvml||c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),rt=function(n){return c.createElement("<rvml:"+n+' class="rvml">')}}catch(ie){rt=function(n){return c.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}fr=function(){var f=nu[b](0,arguments),i=f.container,r=f.height,a,u=f.width,h=f.x,l=f.y;if(!i)throw new Error("VML container not found.");var t=new w,o=t.canvas=c.createElement("div"),s=o.style;return h=h||0,l=l||0,u=u||512,r=r||342,u==+u&&(u+="px"),r==+r&&(r+="px"),t.width=1e3,t.height=1e3,t.coordsize=ii*1e3+d+ii*1e3,t.coordorigin="0 0",t.span=c.createElement("span"),t.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",o[e](t.span),s.cssText=n.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",u,r),i==1?(c.body[e](o),s.left=h+"px",s.top=l+"px",s.position="absolute"):i.firstChild?i.insertBefore(o,i.firstChild):i[e](o),rr.call(t,t,n.fn),t},w[i].clear=function(){this.canvas.innerHTML=h,this.span=c.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[e](this.span),this.bottom=this.top=null},w[i].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var n in this)this[n]=fu(n);return!0}}var wf=function(){this.returnValue=!1},bf=function(){return this.originalEvent.preventDefault()},kf=function(){this.cancelBubble=!0},df=function(){return this.originalEvent.stopPropagation()},gf=function(){return c.addEventListener?function(n,t,i,r){var u=di&&gi[t]?gi[t]:t,f=function(u){var f,e,o;if(di&&gi[s](t))for(f=0,e=u.targetTouches&&u.targetTouches.length;f<e;f++)if(u.targetTouches[f].target==n){o=u,u=u.targetTouches[f],u.originalEvent=o,u.preventDefault=bf,u.stopPropagation=df;break}return i.call(r,u)};return n.addEventListener(u,f,!1),function(){return n.removeEventListener(u,f,!1),!0}}:c.attachEvent?function(n,t,i,r){var u=function(n){return n=n||pt.event,n.preventDefault=n.preventDefault||wf,n.stopPropagation=n.stopPropagation||kf,i.call(r,n)},f;return n.attachEvent("on"+t,u),f=function(){return n.detachEvent("on"+t,u),!0}}:void 0}(),lt=[],er=function(n){for(var r=n.clientX,u=n.clientY,t,e=lt.length,f,i;e--;){if(t=lt[e],di){for(f=n.touches.length;f--;)if(i=n.touches[f],i.identifier==t.el._drag.id){r=i.clientX,u=i.clientY,(n.originalEvent?n.originalEvent:n).preventDefault();break}}else n.preventDefault();t.move&&t.move.call(t.el,r-t.el._drag.x,u-t.el._drag.y,r,u)}},or=function(){n.unmousemove(er).unmouseup(or);for(var i=lt.length,t;i--;)t=lt[i],t.el._drag={},t.end&&t.end.call(t.el);lt=[]};for(sr=vr[t];sr--;)(function(u){n[u]=r[i][u]=function(t){return n.is(t,"function")&&(this.events=this.events||[],this.events.push({name:u,f:t,unbind:gf(this.shape||this.node||c,u,t,this)})),this},n["un"+u]=r[i]["un"+u]=function(n){for(var i=this.events,r=i[t];r--;)if(i[r].name==u&&i[r].f==n)return i[r].unbind(),i.splice(r,1),i.length||delete this.events,this;return this}})(vr[sr]);r[i].hover=function(n,t){return this.mouseover(n).mouseout(t)},r[i].unhover=function(n,t){return this.unmouseover(n).unmouseout(t)},r[i].drag=function(t,i,r){return this._drag={},this.mousedown(function(u){(u.originalEvent||u).preventDefault(),this._drag.x=u.clientX,this._drag.y=u.clientY,this._drag.id=u.identifier,i&&i.call(this,u.clientX,u.clientY),lt.length||n.mousemove(er).mouseup(or),lt.push({el:this,move:t,end:r})}),this},r[i].undrag=function(t,i,r){for(var u=lt.length;u--;)lt[u].el==this&&lt[u].move==t&&lt[u].end==r&&lt.splice(u,1),lt.length||n.unmousemove(er).unmouseup(or)},w[i].circle=function(n,t,i){return hu(this,n||0,t||0,i||0)},w[i].rect=function(n,t,i,r,u){return cu(this,n||0,t||0,i||0,r||0,u||0)},w[i].ellipse=function(n,t,i,r){return lu(this,n||0,t||0,i||0,r||0)},w[i].path=function(t){return!t||n.is(t,bt)||n.is(t[0],ot)||(t+=h),ou(n.format[b](n,arguments),this)},w[i].image=function(n,t,i,r,u){return au(this,n||"about:blank",t||0,i||0,r||0,u||0)},w[i].text=function(n,t,i){return vu(this,n||0,t||0,i||h)},w[i].set=function(n){return arguments[t]>1&&(n=Array[i].splice.call(arguments,0,arguments[t])),new ft(n)},w[i].setSize=yu,w[i].top=w[i].bottom=null,w[i].raphael=n,r[i].resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},r[i].scale=function(n,i,r,u){var nt,tt,pt,wt,e,et,ot,y,ht,p,yt,o,b,s,w,g;if(this.removed)return this;if(n==null&&i==null)return{x:this._.sx,y:this._.sy,toString:ku};if(i=i||n,+i||(i=n),e=this.attrs,n!=0){var rt=this.getBBox(),ct=rt.x+rt.width/2,lt=rt.y+rt.height/2,a=n/this._.sx,v=i/this._.sy;r=+r||r==0?r:ct,u=+u||u==0?u:lt;var c=~~(n/f.abs(n)),l=~~(i/f.abs(i)),vt=this.node.style,ut=r+(ct-r)*a,ft=u+(lt-u)*v;switch(this.type){case"rect":case"image":et=e.width*c*a,ot=e.height*l*v,this.attr({height:ot,r:e.r*at(c*a,l*v),width:et,x:ut-et/2,y:ft-ot/2});break;case"circle":case"ellipse":this.attr({rx:e.rx*c*a,ry:e.ry*l*v,r:e.r*at(c*a,l*v),cx:ut,cy:ft});break;case"text":this.attr({x:ut,y:ft});break;case"path":for(y=ir(e.path),ht=!0,p=0,yt=y[t];p<yt;p++){if(o=y[p],b=oi.call(o[0]),b=="M"&&ht)continue;else ht=!1;if(b=="A")o[y[p][t]-2]*=a,o[y[p][t]-1]*=v,o[1]*=c*a,o[2]*=l*v,o[5]=+!(c+l?!+o[5]:+o[5]);else if(b=="H")for(s=1,w=o[t];s<w;s++)o[s]*=a;else if(b=="V")for(s=1,w=o[t];s<w;s++)o[s]*=v;else for(s=1,w=o[t];s<w;s++)o[s]*=s%2?a:v}g=ai(y),nt=ut-g.x-g.width/2,tt=ft-g.y-g.height/2,y[0][1]+=nt,y[0][2]+=tt,this.attr({path:y})}this.type in{text:1,image:1}&&(c!=1||l!=1)?this.transformations?(this.transformations[2]="scale("[k](c,",",l,")"),this.node[st]("transform",this.transformations[it](d)),nt=c==-1?-e.x-(et||0):e.x,tt=l==-1?-e.y-(ot||0):e.y,this.attr({x:nt,y:tt}),e.fx=c-1,e.fy=l-1):(this.node.filterMatrix=nr+".Matrix(M11="[k](c,", M12=0, M21=0, M22=",l,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),vt.filter=(this.node.filterMatrix||h)+(this.node.filterOpacity||h)):this.transformations?(this.transformations[2]=h,this.node[st]("transform",this.transformations[it](d)),e.fx=0,e.fy=0):(this.node.filterMatrix=h,vt.filter=(this.node.filterMatrix||h)+(this.node.filterOpacity||h)),e.scale=[n,i,r,u][it](d),this._.sx=n,this._.sy=i}return this},r[i].clone=function(){if(this.removed)return null;var n=this.attr();return delete n.scale,delete n.translation,this.paper[this.type]().attr(n)};var du=ct(function(n,t,i,r,u,f,e,o,s){for(var v=0,l,c,h=0;h<1.01;h+=.01){if(c=ni(n,t,i,r,u,f,e,o,h),h&&(v+=a(a(l.x-c.x,2)+a(l.y-c.y,2),.5)),v>=s)return c;l=c}}),hr=function(t,i){return function(r,u,f){var y,p;r=pi(r);var s,h,e,a,c="",v={},o,l=0;for(y=0,p=r.length;y<p;y++){if(e=r[y],e[0]=="M")s=+e[1],h=+e[2];else{if(a=ne(s,h,e[1],e[2],e[3],e[4],e[5],e[6]),l+a>u){if(i&&!v.start){if(o=du(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),c+=["C",o.start.x,o.start.y,o.m.x,o.m.y,o.x,o.y],f)return c;v.start=c,c=["M",o.x,o.y+"C",o.n.x,o.n.y,o.end.x,o.end.y,e[5],e[6]][it](),l+=a,s=+e[5],h=+e[6];continue}if(!t&&!i)return o=du(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),{x:o.x,y:o.y,alpha:o.alpha}}l+=a,s=+e[5],h=+e[6]}c+=e}return v.end=c,o=t?l:i?v:n.findDotsAtSegment(s,h,e[1],e[2],e[3],e[4],e[5],e[6],1),o.alpha&&(o={x:o.x,y:o.y,alpha:o.alpha}),o}},ne=ct(function(n,t,i,r,u,f,e,o){for(var c={x:0,y:0},l=0,h,s=0;s<1.01;s+=.01)h=ni(n,t,i,r,u,f,e,o,s),s&&(l+=a(a(c.x-h.x,2)+a(c.y-h.y,2),.5)),c=h;return l}),gu=hr(1),wi=hr(),cr=hr(0,1);r[i].getTotalLength=function(){if(this.type=="path")return this.node.getTotalLength?this.node.getTotalLength():gu(this.attrs.path)},r[i].getPointAtLength=function(n){if(this.type=="path")return this.node.getPointAtLength?this.node.getPointAtLength(n):wi(this.attrs.path,n)},r[i].getSubpath=function(n,t){if(this.type=="path"){if(f.abs(this.getTotalLength()-t)<1e-6)return cr(this.attrs.path,n).end;var i=cr(this.attrs.path,t,1);return n?cr(i,n).end:i}},n.easing_formulas={linear:function(n){return n},"<":function(n){return a(n,3)},">":function(n){return a(n-1,3)+1},"<>":function(n){return(n=n*2,n<1)?a(n,3)/2:(n-=2,(a(n,3)+2)/2)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){n=n-1;var t=1.70158;return n*n*((t+1)*n+t)+1},elastic:function(n){if(n==0||n==1)return n;var t=.3,i=t/4;return a(2,-10*n)*f.sin((n-i)*2*f.PI/t)+1},bounce:function(n){var r=7.5625,t=2.75,i;return n<1/t?i=r*n*n:n<2/t?(n-=1.5/t,i=r*n*n+.75):n<2.5/t?(n-=2.25/t,i=r*n*n+.9375):(n-=2.625/t,i=r*n*n+.984375),i}};var ut={length:0},nf=function(){var lt=+new Date,p,l,y,i,a,c,ht,k,ct,g,rt;for(p in ut)if(p!="length"&&ut[s](p)){if(l=ut[p],l.stop||l.el.removed){delete ut[p],ut[t]--;continue}var w=lt-l.start,v=l.ms,ft=l.easing,f=l.from,r=l.diff,e=l.to,b=l.t,et=l.prev||0,o=l.el,ot=l.callback,st={},u;if(w<v){y=n.easing_formulas[ft]?n.easing_formulas[ft](w/v):w/v;for(i in f)if(f[s](i)){switch(tr[i]){case"along":u=y*v*r[i],e.back&&(u=e.len-u),a=wi(e[i],u),o.translate(r.sx-r.x||0,r.sy-r.y||0),r.x=a.x,r.y=a.y,o.translate(a.x-r.sx,a.y-r.sy),e.rot&&o.rotate(r.r+a.alpha,a.x,a.y);break;case nt:u=+f[i]+y*v*r[i];break;case"colour":u="rgb("+[lr(tt(f[i].r+y*v*r[i].r)),lr(tt(f[i].g+y*v*r[i].g)),lr(tt(f[i].b+y*v*r[i].b))][it](",")+")";break;case"path":for(u=[],c=0,ht=f[i][t];c<ht;c++){for(u[c]=[f[i][c][0]],k=1,ct=f[i][c][t];k<ct;k++)u[c][k]=+f[i][c][k]+y*v*r[i][c][k];u[c]=u[c][it](d)}u=u[it](d);break;case"csv":switch(i){case"translation":g=r[i][0]*(w-et),rt=r[i][1]*(w-et),b.x+=g,b.y+=rt,u=g+d+rt;break;case"rotation":u=+f[i][0]+y*v*r[i][0],f[i][1]&&(u+=","+f[i][1]+","+f[i][2]);break;case"scale":u=[+f[i][0]+y*v*r[i][0],+f[i][1]+y*v*r[i][1],2 in e[i]?e[i][2]:h,3 in e[i]?e[i][3]:h][it](d);break;case"clip-rect":for(u=[],c=4;c--;)u[c]=+f[i][c]+y*v*r[i][c]}}st[i]=u}o.attr(st),o._run&&o._run.call(o)}else e.along&&(a=wi(e.along,e.len*!e.back),o.translate(r.sx-(r.x||0)+a.x-r.sx,r.sy-(r.y||0)+a.y-r.sy),e.rot&&o.rotate(r.r+a.alpha,a.x,a.y)),(b.x||b.y)&&o.translate(-b.x,-b.y),e.scale&&(e.scale+=h),o.attr(e),delete ut[p],ut[t]--,o.in_animation=null,n.is(ot,"function")&&ot.call(o);l.prev=w}n.svg&&o&&o.paper&&o.paper.safari(),ut[t]&&pt.setTimeout(nf)},lr=function(n){return ht(at(n,255),0)},bi=function(n,t){if(n==null)return{x:this._.tx,y:this._.ty,toString:ku};this._.tx+=+n,this._.ty+=+t;switch(this.type){case"circle":case"ellipse":this.attr({cx:+n+this.attrs.cx,cy:+t+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+n+this.attrs.x,y:+t+this.attrs.y});break;case"path":var i=ir(this.attrs.path);i[0][1]+=+n,i[0][2]+=+t,this.attr({path:i})}return this};r[i].animateWith=function(n,t,i,r,u){return ut[n.id]&&(t.start=ut[n.id].start),this.animate(t,i,r,u)},r[i].animateAlong=tf(),r[i].animateAlongBack=tf(1),r[i].onAnimation=function(n){return this._run=n||0,this},r[i].animate=function(i,r,u,f){var e,b,g,rt,a,ft,w,ot,v,k;(n.is(u,"function")||!u)&&(f=u||null);var h={},p={},c={};for(e in i)if(i[s](e)&&tr[s](e)){h[e]=this.attr(e),h[e]==null&&(h[e]=si[e]),p[e]=i[e];switch(tr[e]){case"along":var d=gu(i[e]),tt=wi(i[e],d*!!i.back),it=this.getBBox();c[e]=d/r,c.tx=it.x,c.ty=it.y,c.sx=tt.x,c.sy=tt.y,p.rot=i.rot,p.back=i.back,p.len=d,i.rot&&(c.r=o(this.rotate())||0);break;case nt:c[e]=(p[e]-h[e])/r;break;case"colour":h[e]=n.getRGB(h[e]),b=n.getRGB(p[e]),c[e]={r:(b.r-h[e].r)/r,g:(b.g-h[e].g)/r,b:(b.b-h[e].b)/r};break;case"path":for(g=pi(h[e],p[e]),h[e]=g[0],rt=g[1],c[e]=[],a=0,ft=h[e][t];a<ft;a++)for(c[e][a]=[0],w=1,ot=h[e][a][t];w<ot;w++)c[e][a][w]=(rt[a][w]-h[e][a][w])/r;break;case"csv":v=l(i[e])[y](et),k=l(h[e])[y](et);switch(e){case"translation":h[e]=[0,0],c[e]=[v[0]/r,v[1]/r];break;case"rotation":h[e]=k[1]==v[1]&&k[2]==v[2]?k:[0,v[1],v[2]],c[e]=[(v[0]-h[e][0])/r,0,0];break;case"scale":i[e]=v,h[e]=l(h[e])[y](et),c[e]=[(v[0]-h[e][0])/r,(v[1]-h[e][1])/r,0,0];break;case"clip-rect":for(h[e]=l(h[e])[y](et),c[e]=[],a=4;a--;)c[e][a]=(v[a]-h[e][a])/r}p[e]=v}}return this.stop(),this.in_animation=1,ut[this.id]={start:i.start||+new Date,ms:r,easing:u,from:h,diff:c,to:p,el:this,callback:f,t:{x:0,y:0}},++ut[t]==1&&nf(),this},r[i].stop=function(){return ut[this.id]&&ut[t]--,delete ut[this.id],this},r[i].translate=function(n,t){return this.attr({translation:n+" "+t})},r[i][g]=function(){return"Raphals object"},n.ae=ut,ft=function(n){if(this.items=[],this[t]=0,this.type="set",n)for(var i=0,u=n[t];i<u;i++)n[i]&&(n[i].constructor==r||n[i].constructor==ft)&&(this[this.items[t]]=this.items[this.items[t]]=n[i],this[t]++)},ft[i][v]=function(){for(var n,u,i=0,f=arguments[t];i<f;i++)n=arguments[i],n&&(n.constructor==r||n.constructor==ft)&&(u=this.items[t],this[u]=this.items[u]=n,this[t]++);return this},ft[i].pop=function(){return delete this[this[t]--],this.items.pop()};for(ki in r[i])r[i][s](ki)&&(ft[i][ki]=function(n){return function(){for(var i=0,r=this.items[t];i<r;i++)this.items[i][n][b](this.items[i],arguments);return this}}(ki));return ft[i].attr=function(i,r){var u,e,f,o;if(i&&n.is(i,ot)&&n.is(i[0],"object"))for(u=0,e=i[t];u<e;u++)this.items[u].attr(i[u]);else for(f=0,o=this.items[t];f<o;f++)this.items[f].attr(i,r);return this},ft[i].animate=function(i,r,u,f){(n.is(u,"function")||!u)&&(f=u||null);var s=this.items[t],o=s,h,c=this,e;for(f&&(e=function(){--s||f.call(c)}),u=n.is(u,bt)?u:e,h=this.items[--o].animate(i,r,u,e);o--;)this.items[o].animateWith(h,i,r,u,e);return this},ft[i].insertAfter=function(n){for(var i=this.items[t];i--;)this.items[i].insertAfter(n);return this},ft[i].getBBox=function(){for(var i=[],r=[],f=[],e=[],n,u=this.items[t];u--;)n=this.items[u].getBBox(),i[v](n.x),r[v](n.y),f[v](n.x+n.width),e[v](n.y+n.height);return i=at[b](0,i),r=at[b](0,r),{x:i,y:r,width:ht[b](0,f)-i,height:ht[b](0,e)-r}},ft[i].clone=function(n){n=new ft;for(var i=0,r=this.items[t];i<r;i++)n[v](this.items[i].clone());return n},n.registerFont=function(n){var i,u,f,r,t,e;if(!n.face)return n;this.fonts=this.fonts||{},i={w:n.w,face:{},glyphs:{}},u=n.face["font-family"];for(f in n.face)n.face[s](f)&&(i.face[f]=n.face[f]);if(this.fonts[u]?this.fonts[u][v](i):this.fonts[u]=[i],!n.svg){i.face["units-per-em"]=kt(n.face["units-per-em"],10);for(r in n.glyphs)if(n.glyphs[s](r)&&(t=n.glyphs[r],i.glyphs[r]={w:t.w,k:{},d:t.d&&"M"+t.d[p](/[mlcxtrv]/g,function(n){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[n]||"M"})+"z"},t.k))for(e in t.k)t[s](e)&&(i.glyphs[r].k[e]=t.k[e])}return n},w[i].getFont=function(i,r,u,f){var e,a,c,o,l,v;if(f=f||"normal",u=u||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,n.fonts){if(e=n.fonts[i],!e){a=new RegExp("(^|\\s)"+i[p](/[^\w\d\s+!~.:_-]/g,h)+"(\\s|$)","i");for(c in n.fonts)if(n.fonts[s](c)&&a.test(c)){e=n.fonts[c];break}}if(e)for(l=0,v=e[t];l<v;l++)if(o=e[l],o.face["font-weight"]==r&&(o.face["font-style"]==u||!o.face["font-style"])&&o.face["font-stretch"]==f)break;return o}},w[i].print=function(i,r,u,f,e,o){var s,tt,p,w;o=o||"middle";var b=this.set(),a=l(u)[y](h),d=0,it=h,k;if(n.is(f,u)&&(f=this.getFont(f)),f){k=(e||16)/f.face["units-per-em"];var c=f.face.bbox.split(et),g=+c[0],nt=+c[1]+(o=="baseline"?c[3]-c[1]+ +f.face.descent:(c[3]-c[1])/2);for(s=0,tt=a[t];s<tt;s++)p=s&&f.glyphs[a[s-1]]||{},w=f.glyphs[a[s]],d+=s?(p.w||f.w)+(p.k&&p.k[a[s]]||0):0,w&&w.d&&b[v](this.path(w.d).attr({fill:"#000",stroke:"none",translation:[d,0]}));b.scale(k,k,g,nt).translate(i-g,r-nt)}return b},rf=/\{(\d+)\}/g,n.format=function(i,r){var u=n.is(r,ot)?[0][k](r):arguments;return i&&n.is(i,bt)&&u[t]-1&&(i=i[p](rf,function(n,t){return u[++t]==null?h:u[t]})),i||h},n.ninja=function(){return ar.was?Raphael=ar.is:delete Raphael,n},n.el=r[i],n}(),function(n){function i(n){return!isNaN(parseFloat(n))&&isFinite(n)}function t(n,i,r,u,f,e,o){var h,c,s;return(o?(h=r===0?"":i.slice(-r),c=i.slice(-u)):(h=i.slice(0,r),c=i.slice(0,u)),f.html(c+e).width()<f.html(h+e).width())?u:(s=parseInt((r+u)/2,10),h=o?i.slice(-s):i.slice(0,s),f.html(h+e),f.width()===n)?s:(f.width()>n?u=s-1:r=s+1,t(n,i,r,u,f,e,o))}n.fn.truncate=function(r){var u={width:"auto",token:"&hellip;",center:!1,addclass:!1,addtitle:!1};return r=n.extend(u,r),this.each(function(){var u=n(this),h={fontFamily:u.css("fontFamily"),fontSize:u.css("fontSize"),fontStyle:u.css("fontStyle"),fontWeight:u.css("fontWeight"),"font-variant":u.css("font-variant"),"text-indent":u.css("text-indent"),"text-transform":u.css("text-transform"),"letter-spacing":u.css("letter-spacing"),"word-spacing":u.css("word-spacing"),display:"none"},f=u.text(),e=n("<span/>").css(h).html(f).appendTo("body"),c=e.width(),o=i(r.width)?r.width:u.width(),s;c>o&&(e.text(""),r.center?(o=parseInt(o/2,10)+1,s=f.slice(0,t(o,f,0,f.length,e,r.token,!1))+r.token+f.slice(-1*t(o,f,0,f.length,e,"",!0))):s=f.slice(0,t(o,f,0,f.length,e,r.token,!1))+r.token,r.addclass&&u.addClass(r.addclass),r.addtitle&&u.attr("title",f),u.html(s)),e.remove()})}}(jQuery),function(n){n.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},n.support.selectOpacity=n.browser.msie&&n.browser.version<7?!1:!0,n.fn.uniform=function(t){function u(t){$el=n(t),$el.addClass($el.attr("type")),i(t)}function f(t){n(t).addClass("uniform"),i(t)}function e(r){var u=n(r),f=n("<div>"),o=n("<span>"),e;f.addClass(t.buttonClass),t.useID&&u.attr("id")!=""&&f.attr("id",t.idPrefix+"-"+u.attr("id")),u.is("a")||u.is("button")?e=u.text():(u.is(":submit")||u.is(":reset")||u.is("input[type=button]"))&&(e=u.attr("value")),e=e==""?u.is(":reset")?"Reset":"Submit":e,o.html(e),u.css("opacity",0),u.wrap(f),u.wrap(o),f=u.closest("div"),o=u.closest("span"),u.is(":disabled")&&f.addClass(t.disabledClass),f.bind({"mouseenter.uniform":function(){f.addClass(t.hoverClass)},"mouseleave.uniform":function(){f.removeClass(t.hoverClass),f.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){f.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){f.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(t){if(n(t.target).is("span")||n(t.target).is("div"))if(r[0].dispatchEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),r[0].dispatchEvent(i)}else r[0].click()}}),r.bind({"focus.uniform":function(){f.addClass(t.focusClass)},"blur.uniform":function(){f.removeClass(t.focusClass)}}),n.uniform.noSelect(f),i(r)}function o(r){var o=n(r),u=n("<div />"),f=n("<span />"),e;!o.css("display")=="none"&&t.autoHide&&u.hide(),u.addClass(t.selectClass),t.useID&&r.attr("id")!=""&&u.attr("id",t.idPrefix+"-"+r.attr("id")),e=r.find(":selected:first"),e.length==0&&(e=r.find("option:first")),f.html(e.html()),r.css("opacity",0),r.wrap(u),r.before(f),u=r.parent("div"),f=r.siblings("span"),r.bind({"change.uniform":function(){f.text(r.find(":selected").html()),u.removeClass(t.activeClass)},"focus.uniform":function(){u.addClass(t.focusClass)},"blur.uniform":function(){u.removeClass(t.focusClass),u.removeClass(t.activeClass)},"mousedown.uniform touchbegin.uniform":function(){u.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){u.removeClass(t.activeClass)},"click.uniform touchend.uniform":function(){u.removeClass(t.activeClass)},"mouseenter.uniform":function(){u.addClass(t.hoverClass)},"mouseleave.uniform":function(){u.removeClass(t.hoverClass),u.removeClass(t.activeClass)},"keyup.uniform":function(){f.text(r.find(":selected").html())}}),n(r).attr("disabled")&&u.addClass(t.disabledClass),n.uniform.noSelect(f),i(r)}function s(r){var e=n(r),u=n("<div />"),f=n("<span />");!e.css("display")=="none"&&t.autoHide&&u.hide(),u.addClass(t.checkboxClass),t.useID&&r.attr("id")!=""&&u.attr("id",t.idPrefix+"-"+r.attr("id")),n(r).wrap(u),n(r).wrap(f),f=r.parent(),u=f.parent(),n(r).css("opacity",0).bind({"focus.uniform":function(){u.addClass(t.focusClass)},"blur.uniform":function(){u.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){n(r).attr("checked")?f.addClass(t.checkedClass):f.removeClass(t.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){u.addClass(t.activeClass)},"mouseup.uniform touchend.uniform":function(){u.removeClass(t.activeClass)},"mouseenter.uniform":function(){u.addClass(t.hoverClass)},"mouseleave.uniform":function(){u.removeClass(t.hoverClass),u.removeClass(t.activeClass)}}),n(r).attr("checked")&&f.addClass(t.checkedClass),n(r).attr("disabled")&&u.addClass(t.disabledClass),i(r)}function h(r){var e=n(r),u=n("<div />"),f=n("<span />");!e.css("display")=="none"&&t.autoHide&&u.hide(),u.addClass(t.radioClass),t.useID&&r.attr("id")!=""&&u.attr("id",t.idPrefix+"-"+r.attr("id")),n(r).wrap(u),n(r).wrap(f),f=r.parent(),u=f.parent(),n(r).css("opacity",0).bind({"focus.uniform":function(){u.addClass(t.focusClass)},"blur.uniform":function(){u.removeClass(t.focusClass)},"click.uniform touchend.uniform":function(){if(n(r).attr("checked")){var i=t.radioClass.split(" ")[0];n("."+i+" span."+t.checkedClass+":has([name='"+n(r).attr("name")+"'])").removeClass(t.checkedClass),f.addClass(t.checkedClass)}else f.removeClass(t.checkedClass)},"mousedown.uniform touchend.uniform":function(){n(r).is(":disabled")||u.addClass(t.activeClass)},"mouseup.uniform touchbegin.uniform":function(){u.removeClass(t.activeClass)},"mouseenter.uniform touchend.uniform":function(){u.addClass(t.hoverClass)},"mouseleave.uniform":function(){u.removeClass(t.hoverClass),u.removeClass(t.activeClass)}}),n(r).attr("checked")&&f.addClass(t.checkedClass),n(r).attr("disabled")&&u.addClass(t.disabledClass),i(r)}function c(r){var u=n(r),f=n("<div />"),e=n("<span>"+t.fileDefaultText+"<\/span>"),o=n("<span>"+t.fileBtnText+"<\/span>"),h,s;!u.css("display")=="none"&&t.autoHide&&f.hide(),f.addClass(t.fileClass),e.addClass(t.filenameClass),o.addClass(t.fileBtnClass),t.useID&&u.attr("id")!=""&&f.attr("id",t.idPrefix+"-"+u.attr("id")),u.wrap(f),u.after(o),u.after(e),f=u.closest("div"),e=u.siblings("."+t.filenameClass),o=u.siblings("."+t.fileBtnClass),u.attr("size")||(h=f.width(),u.attr("size",h/10)),s=function(){var n=u.val();n===""?n=t.fileDefaultText:(n=n.split(/[\/\\]+/),n=n[n.length-1]),e.text(n)},s(),u.css("opacity",0).bind({"focus.uniform":function(){f.addClass(t.focusClass)},"blur.uniform":function(){f.removeClass(t.focusClass)},"mousedown.uniform":function(){n(r).is(":disabled")||f.addClass(t.activeClass)},"mouseup.uniform":function(){f.removeClass(t.activeClass)},"mouseenter.uniform":function(){f.addClass(t.hoverClass)},"mouseleave.uniform":function(){f.removeClass(t.hoverClass),f.removeClass(t.activeClass)}}),n.browser.msie?u.bind("click.uniform.ie7",function(){setTimeout(s,0)}):u.bind("change.uniform",s),u.attr("disabled")&&f.addClass(t.disabledClass),n.uniform.noSelect(e),n.uniform.noSelect(o),i(r)}function i(t){t=n(t).get(),t.length>1?n.each(t,function(t,i){n.uniform.elements.push(i)}):n.uniform.elements.push(t)}t=n.extend(n.uniform.options,t);var r=this;return t.resetSelector!=!1&&n(t.resetSelector).mouseup(function(){function t(){n.uniform.update(r)}setTimeout(t,10)}),n.uniform.restore=function(t){t==undefined&&(t=n(n.uniform.elements)),n(t).each(function(){n(this).is(":checkbox")?n(this).unwrap().unwrap():n(this).is("select")?(n(this).siblings("span").remove(),n(this).unwrap()):n(this).is(":radio")?n(this).unwrap().unwrap():n(this).is(":file")?(n(this).siblings("span").remove(),n(this).unwrap()):n(this).is("button, :submit, :reset, a, input[type='button']")&&n(this).unwrap().unwrap(),n(this).unbind(".uniform"),n(this).css("opacity","1");var i=n.inArray(n(t),n.uniform.elements);n.uniform.elements.splice(i,1)})},n.uniform.noSelect=function(t){function i(){return!1}n(t).each(function(){this.onselectstart=this.ondragstart=i,n(this).mousedown(i).css({MozUserSelect:"none"})})},n.uniform.update=function(i){i==undefined&&(i=n(n.uniform.elements)),i=n(i),i.each(function(){var r=n(this),f,e,u;r.is("select")?(f=r.siblings("span"),u=r.parent("div"),u.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),f.html(r.find(":selected").html()),r.is(":disabled")?u.addClass(t.disabledClass):u.removeClass(t.disabledClass)):r.is(":checkbox")?(f=r.closest("span"),u=r.closest("div"),u.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),f.removeClass(t.checkedClass),r.is(":checked")&&f.addClass(t.checkedClass),r.is(":disabled")?u.addClass(t.disabledClass):u.removeClass(t.disabledClass)):r.is(":radio")?(f=r.closest("span"),u=r.closest("div"),u.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),f.removeClass(t.checkedClass),r.is(":checked")&&f.addClass(t.checkedClass),r.is(":disabled")?u.addClass(t.disabledClass):u.removeClass(t.disabledClass)):r.is(":file")?(u=r.parent("div"),e=r.siblings(t.filenameClass),btnTag=r.siblings(t.fileBtnClass),u.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),e.text(r.val()),r.is(":disabled")?u.addClass(t.disabledClass):u.removeClass(t.disabledClass)):(r.is(":submit")||r.is(":reset")||r.is("button")||r.is("a")||i.is("input[type=button]"))&&(u=r.closest("div"),u.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass),r.is(":disabled")?u.addClass(t.disabledClass):u.removeClass(t.disabledClass))})},this.each(function(){if(n.support.selectOpacity){var t=n(this);t.is("select")?t.attr("multiple")!=!0&&(t.attr("size")==undefined||t.attr("size")<=1)&&o(t):t.is(":checkbox")?s(t):t.is(":radio")?h(t):t.is(":file")?c(t):t.is(":text, :password, input[type='email']")?u(t):t.is("textarea")?f(t):(t.is("a")||t.is(":submit")||t.is(":reset")||t.is("button")||t.is("input[type=button]"))&&e(t)}})}}(jQuery),function(n){n.browser.mozilla?(n.fn.disableTextSelect=function(){return this.each(function(){n(this).css({MozUserSelect:"none"})})},n.fn.enableTextSelect=function(){return this.each(function(){n(this).css({MozUserSelect:""})})}):n.browser.msie?(n.fn.disableTextSelect=function(){return this.each(function(){n(this).bind("selectstart.disableTextSelect",function(){return!1})})},n.fn.enableTextSelect=function(){return this.each(function(){n(this).unbind("selectstart.disableTextSelect")})}):(n.fn.disableTextSelect=function(){return this.each(function(){n(this).bind("mousedown.disableTextSelect",function(){return!1})})},n.fn.enableTextSelect=function(){return this.each(function(){n(this).unbind("mousedown.disableTextSelect")})})}(jQuery),function(n,t){"$:nomunge";function c(n){return typeof n=="string"}function o(n){var t=b.call(arguments,1);return function(){return n.apply(this,t.concat(b.call(arguments)))}}function ht(n){return n.replace(/^[^#]*#?(.*)$/,"$1")}function ct(n){return n.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function ft(o,h,l,v,y){var k,p,b,d,g;return v!==i?(b=l.match(o?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),g=b[3]||"",y===2&&c(v)?p=v.replace(o?rt:it,""):(d=r(b[2]),v=c(v)?r[o?u:f](v):v,p=y===2?v:y===1?n.extend({},v,d):n.extend({},d,v),p=s(p),o&&(p=p.replace(ut,a))),k=b[1]+(o?"#":p||!b[1]?"?":"")+p+g):k=h(l!==i?l:t[w][e]),k}function et(n,t,e){return t===i||typeof t=="boolean"?(e=t,t=s[n?u:f]()):t=c(t)?t.replace(n?rt:it,""):t,r(t,e)}function ot(t,r,u,f){return c(u)||typeof u=="object"||(f=u,u=r,r=i),this.each(function(){var e=n(this),i=r||g()[(this.nodeName||"").toLowerCase()]||"",o=i&&e.attr(i)||"";e.attr(i,s[t](o,u,f))})}var i,b=Array.prototype.slice,a=decodeURIComponent,s=n.param,h,r,v,y=n.bbq=n.bbq||{},k,d,g,nt=n.event.special,tt="hashchange",f="querystring",u="fragment",p="elemUrlAttr",w="location",e="href",l="src",it=/^.*\?|#.*$/g,rt=/^.*\#/,ut,st={};s[f]=o(ft,0,ct),s[u]=h=o(ft,1,ht),h.noEscape=function(t){t=t||"";var i=n.map(t.split(""),encodeURIComponent);ut=new RegExp(i.join("|"),"g")},h.noEscape(",/"),n.deparam=r=function(t,r){var u={},f={"true":!0,"false":!1,"null":null};return n.each(t.replace(/\+/g," ").split("&"),function(t,e){var y=e.split("="),h=a(y[0]),o,v=u,l=0,s=h.split("]["),c=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[c])?(s[c]=s[c].replace(/\]$/,""),s=s.shift().split("[").concat(s),c=s.length-1):c=0,y.length===2)if(o=a(y[1]),r&&(o=o&&!isNaN(o)?+o:o==="undefined"?i:f[o]!==i?f[o]:o),c)for(;l<=c;l++)h=s[l]===""?v.length:s[l],v=v[h]=l<c?v[h]||(s[l+1]&&isNaN(s[l+1])?{}:[]):o;else n.isArray(u[h])?u[h].push(o):u[h]=u[h]!==i?[u[h],o]:o;else h&&(u[h]=r?i:"")}),u},r[f]=o(et,0),r[u]=v=o(et,1),n[p]||(n[p]=function(t){return n.extend(st,t)})({a:e,base:e,iframe:l,img:l,input:l,form:"action",link:e,script:l}),g=n[p],n.fn[f]=o(ot,f),n.fn[u]=o(ot,u),y.pushState=k=function(n,r){c(n)&&/^#/.test(n)&&r===i&&(r=2);var u=n!==i,f=h(t[w][e],u?n:{},u?r:2);t[w][e]=f+(/#/.test(f)?"":"#")},y.getState=d=function(n,t){return n===i||typeof n=="boolean"?v(n):v(t)[n]},y.removeState=function(t){var r={};t!==i&&(r=d(),n.each(n.isArray(t)?t:arguments,function(n,t){delete r[t]})),k(r,2)},nt[tt]=n.extend(nt[tt],{add:function(t){function e(n){var t=n[u]=h();n.getState=function(n,u){return n===i||typeof n=="boolean"?r(t,n):r(t,u)[n]},f.apply(this,arguments)}var f;if(n.isFunction(t))return f=t,e;f=t.handler,t.handler=e}})}(jQuery,this),jQuery.bt={version:"0.9.5-rc1"},function(n){jQuery.fn.bt=function(t,r){function c(n,t){for(this.moveTo(n[0].x,n[0].y),i=1;i<n.length;i++)n[i-1].type=="arcStart"?(this.quadraticCurveTo(f(n[i].x,t),f(n[i].y,t),f(n[(i+1)%n.length].x,t),f(n[(i+1)%n.length].y,t)),i++):this.lineTo(f(n[i].x,t),f(n[i].y,t))}function f(n,t){var i;return t=u(t),i=t%2?n:Math.round(n-.5)+.5}function u(n){return parseInt(n)||0}function o(n,t){var i,r=[];for(i in n)n[i]!=t&&r.push(n[i]);return r}function a(){try{var n=navigator.userAgent.toLowerCase();if(/webkit/.test(n)||/gecko|mozilla/.test(n)&&parseFloat(n.match(/firefox\/(\d+(?:\.\d+)+)/)[1])>=3.1)return!0}catch(t){}return!1}function l(n,t,i){var r,u;return n.x==t.x?(r=n.y<t.y?n.y+i:n.y-i,{x:n.x,y:r}):n.y==t.y?(u=n.x<t.x?n.x+i:n.x-i,{x:u,y:n.y}):void 0}function s(n,t,i,r,u){if(t==r)return{x:u,y:t};var f=(t-r)/(n-i),e=t-f*n,o=f*u+e;return{x:u,y:o}}function h(n,t,i,r,u){if(n==i)return{x:n,y:u};var f=(t-r)/(n-i),e=t-f*n,o=(u-e)/f;return{x:o,y:u}}var e;return typeof t!="string"?(e=!0,r=t,t=!1):e=!1,jQuery.fn.hoverIntent&&jQuery.bt.defaults.trigger=="hover"&&(jQuery.bt.defaults.trigger="hoverIntent"),this.each(function(){var f=jQuery.extend(!1,jQuery.bt.defaults,jQuery.bt.options,r),v,y,p;f.spikeLength=u(f.spikeLength),f.spikeGirth=u(f.spikeGirth),f.overlap=u(f.overlap),v=!1,f.killTitle&&n(this).find("[title]").andSelf().each(function(){n(this).attr("bt-xTitle")||n(this).attr("bt-xTitle",n(this).attr("title")).attr("title","")}),typeof f.trigger=="string"&&(f.trigger=[f.trigger]),f.trigger[0]=="hoverIntent"?(y=jQuery.extend(f.hoverIntentOpts,{over:function(){this.btOn()},out:function(){this.btOff()}}),n(this).hoverIntent(y)):f.trigger[0]=="hover"?n(this).hover(function(){this.btOn()},function(){this.btOff()}):f.trigger[0]=="now"?n(this).hasClass("bt-active")?this.btOff():this.btOn():f.trigger[0]=="none"||(f.trigger.length>1&&f.trigger[0]!=f.trigger[1]?n(this).bind(f.trigger[0],function(){this.btOn()}).bind(f.trigger[1],function(){this.btOff()}):n(this).bind(f.trigger[0],function(){n(this).hasClass("bt-active")?this.btOff():this.btOn()})),this.btOn=function(){var url,off,selector,cacheData,target,ajaxOpts,width,height,$text,$box,textOutHeight,textOutWidth,pig,x,position,xShift,yShift,canvas,newPoints,newPoint,i,ctx,shadowOverlap,overlay;typeof n(this).data("bt-box")=="object"&&this.btOff(),f.preBuild.apply(this),n(jQuery.bt.vars.closeWhenOpenStack).btOff(),n(this).addClass("bt-active "+f.activeClass),e&&f.ajaxPath==null&&(f.killTitle&&n(this).attr("title",n(this).attr("bt-xTitle")),t=n.isFunction(f.contentSelector)?f.contentSelector.apply(this):eval(f.contentSelector),f.killTitle&&n(this).attr("title","")),f.ajaxPath!=null&&t==!1&&(typeof f.ajaxPath=="object"?(url=eval(f.ajaxPath[0]),url+=f.ajaxPath[1]?" "+f.ajaxPath[1]:""):url=f.ajaxPath,off=url.indexOf(" "),off>=0&&(selector=url.slice(off,url.length),url=url.slice(0,off)),cacheData=f.ajaxCache?n(document.body).data("btCache-"+url.replace(/\./g,"")):null,typeof cacheData=="string"?t=selector?n("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):cacheData:(target=this,ajaxOpts=jQuery.extend(!1,{type:f.ajaxType,data:f.ajaxData,cache:f.ajaxCache,url:url,complete:function(i,r){r=="success"||r=="notmodified"?(f.ajaxCache&&n(document.body).data("btCache-"+url.replace(/\./g,""),i.responseText),v=!1,t=selector?n("<div/>").append(i.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):i.responseText):(r=="timeout"&&(v=!0),t=f.ajaxError.replace(/%error/g,i.statusText)),n(target).hasClass("bt-active")&&target.btOn()}},f.ajaxOpts),jQuery.ajax(ajaxOpts),t=f.ajaxLoading));var shadowMarginX=0,shadowMarginY=0,shadowShiftX=0,shadowShiftY=0;if(f.shadow&&!a()&&(f.shadow=!1,jQuery.extend(f,f.noShadowOpts)),f.shadow&&(shadowMarginX=f.shadowBlur>Math.abs(f.shadowOffsetX)?f.shadowBlur*2:f.shadowBlur+Math.abs(f.shadowOffsetX),shadowShiftX=f.shadowBlur-f.shadowOffsetX>0?f.shadowBlur-f.shadowOffsetX:0,shadowMarginY=f.shadowBlur>Math.abs(f.shadowOffsetY)?f.shadowBlur*2:f.shadowBlur+Math.abs(f.shadowOffsetY),shadowShiftY=f.shadowBlur-f.shadowOffsetY>0?f.shadowBlur-f.shadowOffsetY:0),f.offsetParent)var offsetParent=n(f.offsetParent),offsetParentPos=offsetParent.offset(),pos=n(this).offset(),top=u(pos.top)-u(offsetParentPos.top)+u(n(this).css("margin-top"))-shadowShiftY,left=u(pos.left)-u(offsetParentPos.left)+u(n(this).css("margin-left"))-shadowShiftX;else var offsetParent=n(this).css("position")=="absolute"?n(this).parents().eq(0).offsetParent():n(this).offsetParent(),pos=n(this).btPosition(),top=u(pos.top)+u(n(this).css("margin-top"))-shadowShiftY,left=u(pos.left)+u(n(this).css("margin-left"))-shadowShiftX;if(width=n(this).btOuterWidth(),height=n(this).outerHeight(),typeof t=="object"){var original=t,clone=n(original).clone(!0).show(),origClones=n(original).data("bt-clones")||[];origClones.push(clone),n(original).data("bt-clones",origClones),n(clone).data("bt-orig",original),n(this).data("bt-content-orig",{original:original,clone:clone}),t=clone}if(typeof t!="null"&&t!=""){$text=n('<div class="bt-content"><\/div>').append(t).css({padding:f.padding,position:"absolute",width:f.shrinkToFit?"auto":f.width,zIndex:f.textzIndex,left:shadowShiftX,top:shadowShiftY}).css(f.cssStyles),$box=n('<div class="bt-wrapper"><\/div>').append($text).addClass(f.cssClass).css({position:"absolute",width:f.width,zIndex:f.wrapperzIndex,visibility:"hidden"}).appendTo(offsetParent),jQuery.fn.bgiframe&&($text.bgiframe(),$box.bgiframe()),n(this).data("bt-box",$box);var scrollTop=u(n(document).scrollTop()),scrollLeft=u(n(document).scrollLeft()),docWidth=u(n(window).width()),docHeight=u(n(window).height()),winRight=scrollLeft+docWidth,winBottom=scrollTop+docHeight,space={},thisOffset=n(this).offset();if(space.top=thisOffset.top-scrollTop,space.bottom=docHeight-(thisOffset+height-scrollTop),space.left=thisOffset.left-scrollLeft,space.right=docWidth-(thisOffset.left+width-scrollLeft),textOutHeight=u($text.outerHeight()),textOutWidth=u($text.btOuterWidth()),f.positions.constructor==String&&(f.positions=f.positions.replace(/ /,"").split(",")),f.positions[0]=="most"){position="top";for(pig in space)position=space[pig]>space[position]?pig:position}else for(x in f.positions)if(position=f.positions[x],(position=="left"||position=="right")&&space[position]>textOutWidth+f.spikeLength)break;else if((position=="top"||position=="bottom")&&space[position]>textOutHeight+f.spikeLength)break;var horiz=left+(width-textOutWidth)*.5,vert=top+(height-textOutHeight)*.5,points=[],textTop,textLeft,textRight,textBottom,textTopSpace,textBottomSpace,textLeftSpace,textRightSpace,crossPoint,textCenter,spikePoint;switch(position){case"top":$text.css("margin-bottom",f.spikeLength+"px"),$box.css({top:top-$text.outerHeight(!0)+f.overlap,left:horiz}),textRightSpace=winRight-f.windowMargin-($text.offset().left+$text.btOuterWidth(!0)),xShift=shadowShiftX,textRightSpace<0&&($box.css("left",u($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+u($text.css("margin-left"))-(scrollLeft+f.windowMargin),textLeftSpace<0&&($box.css("left",u($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+u($text.css("margin-top")),textLeft=$text.btPosition().left+u($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*f.centerPointX,y:textTop+$text.outerHeight()*f.centerPointY},points[points.length]=spikePoint={y:textBottom+f.spikeLength,x:(textRight-textLeft)*.5+xShift,type:"spike"},crossPoint=h(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom),crossPoint.x=crossPoint.x<textLeft+f.spikeGirth/2+f.cornerRadius?textLeft+f.spikeGirth/2+f.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-f.spikeGirth/2-f.cornerRadius?textRight-f.spikeGirth/2-f.CornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x-f.spikeGirth/2,y:textBottom,type:"join"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:crossPoint.x+f.spikeGirth/2,y:textBottom,type:"join"},points[points.length]=spikePoint;break;case"left":$text.css("margin-right",f.spikeLength+"px"),$box.css({top:vert+"px",left:left-$text.btOuterWidth(!0)+f.overlap+"px"}),textBottomSpace=winBottom-f.windowMargin-($text.offset().top+$text.outerHeight(!0)),yShift=shadowShiftY,textBottomSpace<0&&($box.css("top",u($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+u($text.css("margin-top"))-(scrollTop+f.windowMargin),textTopSpace<0&&($box.css("top",u($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+u($text.css("margin-top")),textLeft=$text.btPosition().left+u($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*f.centerPointX,y:textTop+$text.outerHeight()*f.centerPointY},points[points.length]=spikePoint={x:textRight+f.spikeLength,y:(textBottom-textTop)*.5+yShift,type:"spike"},crossPoint=s(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textRight),crossPoint.y=crossPoint.y<textTop+f.spikeGirth/2+f.cornerRadius?textTop+f.spikeGirth/2+f.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-f.spikeGirth/2-f.cornerRadius?textBottom-f.spikeGirth/2-f.cornerRadius:crossPoint.y,points[points.length]={x:textRight,y:crossPoint.y+f.spikeGirth/2,type:"join"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:crossPoint.y-f.spikeGirth/2,type:"join"},points[points.length]=spikePoint;break;case"bottom":$text.css("margin-top",f.spikeLength+"px"),$box.css({top:top+height-f.overlap,left:horiz}),textRightSpace=winRight-f.windowMargin-($text.offset().left+$text.btOuterWidth(!0)),xShift=shadowShiftX,textRightSpace<0&&($box.css("left",u($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+u($text.css("margin-left"))-(scrollLeft+f.windowMargin),textLeftSpace<0&&($box.css("left",u($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+u($text.css("margin-top")),textLeft=$text.btPosition().left+u($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*f.centerPointX,y:textTop+$text.outerHeight()*f.centerPointY},points[points.length]=spikePoint={x:(textRight-textLeft)*.5+xShift,y:shadowShiftY,type:"spike"},crossPoint=h(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textTop),crossPoint.x=crossPoint.x<textLeft+f.spikeGirth/2+f.cornerRadius?textLeft+f.spikeGirth/2+f.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-f.spikeGirth/2-f.cornerRadius?textRight-f.spikeGirth/2-f.cornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x+f.spikeGirth/2,y:textTop,type:"join"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:crossPoint.x-f.spikeGirth/2,y:textTop,type:"join"},points[points.length]=spikePoint;break;case"right":$text.css("margin-left",f.spikeLength+"px"),$box.css({top:vert+"px",left:left+width-f.overlap+"px"}),textBottomSpace=winBottom-f.windowMargin-($text.offset().top+$text.outerHeight(!0)),yShift=shadowShiftY,textBottomSpace<0&&($box.css("top",u($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+u($text.css("margin-top"))-(scrollTop+f.windowMargin),textTopSpace<0&&($box.css("top",u($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+u($text.css("margin-top")),textLeft=$text.btPosition().left+u($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*f.centerPointX,y:textTop+$text.outerHeight()*f.centerPointY},points[points.length]=spikePoint={x:shadowShiftX,y:(textBottom-textTop)*.5+yShift,type:"spike"},crossPoint=s(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textLeft),crossPoint.y=crossPoint.y<textTop+f.spikeGirth/2+f.cornerRadius?textTop+f.spikeGirth/2+f.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-f.spikeGirth/2-f.cornerRadius?textBottom-f.spikeGirth/2-f.cornerRadius:crossPoint.y,points[points.length]={x:textLeft,y:crossPoint.y-f.spikeGirth/2,type:"join"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:crossPoint.y+f.spikeGirth/2,type:"join"},points[points.length]=spikePoint}if(canvas=document.createElement("canvas"),n(canvas).attr("width",u($text.btOuterWidth(!0))+f.strokeWidth*2+shadowMarginX).attr("height",u($text.outerHeight(!0))+f.strokeWidth*2+shadowMarginY).appendTo($box).css({position:"absolute",zIndex:f.boxzIndex}),typeof G_vmlCanvasManager!="undefined"&&(canvas=G_vmlCanvasManager.initElement(canvas)),f.cornerRadius>0){for(newPoints=[],i=0;i<points.length;i++)points[i].type=="corner"?(newPoint=l(points[i],points[(i-1)%points.length],f.cornerRadius),newPoint.type="arcStart",newPoints[newPoints.length]=newPoint,newPoints[newPoints.length]=points[i],newPoint=l(points[i],points[(i+1)%points.length],f.cornerRadius),newPoint.type="arcEnd",newPoints[newPoints.length]=newPoint):newPoints[newPoints.length]=points[i];points=newPoints}if(ctx=canvas.getContext("2d"),f.shadow&&f.shadowOverlap!==!0){shadowOverlap=u(f.shadowOverlap);switch(position){case"top":f.shadowOffsetX+f.shadowBlur-shadowOverlap>0&&$box.css("top",u($box.css("top"))-(f.shadowOffsetX+f.shadowBlur-shadowOverlap));break;case"right":shadowShiftX-shadowOverlap>0&&$box.css("left",u($box.css("left"))+shadowShiftX-shadowOverlap);break;case"bottom":shadowShiftY-shadowOverlap>0&&$box.css("top",u($box.css("top"))+shadowShiftY-shadowOverlap);break;case"left":f.shadowOffsetY+f.shadowBlur-shadowOverlap>0&&$box.css("left",u($box.css("left"))-(f.shadowOffsetY+f.shadowBlur-shadowOverlap))}}c.apply(ctx,[points],f.strokeWidth),ctx.fillStyle=f.fill,f.shadow&&(ctx.shadowOffsetX=f.shadowOffsetX,ctx.shadowOffsetY=f.shadowOffsetY,ctx.shadowBlur=f.shadowBlur,ctx.shadowColor=f.shadowColor),ctx.closePath(),ctx.fill(),f.strokeWidth>0&&(ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineWidth=f.strokeWidth,ctx.strokeStyle=f.strokeStyle,ctx.beginPath(),c.apply(ctx,[points],f.strokeWidth),ctx.closePath(),ctx.stroke()),f.preShow.apply(this,[$box[0]]),$box.css({display:"none",visibility:"visible"}),f.showTip.apply(this,[$box[0]]),f.overlay&&(overlay=n('<div class="bt-overlay"><\/div>').css({position:"absolute",backgroundColor:"blue",top:top,left:left,width:width,height:height,opacity:".2"}).appendTo(offsetParent),n(this).data("overlay",overlay)),(f.ajaxPath!=null&&f.ajaxCache==!1||v)&&(t=!1),f.clickAnywhereToClose&&(jQuery.bt.vars.clickAnywhereStack.push(this),n(document).click(jQuery.bt.docClick),n(document).mouseup(jQuery.bt.docClick)),f.closeWhenOthersOpen&&jQuery.bt.vars.closeWhenOpenStack.push(this),f.postShow.apply(this,[$box[0]])}},this.btOff=function(){var i=n(this).data("bt-box"),t;typeof i!="undefined"&&(f.preHide.apply(this,[i]),t=this,t.btCleanup=function(){var r=n(t).data("bt-box"),i=n(t).data("bt-content-orig"),u=n(t).data("bt-overlay"),e;typeof r=="object"&&(n(r).remove(),n(t).removeData("bt-box")),typeof i=="object"&&(e=n(i.original).data("bt-clones"),n(i).data("bt-clones",o(e,i.clone))),typeof u=="object"&&(n(u).remove(),n(t).removeData("bt-overlay")),jQuery.bt.vars.clickAnywhereStack=o(jQuery.bt.vars.clickAnywhereStack,t),jQuery.bt.vars.closeWhenOpenStack=o(jQuery.bt.vars.closeWhenOpenStack,t),n(t).removeClass("bt-active "+f.activeClass),f.postHide.apply(t)},f.hideTip.apply(this,[i,t.btCleanup]))},p=this.btRefresh=function(){this.btOff(),this.btOn()}})},jQuery.fn.btPosition=function(){function n(n,t){return n[0]&&parseInt(jQuery.css(n[0],t,!0),10)||0}var f=0,e=0,u;if(this[0]){var t=this.offsetParent(),i=this.offset(),r=/^body|html$/i.test(t[0].tagName)?{top:0,left:0}:t.offset();i.top-=n(this,"marginTop"),i.left-=n(this,"marginLeft"),r.top+=n(t,"borderTopWidth"),r.left+=n(t,"borderLeftWidth"),u={top:i.top-r.top,left:i.left-r.left}}return u},jQuery.fn.btOuterWidth=function(n){function t(n,t){return n[0]&&parseInt(jQuery.css(n[0],t,!0),10)||0}return this.innerWidth()+t(this,"borderLeftWidth")+t(this,"borderRightWidth")+(n?t(this,"marginLeft")+t(this,"marginRight"):0)},jQuery.fn.btOn=function(){return this.each(function(){jQuery.isFunction(this.btOn)&&this.btOn()})},jQuery.fn.btOff=function(){return this.each(function(){jQuery.isFunction(this.btOff)&&this.btOff()})},jQuery.bt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]},jQuery.bt.docClick=function(t){if(!t)var t=window.event;!n(t.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&jQuery.bt.vars.clickAnywhereStack.length&&(n(jQuery.bt.vars.clickAnywhereStack).btOff(),n(document).unbind("click",jQuery.bt.docClick),n(document).unbind("mouseup",jQuery.bt.docClick))},jQuery.bt.defaults={trigger:"hover",clickAnywhereToClose:!0,closeWhenOthersOpen:!1,shrinkToFit:!1,width:"200px",padding:"10px",spikeGirth:10,spikeLength:15,overlap:0,overlay:!1,killTitle:!0,textzIndex:9999,boxzIndex:9998,wrapperzIndex:9997,offsetParent:null,positions:["most"],fill:"rgb(255, 255, 102)",windowMargin:10,strokeWidth:1,strokeStyle:"#000",cornerRadius:5,centerPointX:.5,centerPointY:.5,shadow:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:!1,noShadowOpts:{strokeStyle:"#999"},cssClass:"",cssStyles:{},activeClass:"bt-active",contentSelector:"$(this).attr('title')",ajaxPath:null,ajaxError:"<strong>ERROR:<\/strong> <em>%error<\/em>",ajaxLoading:"<blink>Loading...<\/blink>",ajaxData:{},ajaxType:"GET",ajaxCache:!0,ajaxOpts:{},preBuild:function(){},preShow:function(){},showTip:function(t){n(t).show()},postShow:function(){},preHide:function(){},hideTip:function(t,i){n(t).hide(),i()},postHide:function(){},hoverIntentOpts:{interval:300,timeout:500}},jQuery.bt.options={}}(jQuery),function(){var n={init:function(n){var i=$.extend({},$.fn.cardNumberValidator.defaultOptions,n);return this.each(function(){var r=$(this),n,f,u;if(i.bookabletypes!=null)for(n=0,f=i.card_types.length;n<f;n++)u=i.card_types[n],u.bookable=$.inArray(u.name,i.bookabletypes)!==-1;r.data("cardNumberValidator")||r.data("cardNumberValidator",new t(r,i))})},valid:function(){var t=this,n=t.data("cardNumberValidator");return n?n.valid():null}},t=function(n,t){var i=this;i.element=n,i.options=t};t.prototype={element:undefined,options:undefined,valid:function(){var n=this,t=n.element,i=n.normalize(t.val());return n.validateNumber(i)},normalize:function(n){return n.replace(/[\s-]/g,"")},validateNumber:function(n){var t=this,i=t.getCardType(n);return t.options.card_type_elem&&t.options.card_type_elem.val(i!=null?t.options.card_type_map[i.name]:null),{card_type:i,luhn_valid:i&&(i.bookable||t.options.card_type)?t.validLuhn(n):!1,length_valid:i&&(i.bookable||t.options.card_type)?t.validLength(n,i):!1}},getCardType:function(n){var r=this,u,i,f,t;if(!n.match(/^\d+$/))return null;for(u=r.options.card_types,i=0,f=u.length;i<f;i++){if(t=u[i],r.options.card_type){if(t.name==r.options.card_type)return t;continue}if(t.bookable&&n.match(t.pattern))return t}return null},validLuhn:function(n){for(var r=0,i,t=0;t<n.length;t++)i=n.charAt(n.length-t-1)-"0"<<(t&1),r+=i>9?i-9:i;return r%10==0&&r>0},validLength:function(n,t){return t!=null&&$.inArray(n.length,t.valid_length)>=0}},$.fn.cardNumberValidator=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):typeof t=="object"||!t?n.init.apply(this,arguments):null},$.fn.cardNumberValidator.defaultOptions={card_type_elem:null,bookabletypes:null,card_types:[{name:"visa",pattern:/^4/,valid_length:[16],checkdigit:!0,bookable:!0},{name:"mastercard",pattern:/^5[1-5]/,valid_length:[16],checkdigit:!0,bookable:!0},{name:"amex",pattern:/^3[47]/,valid_length:[15],checkdigit:!0,bookable:!0},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14],checkdigit:!0,bookable:!1},{name:"diners_club_international",pattern:/^36/,valid_length:[14],checkdigit:!0,bookable:!1},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16],checkdigit:!0,bookable:!1},{name:"laser",pattern:/^(6304|630[69]|6771)/,valid_length:[16,17,18,19],checkdigit:!0,bookable:!1},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16],checkdigit:!0,bookable:!1},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19],checkdigit:!0,bookable:!0},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16],checkdigit:!0,bookable:!1},{name:"mnogo.ru",pattern:/^\d/,valid_length:[8],checkdigit:!1,bookable:!1}],card_type_map:{visa:"Visa",mastercard:"MasterCard",amex:"AMEX",diners_club_carte_blanche:"DinnersClub",diners_club_international:"DinnersClub"}}}(jQuery),function(n){n.caretTo=function(n,t){if(n.createTextRange){var i=n.createTextRange();i.move("character",t),i.select()}else n.selectionStart!=null&&(n.focus(),n.setSelectionRange(t,t))},n.fn.caretTo=function(t,i){return this.queue(function(r){if(isNaN(t)){var u=n(this).val().indexOf(t);i===!0?u+=t.length:i&&(u+=i),n.caretTo(this,u)}else n.caretTo(this,t);r()})},n.fn.caretToStart=function(){return this.caretTo(0)},n.fn.caretToEnd=function(){return this.queue(function(t){n.caretTo(this,n(this).val().length),t()})}}(jQuery),function(n){function t(t,i){this.$el=n(t),this.defaults={rightlength:11,normalizefullrex:/[^0-9\\#\\(\\)\\.\\-]/g,normalizepartrex:/[^0-9]|[\\s]/g,formatrex:/^(\+[0-9_]{1})([0-9_]{3})([0-9_]{3})([0-9_]{2})([0-9_]{2})(.*)$/g,formattargetrex:"$1 $2 $3 $4 $5$6",loadprefix:"+7",prefix:"+"},this.opts=n.extend(this.defaults,i),this.__init()}t.prototype={__init:function(){var t=this,i=t.opts;t.$el.val()==""&&t.$el.val(i.loadprefix),this.$el.bind("focus",function(){var i=n.trim(t.$el.val().replace(/_/g,""));t.$el.val(i).caretTo(i.length)})},normalize:function(){for(var t=this.opts,i=n.trim(this.$el.val().replace(t.normalizefullrex,"")),r=i.substr(0,t.rightlength).replace(t.normalizepartrex,""),u=i.substring(t.rightlength);r.length<11&&u.length>0;)i=(r+u).replace(t.normalizefullrex,""),r=i.substr(0,t.rightlength).replace(t.normalizepartrex,""),u=i.substring(t.rightlength);return t.prefix+r+u},toPhoneNumber:function(){for(var i=this,n=i.opts,t=i.normalize();t.length<=n.rightlength;)t+="_";return t.replace(n.formatrex,n.formattargetrex)}},n.fn.phoneNumber=function(i){this.length&&this.each(function(){var r=new t(this,i);n(this).data("phoneNumber",r)})}}(jQuery),function(n){function t(t,i){this.$el=n(t),this.defaults={rightlength:9,normalizefullrex:/\D+/ig,formatrex:/^(\[0-9_]{9})(.*)$/g,formattargetrex:"$1"},this.opts=n.extend(this.defaults,i),this.__init()}t.prototype={__init:function(){var t=this,i=t.opts;this.$el.bind("focus",function(){var i=n.trim(t.$el.val().replace(/_/g,""));t.$el.val(i).caretTo(i.length)})},normalize:function(){var t=this.opts;return n.trim(this.$el.val().replace(t.normalizefullrex,""))},toMnogoruCard:function(){for(var i=this,n=i.opts,t=i.normalize();t.length<=n.rightlength;)t+="_";return t.replace(n.formatrex,n.formattargetrex)}},n.fn.mnogoruCard=function(i){this.length&&this.each(function(){var r=new t(this,i);n(this).data("mnogoruCard",r)})}}(jQuery),function(n){function t(){}t.prototype={_DEFAULT_OPTIONS:{maxLength:100,counterClass:"charcounter b-charcounter",fullClass:"charcounter-full error-style",displayFormat:"{0}/{1}",placement:"after",container:null,showCounter:!0,fillTriggers:[{callback:function(){},threshold:0,type:"both"}]},_options:null,_jqText:null,_jqChCounterContainer:null,_triggers:null,_lastTextLen:0,_container:null,init:function(t,i){this._options=n.extend({},this._DEFAULT_OPTIONS,i),this._options.container&&(this._container=n(this._options.container)),this._initTriggers(this._options.fillTriggers),this._jqText=t;var r=this;this._jqText.bind("blur keyup keydown keypress click",function(){r._textChanged()}),this._options.showCounter&&this._render(),this._textChanged()},command:function(n,t){switch(n){case"show":this._show(t)}},_initTriggers:function(t){if(t&&n.isArray(t)){var i=[];n(t).each(function(t,r){n.isFunction(r.callback)&&!isNaN(r.threshold)&&r.threshold>=0&&i.push(r)}),i.length>0&&(this._triggers=i)}},_processTriggers:function(t,i){var r=this;n(t).each(function(n,t){r._processTrigger(t,i,r._lastTextLen)}),this._lastTextLen=i},_processTrigger:function(n,t,i){if(n){var u=!1,r=n.threshold;switch(n.type){case"forward":i<r&&t>=r&&(u=!0);break;case"backward":i>=r&&t<r&&(u=!0);break;case"both":default:(i>=r&&t<r||i<r&&t>=r)&&(u=!0)}u&&n.callback(n,t)}},_textChanged:function(){var n=this._jqText.val(),t=typeof n=="string"?n.length:0,i=this._options.maxLength;this._triggers&&this._processTriggers(this._triggers,t),this._displayCounter(t,i)},_show:function(n){n==!0?this._jqChCounterContainer?this._jqChCounterContainer.css("visibility","visible"):this._render():this._jqChCounterContainer&&this._jqChCounterContainer.css("visibility","hidden")},_render:function(){this._jqChCounterContainer=n("<span><\/span>"),this._jqChCounterContainer.addClass(this._options.counterClass),this._container?this._jqChCounterContainer.appendTo(this._container):this._options.placement=="before"?this._jqText.before(this._jqChCounterContainer):this._jqText.after(this._jqChCounterContainer)},_displayCounter:function(n,t){if(this._jqChCounterContainer){var i=this._formatString(this._options.displayFormat,n,t);this._jqChCounterContainer.text(i),this._options.fullClass&&(n>t?this._jqChCounterContainer.addClass(this._options.fullClass):this._jqChCounterContainer.removeClass(this._options.fullClass))}},_formatString:function(n){var i,r;if(arguments.length==0)return"";if(arguments.length==1)return n;for(i=1;i<arguments.length;i++)r=arguments[i],n=n.replace("{"+(i-1)+"}",r);return n}},n.fn.charcounter=function(n,i){var u=!0,r=this.data("charcounter");r?u=!1:(r=new t,this.data("charcounter",r)),typeof n=="string"?u||r.command(n,i):u&&r.init(this,n)}}(jQuery),function(n,t,i,r){function h(n,t){if(typeof n=="function")return n.call(t)}function a(n){return(n<10?"0":"")+n}function f(n,t,i,r){return t=Array.isArray(t)?t.join(""):t,i=i?' class="'+i+'"':"",r=r?" "+r:"","<"+n+i+r+">"+t+"<\/"+n+">"}function e(n,t){return Array.isArray(n)?n=new Date(n[0],n[1],n[2]):isNaN(n)?t||(n=new Date,n.setHours(0,0,0,0)):n=new Date(n),{YEAR:t||n.getFullYear(),MONTH:t||n.getMonth(),DATE:t||n.getDate(),DAY:t||n.getDay(),TIME:t||n.getTime()}}var s=7,y=6,p=y*s,o="div",u="pickadate__",c=n(i),w=t.navigator.userAgent.match(/MSIE (7|8|9|10).0/)||!!t.navigator.userAgent.match(/Trident.*rv\:11\./),b=function(t,r){function wt(n){if(n&&v.YEAR>=k.YEAR&&v.MONTH>=k.MONTH||!n&&v.YEAR<=b.YEAR&&v.MONTH<=b.MONTH)return"";var t="month"+(n?"Next":"Prev");return f(o,r[t],u[t],"data-nav="+(n||-1))}function ii(n){return r.monthSelector?f("select",n.map(function(n,t){return f("option",n,0,"value="+t+(v.MONTH==t?" selected":"")+dt(t,v.YEAR," disabled",""))}),u.monthSelector,"tabindex="+(l.isOpen?0:-1)):f(o,n[v.MONTH],u.month)}function ri(){var t=v.YEAR,n=r.yearSelector,e;if(n){n=n===!0?5:~~(n/2);var h=[],s=t-n,i=at(s,b.YEAR),c=t+n+(i-s),a=at(c,k.YEAR,1);for(n=c-a,n&&(i=at(s-n,b.YEAR)),e=0;e<=a-i;e+=1)h.push(i+e);return f("select",h.map(function(n){return f("option",n,0,"value="+n+(t==n?" selected":""))}),u.yearSelector,"tabindex="+(l.isOpen?0:-1))}return f(o,t,u.year)}function ui(){for(var i,t,r,h=[],c="",l=e([v.YEAR,v.MONTH+1,0]).DATE,a=fi(v.DATE,v.DAY),y=function(n,t){var r=!1,i=[u.day,t?u.dayInfocus:u.dayOutfocus];return(n.TIME<b.TIME||n.TIME>k.TIME||it&&it.filter(pt,n).length)&&(r=!0,i.push(u.dayDisabled)),n.TIME==nt.TIME&&i.push(u.dayToday),n.TIME==tt.TIME&&i.push(u.dayHighlighted),n.TIME==ct.TIME&&i.push(u.daySelected),[i.join(" "),"data-"+(r?"disabled":"date")+"="+[n.YEAR,n.MONTH,n.DATE].join("/")]},n=0;n<p;n+=1)t=n-a,i=e([v.YEAR,v.MONTH,t]),r=y(i,t>0&&t<=l),h.push(f("td",f(o,i.DATE,r[0],r[1]))),n%s+1==s&&(c+=f("tr",h.splice(0,s)));return f("tbody",c,u.calendarBody)}function bt(){return f(o,f(o,f(o,wt()+wt(1),u.monthNav)+f(o,ii(r.showMonthsFull?r.monthsFull:r.monthsShort),u.monthWrap)+f(o,ri(),u.yearWrap)+f("table",[ti,ui()],u.calendarTable),u.calendar),u.calendarWrap)}function at(n,t,i){return i&&n<t||!i&&n>t?n:t}function fi(n,t){var i=n%s,u=t-i+(r.firstDay?-1:0);return t>=i?u:s+u}function vt(n,t){tt=n,v=n,t?ft():kt(n,1)}function kt(n,t){ct=n,d.value=y.getDate(),lt&&(lt.value=y.getDate(r.formatSubmit)),t&&ft(),h(r.onSelect,y)}function ei(n,t){return v=e([t,n,1])}function ot(n){return rt.find("."+n)}function st(n,t){t=t||v.YEAR,n=dt(n,t),ei(n,t),ft()}function ht(n,t){return n===!0?nt:Array.isArray(n)?(--n[1],e(n)):n&&!isNaN(n)?e([nt.YEAR,nt.MONTH,nt.DATE+n]):e(0,t?Infinity:-Infinity)}function ut(n,t){if(n=n.TIME?n:e(n),it)for(var i=n;it.filter(pt,n).length;)n=e([n.YEAR,n.MONTH,n.DATE+(t||1)]),n.MONTH!=i.MONTH&&(n=e([i.YEAR,i.MONTH,t>0?++i.DATE:--i.DATE]),i=n);return n.TIME<b.TIME?n=ut(b):n.TIME>k.TIME&&(n=ut(k,-1)),n}function dt(n,t,i,r){return t<=b.YEAR&&n<b.MONTH?i||b.MONTH:t>=k.YEAR&&n>k.MONTH?i||k.MONTH:r!=null?r:n}function ft(){rt.html(bt()),gt()}function gt(){l.selectMonth=ot(u.monthSelector).on({click:function(n){n.stopPropagation()},change:function(){st(+this.value),ot(u.monthSelector).focus()}})[0],l.selectYear=ot(u.yearSelector).on({click:function(n){n.stopPropagation()},change:function(){st(v.MONTH,+this.value),ot(u.yearSelector).focus()}})[0]}function oi(i){var u=n(i.target),r=u.data(),f;i.stopPropagation(),t.focus(),r.date&&(f=r.date.split("/").map(function(n){return+n}),vt(e(f),!1,u),y.close()),r.nav&&st(v.MONTH+r.nav)}function ni(n){var i=n.keyCode,r=n.target;if(r!=d&&r!=l.selectMonth&&r!=l.selectYear){y.close();return}if(r==l.selectMonth||r==l.selectYear){t.removeClass(u.inputFocus);return}if(i&&r==d){if(n.metaKey||i==9||n.preventDefault(),i==13){kt(tt,1),y.close();return}if(i==27){y.close();return}et[i]&&vt(ut([v.YEAR,v.MONTH,tt.DATE+et[i]],et[i]),1)}}var yt=function(){},y=yt.prototype={constructor:yt,init:function(){return t.on({"focusin click":y.open,keydown:function(n){var t=n.keyCode;(t==8||!l.isOpen&&et[t])&&(n.preventDefault(),n.stopPropagation(),t!=8&&y.open())}}).after([rt,lt]),d.autofocus&&y.open(),gt(),h(r.onStart,y),y},open:function(){if(l.isOpen)return y;if(l.isOpen=!0,t.addClass(u.inputFocus),rt.addClass(u.open),l.selectMonth&&(l.selectMonth.tabIndex=0),l.selectYear&&(l.selectYear.tabIndex=0),w){ft();c.on("click.P"+l.id+" keydown.P"+l.id,ni)}else c.on("click.P"+l.id+" focusin.P"+l.id+" keydown.P"+l.id,ni);return h(r.onOpen,y),y},close:function(){return l.isOpen=!1,t.removeClass(u.inputFocus),rt.removeClass(u.open),l.selectMonth&&(l.selectMonth.tabIndex=-1),l.selectYear&&(l.selectYear.tabIndex=-1),c.off(".P"+l.id),h(r.onClose,y),y},show:function(n,t){return st(--n,t),y},getDate:function(n,t){return g.toArray(n||r.format).map(function(n){return h(g[n],t||ct)||n}).join("")},setDate:function(n,t,i,r){return vt(ut([n,--t,i]),r),y},getDateLimit:function(n,t){return y.getDate(t,n?k:b)},setDateLimit:function(n,t){return t?(k=ht(n,t),v.TIME>k.TIME&&(v=k)):(b=ht(n),v.TIME<b.TIME&&(v=b)),ft(),y}},d=function(n){return n.autofocus=n==i.activeElement,n.type="text",n.readOnly=!0,n}(t[0]),l={id:~~(Math.random()*1e9)},u=r.klass,g=function(){function n(n){return n.match(/\w+/)[0].length}function t(n){return/\d/.test(n[1])?2:1}function i(n,t,i){var r=n.match(/\w+/)[0];return t.mm||t.m||(t.m=i.indexOf(r)+1),r.length}return{d:function(n){return n?t(n):this.DATE},dd:function(n){return n?2:a(this.DATE)},ddd:function(t){return t?n(t):r.weekdaysShort[this.DAY]},dddd:function(t){return t?n(t):r.weekdaysFull[this.DAY]},m:function(n){return n?t(n):this.MONTH+1},mm:function(n){return n?2:a(this.MONTH+1)},mmm:function(n,t){var u=r.monthsShort;return n?i(n,t,u):u[this.MONTH]},mmmm:function(n,t){var u=r.monthsFull;return n?i(n,t,u):u[this.MONTH]},yy:function(n){return n?2:(""+this.YEAR).slice(2)},yyyy:function(n){return n?4:this.YEAR},toArray:function(n){return n.split(/(?=\b)(d{1,4}|m{1,4}|y{4}|yy)+(\b)/g)}}}(),nt=e(),b=ht(r.dateMin),k=ht(r.dateMax,1),it=function(n){if(Array.isArray(n))return n[0]===!0&&(l.disabled=n.shift()),n.map(function(n){return isNaN(n)?(--n[1],e(n)):--n+r.firstDay})}(r.datesDisabled),pt=function(){var n=function(n){return this.TIME==n.TIME||it.indexOf(this.DAY)>-1};return l.disabled?function(t,i,r){return r.map(n,this).indexOf(!0)<0}:n}(),tt=function(n,t){return n?(t={},g.toArray(r.formatSubmit).map(function(i){var r=g[i]?g[i](n,t):i.length;g[i]&&(t[i]=n.slice(0,r)),n=n.slice(r)}),t=[+(t.yyyy||t.yy),+(t.mm||t.m)-1,+(t.dd||t.d)]):t=Date.parse(t),ut(!isNaN(t)||Array.isArray(t)?t:nt)}(d.getAttribute("data-value"),d.value),ct=tt,v=tt,lt=r.formatSubmit?n("<input type=hidden name="+d.name+r.hiddenSuffix+">").val(d.value?y.getDate(r.formatSubmit):"")[0]:null,ti=function(n){return r.firstDay&&n.push(n.splice(0,1)[0]),f("thead",f("tr",n.map(function(n){return f("th",n,u.weekdays)})))}((r.showWeekdaysShort?r.weekdaysShort:r.weekdaysFull).slice(0)),rt=n(f(o,bt(),u.holder)).on("click",oi),et={40:7,38:-7,39:1,37:-1};return new y.init},v,l;n.fn.pickadate=function(t){var i="pickadate";return(t=n.extend(!0,{},n.fn.pickadate.defaults,t),t.disablePicker)?this:this.each(function(){var r=n(this);this.nodeName!="INPUT"||r.data(i)||r.data(i,new b(r,t))})},n.fn.pickadate.defaults={monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthPrev:"&#9664;",monthNext:"&#9654;",showMonthsFull:!0,showWeekdaysShort:!0,format:"d mmmm, yyyy",formatSubmit:!1,hiddenSuffix:"_submit",firstDay:0,monthSelector:!1,yearSelector:!1,dateMin:!1,dateMax:!1,datesDisabled:!1,disablePicker:!1,onOpen:null,onClose:null,onSelect:null,onStart:null,klass:{inputFocus:u+"input--focused",holder:u+"holder",open:u+"holder--opened",calendar:u+"calendar",calendarWrap:u+"calendar--wrap",calendarTable:u+"calendar--table",calendarBody:u+"calendar--body",year:u+"year",yearWrap:u+"year--wrap",yearSelector:u+"year--selector",month:u+"month",monthWrap:u+"month--wrap",monthSelector:u+"month--selector",monthNav:u+"month--nav",monthPrev:u+"month--prev",monthNext:u+"month--next",week:u+"week",weekdays:u+"weekday",day:u+"day",dayDisabled:u+"day--disabled",daySelected:u+"day--selected",dayHighlighted:u+"day--highlighted",dayToday:u+"day--today",dayInfocus:u+"day--infocus",dayOutfocus:u+"day--outfocus"}},v=String.prototype.split,l=/()??/.exec("")[1]===r,String.prototype.split=function(n,t){var f=this;if(Object.prototype.toString.call(n)!=="[object RegExp]")return v.call(f,n,t);var u=[],s=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":""),e=0,h,i,o,c;for(n=new RegExp(n.source,s+"g"),f+="",l||(h=new RegExp("^"+n.source+"$(?!\\s)",s)),t=t===r?-1>>>0:t>>>0;i=n.exec(f);){if(o=i.index+i[0].length,o>e&&(u.push(f.slice(e,i.index)),!l&&i.length>1&&i[0].replace(h,function(){for(var n=1;n<arguments.length-2;n++)arguments[n]===r&&(i[n]=r)}),i.length>1&&i.index<f.length&&Array.prototype.push.apply(u,i.slice(1)),c=i[0].length,e=o,u.length>=t))break;n.lastIndex===i.index&&n.lastIndex++}return e===f.length?(c||!n.test(""))&&u.push(""):u.push(f.slice(e)),u.length>t?u.slice(0,t):u},Array.isArray||(Array.isArray=function(n){return{}.toString.call(n)=="[object Array]"}),[].map||(Array.prototype.map=function(n,t){for(var r=this,u=r.length,f=new Array(u),i=0;i<u;i++)i in r&&(f[i]=n.call(t,r[i],i,r));return f}),[].filter||(Array.prototype.filter=function(n){var i,f,r,e,t,u;if(this==null)throw new TypeError;if(i=Object(this),f=i.length>>>0,typeof n!="function")throw new TypeError;for(r=[],e=arguments[1],t=0;t<f;t++)t in i&&(u=i[t],n.call(e,u,t,i)&&r.push(u));return r}),[].indexOf||(Array.prototype.indexOf=function(n){var u,r,t,i;if(this==null)throw new TypeError;if((u=Object(this),r=u.length>>>0,r===0)||(t=0,arguments.length>1&&(t=Number(arguments[1]),t!=t?t=0:t!=0&&t!=Infinity&&t!=-Infinity&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r))return-1;for(i=t>=0?t:Math.max(r-Math.abs(t),0);i<r;i++)if(i in u&&u[i]===n)return i;return-1})}(jQuery,window,document),function(n,t,i){(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.qtip&&n(jQuery)})(function(r){function et(i){b={pageX:i.pageX,pageY:i.pageY,type:"mousemove",scrollX:n.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:n.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}}function ut(n){var t=function(n){return n===s||"object"!=typeof n},i=function(n){return!r.isFunction(n)&&(!n&&!n.attr||n.length<1||"object"==typeof n&&!n.jquery&&!n.then)};return!n||"object"!=typeof n?u:(t(n.metadata)&&(n.metadata={type:n.metadata}),"content"in n&&((t(n.content)||n.content.jquery)&&(n.content={text:n.content}),i(n.content.text||u)&&(n.content.text=u),"title"in n.content&&(t(n.content.title)&&(n.content.title={text:n.content.title}),i(n.content.title.text||u)&&(n.content.title.text=u))),"position"in n&&t(n.position)&&(n.position={my:n.position,at:n.position}),"show"in n&&t(n.show)&&(n.show=n.show.jquery?{target:n.show}:{event:n.show}),"hide"in n&&t(n.hide)&&(n.hide=n.hide.jquery?{target:n.hide}:{event:n.hide}),"style"in n&&t(n.style)&&(n.style={classes:n.style}),r.each(e,function(){this.sanitize&&this.sanitize(n)}),n)}function ht(v,w,d,g){function ti(n){for(var r=0,u,t=w,i=n.split(".");t=t[i[r++]];)r<i.length&&(u=t);return[u||w,i.pop()]}function pt(n){return bt.concat("").join(n?"-"+n+" ":" ")}function ii(){var n=w.style.widget,t=rt.hasClass(at);rt.removeClass(at),at=n?"ui-state-disabled":"qtip-disabled",rt.toggleClass(at,t),rt.toggleClass("ui-helper-reset "+pt(),n).toggleClass(st,w.style.def&&!n),ht.content&&ht.content.toggleClass(pt("content"),n),ht.titlebar&&ht.titlebar.toggleClass(pt("header"),n),ht.button&&ht.button.toggleClass(a+"-icon",!n)}function dt(n){ht.title&&(ht.titlebar.remove(),ht.titlebar=ht.title=ht.button=s,n!==u&&it.reposition())}function gt(){var n=w.content.title.button,i=typeof n=="string",t=i?n:"Close tooltip";ht.button&&ht.button.remove(),ht.button=n.jquery?n:r("<a />",{"class":"qtip-close "+(w.style.widget?"":a+"-icon"),title:t,"aria-label":t}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),ht.button.appendTo(ht.titlebar||rt).attr("role","button").click(function(n){return rt.hasClass(at)||it.hide(n),u})}function ri(){var n=yt+"-title";ht.titlebar&&dt(),ht.titlebar=r("<div />",{"class":a+"-titlebar "+(w.style.widget?pt("header"):"")}).append(ht.title=r("<div />",{id:n,"class":a+"-title","aria-atomic":f})).insertBefore(ht.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(n){r(this).toggleClass("ui-state-active ui-state-focus",n.type.substr(-4)==="down")}).delegate(".qtip-close","mouseover mouseout",function(n){r(this).toggleClass("ui-state-hover",n.type==="mouseover")}),w.content.title.button&&gt()}function si(n){var t=ht.button;if(!it.rendered)return u;n?gt():t.remove()}function ni(n,t){var i=ht.title;if(!it.rendered||!n)return u;if(r.isFunction(n)&&(n=n.call(v,ct.event,it)),n===u||!n&&n!=="")return dt(u);n.jquery&&n.length>0?i.empty().append(n.css({display:"block"})):i.html(n),t!==u&&it.rendered&&rt[0].offsetWidth>0&&it.reposition(ct.event)}function ui(n){n&&r.isFunction(n.done)&&n.done(function(n){wt(n,null,u)})}function wt(n,t,f){function o(n){function o(i){i&&(delete f[i.src],clearTimeout(it.timers.img[i.src]),r(i).unbind(lt)),r.isEmptyObject(f)&&(t!==u&&it.reposition(ct.event),n())}var s,f={};if((s=e.find("img[src]:not([height]):not([width])")).length===0)return o();s.each(function(n,t){if(f[t.src]===i){var u=0,e=3;(function s(){if(t.height||t.width||u>e)return o(t);u+=1,it.timers.img[t.src]=setTimeout(s,700)})(),r(t).bind("error"+lt+" load"+lt,function(){o(this)}),f[t.src]=t}})}var e=ht.content;return!it.rendered||!n?u:(r.isFunction(n)&&(n=n.call(v,ct.event,it)||""),f!==u&&ui(w.content.deferred),n.jquery&&n.length>0?e.empty().append(n.css({display:"block"})):e.html(n),it.rendered<0?rt.queue("fx",o):(oi=0,o(r.noop)),it)}function fi(){function s(n){if(rt.hasClass(at))return u;clearTimeout(it.timers.show),clearTimeout(it.timers.hide);var t=function(){it.toggle(f,n)};w.show.delay>0?it.timers.show=setTimeout(t,w.show.delay):t()}function h(n){if(rt.hasClass(at)||vt||oi)return u;var t=r(n.relatedTarget||n.target),f=t.closest(k)[0]===rt[0],o=t[0]===i.show[0];if(clearTimeout(it.timers.show),clearTimeout(it.timers.hide),e.target==="mouse"&&f||w.hide.fixed&&/mouse(out|leave|move)/.test(n.type)&&(f||o)){try{n.preventDefault(),n.stopImmediatePropagation()}catch(s){}return}w.hide.delay>0?it.timers.hide=setTimeout(function(){it.hide(n)},w.hide.delay):it.hide(n)}function l(n){if(rt.hasClass(at))return u;clearTimeout(it.timers.inactive),it.timers.inactive=setTimeout(function(){it.hide(n)},w.hide.inactive)}function a(n){it.rendered&&rt[0].offsetWidth>0&&it.reposition(n)}var e=w.position,i={show:w.show.target,hide:w.hide.target,viewport:r(e.viewport),document:r(t),body:r(t.body),window:r(n)},o={show:r.trim(""+w.show.event).split(" "),hide:r.trim(""+w.hide.event).split(" ")},y=r.browser.msie&&parseInt(r.browser.version,10)===6;rt.bind("mouseenter"+lt+" mouseleave"+lt,function(n){var t=n.type==="mouseenter";t&&it.focus(n),rt.toggleClass(kt,t)}),/mouse(out|leave)/i.test(w.hide.event)&&w.hide.leave==="window"&&i.window.bind("mouseout"+lt+" blur"+lt,function(n){/select|option/.test(n.target.nodeName)||n.relatedTarget||it.hide(n)}),w.hide.fixed?(i.hide=i.hide.add(rt),rt.bind("mouseover"+lt,function(){rt.hasClass(at)||clearTimeout(it.timers.hide)})):/mouse(over|enter)/i.test(w.show.event)&&i.hide.bind("mouseleave"+lt,function(){clearTimeout(it.timers.show)}),(""+w.hide.event).indexOf("unfocus")>-1&&e.container.closest("html").bind("mousedown"+lt+" touchstart"+lt,function(n){var t=r(n.target),u=it.rendered&&!rt.hasClass(at)&&rt[0].offsetWidth>0,i=t.parents(k).filter(rt[0]).length>0;t[0]===v[0]||t[0]===rt[0]||i||v.has(t[0]).length||t.attr("disabled")||it.hide(n)}),"number"==typeof w.hide.inactive&&(i.show.bind("qtip-"+d+"-inactive",l),r.each(c.inactiveEvents,function(n,t){i.hide.add(ht.tooltip).bind(t+lt+"-inactive",l)})),r.each(o.hide,function(n,t){var u=r.inArray(t,o.show),f=r(i.hide);u>-1&&f.add(i.show).length===f.length||t==="unfocus"?(i.show.bind(t+lt,function(n){rt[0].offsetWidth>0?h(n):s(n)}),delete o.show[u]):i.hide.bind(t+lt,h)}),r.each(o.show,function(n,t){i.show.bind(t+lt,s)}),"number"==typeof w.hide.distance&&i.show.add(rt).bind("mousemove"+lt,function(n){var t=ct.origin||{},i=w.hide.distance,r=Math.abs;(r(n.pageX-t.pageX)>=i||r(n.pageY-t.pageY)>=i)&&it.hide(n)}),e.target==="mouse"&&(i.show.bind("mousemove"+lt,et),e.adjust.mouse&&(w.hide.event&&(rt.bind("mouseleave"+lt,function(n){(n.relatedTarget||n.target)!==i.show[0]&&it.hide(n)}),ht.target.bind("mouseenter"+lt+" mouseleave"+lt,function(n){ct.onTarget=n.type==="mouseenter"})),i.document.bind("mousemove"+lt,function(n){it.rendered&&ct.onTarget&&!rt.hasClass(at)&&rt[0].offsetWidth>0&&it.reposition(n||b)}))),(e.adjust.resize||i.viewport.length)&&(r.event.special.resize?i.viewport:i.window).bind("resize"+lt,a),i.window.bind("scroll"+lt,a)}function ei(){var i=[w.show.target[0],w.hide.target[0],it.rendered&&ht.tooltip[0],w.position.container[0],w.position.viewport[0],w.position.container.closest("html")[0],n,t];it.rendered?r([]).pushStack(r.grep(i,function(n){return typeof n=="object"})).unbind(lt):w.show.target.unbind(lt+"-create")}var it=this,hi=t.body,yt=a+"-"+d,vt=0,oi=0,rt=r(),lt=".qtip-"+d,at="qtip-disabled",ht,ct;it.id=d,it.rendered=u,it.destroyed=u,it.elements=ht={target:v},it.timers={img:{}},it.options=w,it.checks={},it.plugins={},it.cache=ct={event:{},target:r(),disabled:u,attr:g,onTarget:u,lastClass:""},it.checks.builtin={"^id$":function(n,t,i){var o=i===f?c.nextid:i,e=a+"-"+o;o!==u&&o.length>0&&!r("#"+e).length&&(rt[0].id=e,ht.content[0].id=e+"-content",ht.title[0].id=e+"-title")},"^content.text$":function(){wt(w.content.text)},"^content.deferred$":function(){ui(w.content.deferred)},"^content.title.text$":function(n,t,i){if(!i)return dt();!ht.title&&i&&ri(),ni(i)},"^content.title.button$":function(n,t,i){si(i)},"^position.(my|at)$":function(n,t,i){"string"==typeof i&&(n[t]=new e.Corner(i))},"^position.container$":function(n,t,i){it.rendered&&rt.appendTo(i)},"^show.ready$":function(){it.rendered?it.toggle(f):it.render(1)},"^style.classes$":function(n,t,i){rt.attr("class",a+" qtip "+i)},"^style.width|height":function(n,t,i){rt.css(t,i)},"^style.widget|content.title":ii,"^events.(render|show|move|hide|focus|blur)$":function(n,t,i){rt[(r.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var n=w.position;rt.attr("tracking",n.target==="mouse"&&n.adjust.mouse),ei(),fi()}},r.extend(it,{_triggerEvent:function(n,t,i){var u=r.Event("tooltip"+n);return u.originalEvent=(i?r.extend({},i):s)||ct.event||s,rt.trigger(u,[it].concat(t||[])),!u.isDefaultPrevented()},render:function(n){if(it.rendered)return it;var i=w.content.text,t=w.content.title,o=w.position;return r.attr(v[0],"aria-describedby",yt),rt=ht.tooltip=r("<div/>",{id:yt,"class":[a,st,w.style.classes,a+"-pos-"+w.position.my.abbrev()].join(" "),width:w.style.width||"",height:w.style.height||"",tracking:o.target==="mouse"&&o.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":u,"aria-describedby":yt+"-content","aria-hidden":f}).toggleClass(at,ct.disabled).data("qtip",it).appendTo(w.position.container).append(ht.content=r("<div />",{"class":a+"-content",id:yt+"-content","aria-atomic":f})),it.rendered=-1,vt=1,t.text?(ri(),r.isFunction(t.text)||ni(t.text,u)):t.button&&gt(),(!r.isFunction(i)||i.then)&&wt(i,u),it.rendered=f,ii(),r.each(w.events,function(n,t){r.isFunction(t)&&rt.bind(n==="toggle"?"tooltipshow tooltiphide":"tooltip"+n,t)}),r.each(e,function(){this.initialize==="render"&&this(it)}),fi(),rt.queue("fx",function(t){it._triggerEvent("render"),vt=0,(w.show.ready||n)&&it.toggle(f,ct.event,u),t()}),it},get:function(n){var t,i;switch(n.toLowerCase()){case"dimensions":t={height:rt.outerHeight(u),width:rt.outerWidth(u)};break;case"offset":t=e.offset(rt,w.position.container);break;default:i=ti(n.toLowerCase()),t=i[0][i[1]],t=t.precedance?t.string():t}return t},set:function(n,t){function h(n,t){var i,r,u;for(i in e)for(r in e[i])(u=new RegExp(r,"i").exec(n))&&(t.push(u),e[i][r].apply(it,t))}var c=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,l=/^content\.(title|attr)|style/i,i=u,e=it.checks,o;return"string"==typeof n?(o=n,n={},n[o]=t):n=r.extend(f,{},n),r.each(n,function(t,u){var f=ti(t.toLowerCase()),e;e=f[0][f[1]],f[0][f[1]]="object"==typeof u&&u.nodeType?r(u):u,n[t]=[f[0],f[1],u,e],i=c.test(t)||i}),ut(w),vt=1,r.each(n,h),vt=0,it.rendered&&rt[0].offsetWidth>0&&i&&it.reposition(w.position.target==="mouse"?s:ct.event),it},toggle:function(n,i){function s(){n?(r.browser.msie&&rt[0].style.removeAttribute("filter"),rt.css("overflow",""),"string"==typeof e.autofocus&&r(e.autofocus,rt).focus(),e.target.trigger("qtip-"+d+"-inactive")):rt.css({display:"",visibility:"",opacity:"",left:"",top:""}),it._triggerEvent(n?"visible":"hidden")}if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(ct.event.type)&&w.show.target.add(i.target).length===w.show.target.length&&rt.has(i.relatedTarget).length)return it;ct.event=r.extend({},i)}if(!it.rendered)return n?it.render(1):it;var h=n?"show":"hide",e=w[h],y=w[n?"hide":"show"],c=w.position,o=w.content,l=rt[0].offsetWidth>0,a=n||e.target.length===1,v=!i||e.target.length<2||ct.target[0]===i.target,p,g;return(typeof n).search("boolean|number")&&(n=!l),!rt.is(":animated")&&l===n&&v?it:it._triggerEvent(h,[90])?(r.attr(rt[0],"aria-hidden",!n),n?(ct.origin=r.extend({},b),it.focus(i),r.isFunction(o.text)&&wt(o.text,u),r.isFunction(o.title.text)&&ni(o.title.text,u),!ft&&c.target==="mouse"&&c.adjust.mouse&&(r(t).bind("mousemove.qtip",et),ft=f),it.reposition(i,arguments[2]),!e.solo||r(k,e.solo).not(rt).qtip("hide",r.Event("tooltipsolo"))):(clearTimeout(it.timers.show),delete ct.origin,ft&&!r(k+'[tracking="true"]:visible',e.solo).not(rt).length&&(r(t).unbind("mousemove.qtip"),ft=u),it.blur(i)),e.effect===u||a===u?(rt[h](),s.call(rt)):r.isFunction(e.effect)?(rt.stop(1,1),e.effect.call(rt,it),rt.queue("fx",function(n){s(),n()})):rt.fadeTo(90,n?1:0,s),n&&e.target.trigger("qtip-"+d+"-inactive"),it):it},show:function(n){return it.toggle(f,n)},hide:function(n){return it.toggle(u,n)},focus:function(n){if(!it.rendered)return it;var t=r(k),u=parseInt(rt[0].style.zIndex,10),i=c.zindex+t.length,f=r.extend({},n),e;return rt.hasClass(nt)||it._triggerEvent("focus",[i],f)&&(u!==i&&(t.each(function(){this.style.zIndex>u&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+nt).qtip("blur",f)),rt.addClass(nt)[0].style.zIndex=i),it},blur:function(n){return rt.removeClass(nt),it._triggerEvent("blur",[rt.css("zIndex")],n),it},reposition:function(i,f){if(!it.rendered||vt)return it;vt=1;var s=w.position.target,a=w.position,ut=a.my,v=a.at,d=a.adjust,lt=d.method.split(" "),ot=rt.outerWidth(u),st=rt.outerHeight(u),g=0,nt=0,at=rt.css("position")==="fixed",ft=a.viewport,c={left:0,top:0},yt=a.container,pt=rt[0].offsetWidth>0,wt=i&&i.type==="scroll",et=r(n),k,tt;if(r.isArray(s)&&s.length===2)v={x:l,y:h},c={left:s[0],top:s[1]};else if(s==="mouse"&&(i&&i.pageX||ct.event.pageX))v={x:l,y:h},i=b&&b.pageX&&(d.mouse||!i||!i.pageX)?{pageX:b.pageX,pageY:b.pageY}:(!i||i.type!=="resize"&&i.type!=="scroll"?i&&i.pageX&&i.type==="mousemove"?i:!d.mouse&&ct.origin&&ct.origin.pageX&&w.show.distance?ct.origin:i:ct.event)||i||ct.event||b||{},c={top:i.pageY,left:i.pageX},d.mouse&&wt&&(c.left-=b.scrollX-et.scrollLeft(),c.top-=b.scrollY-et.scrollTop());else{if(s==="event"&&i&&i.target&&i.type!=="scroll"&&i.type!=="resize"?ct.target=r(i.target):s!=="event"&&(ct.target=r(s.jquery?s:ht.target)),s=ct.target,s=r(s).eq(0),s.length===0)return it;s[0]===t||s[0]===n?(g=e.iOS?n.innerWidth:s.width(),nt=e.iOS?n.innerHeight:s.height(),s[0]===n&&(c={top:(ft||s).scrollTop(),left:(ft||s).scrollLeft()})):e.imagemap&&s.is("area")?k=e.imagemap(it,s,v,e.viewport?lt:u):e.svg&&s[0].ownerSVGElement?k=e.svg(it,s,v,e.viewport?lt:u):(g=s.outerWidth(u),nt=s.outerHeight(u),c=e.offset(s,yt)),k&&(g=k.width,nt=k.height,tt=k.offset,c=k.position),(e.iOS>3.1&&e.iOS<4.1||e.iOS>=4.3&&e.iOS<4.33||!e.iOS&&at)&&(c.left-=et.scrollLeft(),c.top-=et.scrollTop()),c.left+=v.x===p?g:v.x===o?g/2:0,c.top+=v.y===y?nt:v.y===o?nt/2:0}return c.left+=d.x+(ut.x===p?-ot:ut.x===o?-ot/2:0),c.top+=d.y+(ut.y===y?-st:ut.y===o?-st/2:0),e.viewport?(c.adjusted=e.viewport(it,c,a,g,nt,ot,st),tt&&c.adjusted.left&&(c.left+=tt.left),tt&&c.adjusted.top&&(c.top+=tt.top)):c.adjusted={left:0,top:0},it._triggerEvent("move",[c,ft.elem||ft],i)?(delete c.adjusted,f===u||!pt||isNaN(c.left)||isNaN(c.top)||s==="mouse"||!r.isFunction(a.effect)?rt.css(c):r.isFunction(a.effect)&&(a.effect.call(rt,it,r.extend({},c)),rt.queue(function(n){r(this).css({opacity:"",height:""}),r.browser.msie&&this.style.removeAttribute("filter"),n()})),vt=0,it):it},disable:function(n){return"boolean"!=typeof n&&(n=!rt.hasClass(at)&&!ct.disabled),it.rendered?(rt.toggleClass(at,n),r.attr(rt[0],"aria-disabled",n)):ct.disabled=!!n,it},enable:function(){return it.disable(u)},destroy:function(){var n=v[0],t=r.attr(n,tt),i=v.data("qtip");return it.destroyed=f,it.rendered&&(rt.stop(1,0).remove(),r.each(it.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(it.timers.show),clearTimeout(it.timers.hide),ei(),i&&it!==i||(r.removeData(n,"qtip"),w.suppress&&t&&(r.attr(n,"title",t),v.removeAttr(tt)),v.removeAttr("aria-describedby")),v.unbind(".qtip-"+d),delete ot[it.id],v}})}function ct(n,i){var v,h,y,o,b,l=r(this),k=r(t.body),p=this===t?k:l,w=l.metadata?l.metadata(i.metadata):s,d=i.metadata.type==="html5"&&w?w[i.metadata.name]:s,a=l.data(i.metadata.name||"qtipopts");try{a=typeof a=="string"?r.parseJSON(a):a}catch(g){}if(o=r.extend(f,{},c.defaults,i,typeof a=="object"?ut(a):s,ut(d||w)),h=o.position,o.id=n,"boolean"==typeof o.content.text){if(y=l.attr(o.content.attr),o.content.attr===u||!y)return u;o.content.text=y}if(h.container.length||(h.container=k),h.target===u&&(h.target=p),o.show.target===u&&(o.show.target=p),o.show.solo===f&&(o.show.solo=h.container.closest("body")),o.hide.target===u&&(o.hide.target=p),o.position.viewport===f&&(o.position.viewport=h.container),h.container=h.container.eq(0),h.at=new e.Corner(h.at),h.my=new e.Corner(h.my),r.data(this,"qtip"))if(o.overwrite)l.qtip("destroy");else if(o.overwrite===u)return u;return o.suppress&&(b=r.attr(this,"title"))&&r(this).removeAttr("title").attr(tt,b).attr("title",""),v=new ht(l,o,n,!!y),r.data(this,"qtip",v),l.bind("remove.qtip-"+n+" removeqtip.qtip-"+n,function(){v.destroy()}),v}function lt(n){var i=this,l=n.elements.tooltip,t=n.options.content.ajax,o=c.defaults.content.ajax,s=".qtip-ajax",v=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=f,h=u,e;n.checks.ajax={"^content.ajax":function(n,r,u){r==="ajax"&&(t=u),r==="once"?i.init():t&&t.url?i.load():l.unbind(s)}},r.extend(i,{init:function(){return t&&t.url&&l.unbind(s)[t.once?"one":"bind"]("tooltipshow"+s,i.load),i},load:function(s){function w(){var i;n.destroyed||(a=u,p&&(h=f,n.show(s.originalEvent)),(i=o.complete||t.complete)&&r.isFunction(i)&&i.apply(t.context||n,arguments))}function b(i,u,f){var e;n.destroyed||(y&&"string"==typeof i&&(i=r("<div/>").append(i.replace(v,"")).find(y)),(e=o.success||t.success)&&r.isFunction(e)?e.call(t.context||n,i,u,f):n.set("content.text",i))}function k(t,i,r){n.destroyed||t.status===0||n.set("content.text",i+": "+r)}if(h){h=u;return}var l=t.url.lastIndexOf(" "),c=t.url,y,p=!t.loading&&a;if(p)try{s.preventDefault()}catch(d){}else if(s&&s.isDefaultPrevented())return i;e&&e.abort&&e.abort(),l>-1&&(y=c.substr(l),c=c.substr(0,l)),e=r.ajax(r.extend({error:o.error||k,context:n},t,{url:c,success:b,complete:w}))},destroy:function(){e&&e.abort&&e.abort(),n.destroyed=f}}),i.init()}function at(n,t,i){var u=Math.ceil(t/2),f=Math.ceil(i/2),r={bottomright:[[0,0],[t,i],[t,0]],bottomleft:[[0,0],[t,0],[0,i]],topright:[[0,i],[t,0],[t,i]],topleft:[[0,0],[0,i],[t,i]],topcenter:[[0,i],[u,0],[t,i]],bottomcenter:[[0,0],[t,0],[u,i]],rightcenter:[[0,0],[t,f],[0,i]],leftcenter:[[t,0],[t,i],[0,f]]};return r.lefttop=r.bottomright,r.righttop=r.bottomleft,r.leftbottom=r.topright,r.rightbottom=r.topleft,r[n.string()]}function vt(n){function et(n){var t=tt.is(":visible");tt.show(),n(),tt.toggle(t)}function lt(){nt.width=k.height,nt.height=k.width}function vt(){nt.width=k.width,nt.height=k.height}function yt(t,r,e){if(a.tip){var b=c.corner.clone(),nt=e.adjusted,st=n.options.position.adjust.method.split(" "),et=st[0],ot=st[1]||st[0],tt={left:u,top:u,x:0,y:0},g,rt={},it;c.corner.fixed!==f&&(et===d&&b.precedance===w&&nt.left&&b.y!==o?b.precedance=b.precedance===w?v:w:et!==d&&nt.left&&(b.x=b.x===o?nt.left>0?l:p:b.x===l?p:l),ot===d&&b.precedance===v&&nt.top&&b.x!==o?b.precedance=b.precedance===v?w:v:ot!==d&&nt.top&&(b.y=b.y===o?nt.top>0?h:y:b.y===h?y:h),b.string()!==ut.corner.string()&&(ut.top!==nt.top||ut.left!==nt.left)&&c.update(b,u)),g=c.position(b,nt),g[b.x]+=ft(b,b.x),g[b.y]+=ft(b,b.y),g.right!==i&&(g.left=-g.right),g.bottom!==i&&(g.top=-g.bottom),g.user=Math.max(0,k.offset),(tt.left=et===d&&!!nt.left)&&(b.x===o?rt["margin-left"]=tt.x=g["margin-left"]-nt.left:(it=g.right!==i?[nt.left,-g.left]:[-nt.left,g.left],(tt.x=Math.max(it[0],it[1]))>it[0]&&(e.left-=nt.left,tt.left=u),rt[g.right!==i?p:l]=tt.x)),(tt.top=ot===d&&!!nt.top)&&(b.y===o?rt["margin-top"]=tt.y=g["margin-top"]-nt.top:(it=g.bottom!==i?[nt.top,-g.top]:[-nt.top,g.top],(tt.y=Math.max(it[0],it[1]))>it[0]&&(e.top-=nt.top,tt.top=u),rt[g.bottom!==i?y:h]=tt.y)),a.tip.css(rt).toggle(!(tt.x&&tt.y||b.x===o&&tt.y||b.y===o&&tt.x)),e.left-=g.left.charAt?g.user:et!==d||tt.top||!tt.left&&!tt.top?g.left:0,e.top-=g.top.charAt?g.user:ot!==d||tt.left||!tt.left&&!tt.top?g.top:0,ut.left=nt.left,ut.top=nt.top,ut.corner=b.clone()}}function pt(){var t=k.corner,i=n.options.position,o=i.at,r=i.my.string?i.my.string():i.my;return t===u||r===u&&o===u?u:(t===f?c.corner=new e.Corner(r):t.string||(c.corner=new e.Corner(t),c.corner.fixed=f),ut.corner=new e.Corner(c.corner.string()),c.corner.string()!=="centercenter")}function ft(n,t,i){t=t?t:n[n.precedance];var f=a.titlebar&&n.y===h,e=f?a.titlebar:tt,o="border-"+t+"-width",r=function(n){return parseInt(n.css(o),10)},u;return et(function(){u=(i?r(i):r(a.content)||r(e)||r(tt))||0}),u}function wt(n){var o=a.titlebar&&n.y===h,s=o?a.titlebar:a.content,c=r.browser.mozilla,i=c?"-moz-":r.browser.webkit?"-webkit-":"",u="border-radius-"+n.y+n.x,f="border-"+n.y+"-"+n.x+"-radius",t=function(n){return parseInt(s.css(n),10)||parseInt(tt.css(n),10)},e;return et(function(){e=t(f)||t(i+f)||t(i+u)||t(u)||0}),e}function bt(n){function t(n,t,i){var r=n.css(t)||y;return i&&r===n.css(i)?u:b.test(r)?u:r}var g,it,ut,i=a.tip.css("cssText",""),l=n||c.corner,b=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,s="border-"+l[l.precedance]+"-color",e="background-color",y="transparent",p=" !important",v=a.titlebar,d=v&&(l.y===h||l.y===o&&i.position().top+nt.height/2+k.offset<v.outerHeight(f)),w=d?v:a.content;et(function(){rt.fill=t(i,e)||t(w,e)||t(a.content,e)||t(tt,e)||i.css(e),rt.border=t(i,s,"color")||t(w,s,"color")||t(a.content,s,"color")||t(tt,s,"color")||tt.css(s),r("*",i).add(i).css("cssText",e+":"+y+p+";border:0"+p+";")})}function ht(n){var r=n.precedance===v,h=nt[r?g:it],f=nt[r?it:g],c=n.string().indexOf(o)>-1,l=h*(c?.5:1),i=Math.pow,a=Math.round,y,e,s,u=Math.sqrt(i(l,2)+i(f,2)),t=[b/l*u,b/f*u];return t[2]=Math.sqrt(i(t[0],2)-i(b,2)),t[3]=Math.sqrt(i(t[1],2)-i(b,2)),y=u+t[2]+t[3]+(c?0:t[0]),e=y/u,s=[a(e*f),a(e*h)],{height:s[r?0:1],width:s[r?1:0]}}function ct(n,t,i){return"<qvml:"+n+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'}var c=this,k=n.options.style.tip,a=n.elements,tt=a.tooltip,ut={top:0,left:0},nt={width:k.width,height:k.height},rt={},b=k.border||0,ot=".qtip-tip",st=!!(r("<canvas />")[0]||{}).getContext,kt;c.corner=s,c.mimic=s,c.border=b,c.offset=k.offset,c.size=nt,n.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){c.init()||c.destroy(),n.reposition()},"^style.tip.(height|width)$":function(){nt={width:k.width,height:k.height},c.create(),c.update(),n.reposition()},"^content.title.text|style.(classes|widget)$":function(){a.tip&&a.tip.length&&c.update()}},r.extend(c,{init:function(){var n=pt()&&(st||r.browser.msie);return n&&(c.create(),c.update(),tt.unbind(ot).bind("tooltipmove"+ot,yt)),n},create:function(){var t=nt.width,i=nt.height,n;a.tip&&a.tip.remove(),a.tip=r("<div />",{"class":"qtip-tip"}).css({width:t,height:i}).prependTo(tt),st?r("<canvas />").appendTo(a.tip)[0].getContext("2d").save():(n=ct("shape",'coordorigin="0,0"',"position:absolute;"),a.tip.html(n+n),r("*",a.tip).bind("click mousedown",function(n){n.stopPropagation()}))},update:function(n,t){var kt=a.tip,wt=kt.children(),et=nt.width,ot=nt.height,i=k.mimic,pt=Math.round,dt,d,g,yt,it;n||(n=ut.corner||c.corner),i===u?i=n:(i=new e.Corner(i),i.precedance=n.precedance,i.x==="inherit"?i.x=n.x:i.y==="inherit"?i.y=n.y:i.x===i.y&&(i[n.precedance]=n[n.precedance])),dt=i.precedance,n.precedance===w?lt():vt(),a.tip.css({width:et=nt.width,height:ot=nt.height}),bt(n),rt.border!=="transparent"?(b=ft(n,s),k.border===0&&b>0&&(rt.fill=rt.border),c.border=b=k.border!==f?k.border:b):c.border=b=0,g=at(i,et,ot),c.size=it=ht(n),kt.css(it).css("line-height",it.height+"px"),yt=n.precedance===v?[pt(i.x===l?b:i.x===p?it.width-et-b:(it.width-et)/2),pt(i.y===h?it.height-ot:0)]:[pt(i.x===l?it.width-et:0),pt(i.y===h?b:i.y===y?it.height-ot-b:(it.height-ot)/2)],st?(wt.attr(it),d=wt[0].getContext("2d"),d.restore(),d.save(),d.clearRect(0,0,3e3,3e3),d.fillStyle=rt.fill,d.strokeStyle=rt.border,d.lineWidth=b*2,d.lineJoin="miter",d.miterLimit=100,d.translate(yt[0],yt[1]),d.beginPath(),d.moveTo(g[0][0],g[0][1]),d.lineTo(g[1][0],g[1][1]),d.lineTo(g[2][0],g[2][1]),d.closePath(),b&&(tt.css("background-clip")==="border-box"&&(d.strokeStyle=rt.fill,d.stroke()),d.strokeStyle=rt.border,d.stroke()),d.fill()):(g="m"+g[0][0]+","+g[0][1]+" l"+g[1][0]+","+g[1][1]+" "+g[2][0]+","+g[2][1]+" xe",yt[2]=b&&/^(r|b)/i.test(n.string())?parseFloat(r.browser.version,10)===8?2:1:0,wt.css({coordsize:et+b+" "+(ot+b),antialias:""+(i.string().indexOf(o)>-1),left:yt[0],top:yt[1],width:et+b,height:ot+b}).each(function(n){var t=r(this);t[t.prop?"prop":"attr"]({coordsize:et+b+" "+(ot+b),path:g,fillcolor:rt.fill,filled:!!n,stroked:!n}).toggle(!!b||!!n),n||t.html()!==""||t.html(ct("stroke",'weight="'+b*2+'px" color="'+rt.border+'" miterlimit="1000" joinstyle="miter"'))})),t!==u&&c.position(n)},position:function(n){var s=a.tip,t={},y=Math.max(0,k.offset),i,f,e;return k.corner===u||!s?u:(n=n||c.corner,i=n.precedance,f=ht(n),e=[n.x,n.y],i===w&&e.reverse(),r.each(e,function(r,u){var e,c,s;u===o?(e=i===v?l:h,t[e]="50%",t["margin-"+e]=-Math.round(f[i===v?g:it]/2)+y):(e=ft(n,u),c=ft(n,u,a.content),s=wt(n),t[u]=r?c:y+(s>e?s:-e))}),t[n[i]]-=f[i===w?g:it],s.css({top:"",bottom:"",left:"",right:"",margin:""}).css(t),t)},destroy:function(){a.tip&&a.tip.remove(),a.tip=!1,tt.unbind(ot)}}),c.init()}function yt(i){function b(){w=r(it,s).not("[disabled]").map(function(){return typeof this.focus=="function"?this:null})}function d(n){w.length<1&&n.length?n.not("body").blur():w.first().focus()}function tt(n){var t=r(n.target),i=t.closest(".qtip"),f;f=i.length<1?u:parseInt(i[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10),f||r(n.target).closest(k)[0]===s[0]||d(t)}var h=this,y=i.options.show.modal,a=i.elements,s=a.tooltip,g="#qtip-overlay",c=".qtipmodal",l=c+i.id,v="is-modal-qtip",p=r(t.body),it=e.modal.focusable.join(","),w={},o;i.checks.modal={"^show.modal.(on|blur)$":function(){h.init(),a.overlay.toggle(s.is(":visible"))},"^content.text$":function(){b()}},r.extend(h,{init:function(){return y.on?(o=h.create(),s.attr(v,f).css("z-index",e.modal.zindex+r(k+"["+v+"]").length).unbind(c).unbind(l).bind("tooltipshow"+c+" tooltiphide"+c,function(n,t,i){var u=n.originalEvent;if(n.target===s[0])if(u&&n.type==="tooltiphide"&&/mouse(leave|enter)/.test(u.type)&&r(u.relatedTarget).closest(o[0]).length)try{n.preventDefault()}catch(f){}else u&&(!u||u.solo)||h[n.type.replace("tooltip","")](n,i)}).bind("tooltipfocus"+c,function(n){if(!n.isDefaultPrevented()&&n.target===s[0]){var t=r(k).filter("["+v+"]"),i=e.modal.zindex+t.length,u=parseInt(s[0].style.zIndex,10);o[0].style.zIndex=i-2,t.each(function(){this.style.zIndex>u&&(this.style.zIndex-=1)}),t.end().filter("."+nt).qtip("blur",n.originalEvent),s.addClass(nt)[0].style.zIndex=i;try{n.preventDefault()}catch(f){}}}).bind("tooltiphide"+c,function(n){n.target===s[0]&&r("["+v+"]").filter(":visible").not(s).last().qtip("focus",n)}),y.escape&&r(t).unbind(l).bind("keydown"+l,function(n){n.keyCode===27&&s.hasClass(nt)&&i.hide(n)}),y.blur&&a.overlay.unbind(l).bind("click"+l,function(n){s.hasClass(nt)&&i.hide(n)}),b(),h):h},create:function(){function i(){o.css({height:t.height(),width:t.width()})}var f=r(g),t=r(n);return f.length?a.overlay=f.insertAfter(r(k).last()):(o=a.overlay=r("<div />",{id:g.substr(1),html:"<div><\/div>",mousedown:function(){return u}}).hide().insertAfter(r(k).last()),t.unbind(c).bind("resize"+c,i),i(),o)},toggle:function(n,t,i){if(n&&n.isDefaultPrevented())return h;var e=y.effect,c=t?"show":"hide",a=o.is(":visible"),w=r("["+v+"]").filter(":visible").not(s),b;return o||(o=h.create()),o.is(":animated")&&a===t&&o.data("toggleState")!==u||!t&&w.length?h:(t?(o.css({left:0,top:0}),o.toggleClass("blurs",y.blur),y.stealfocus!==u&&(p.bind("focusin"+l,tt),d(r("body :focus")))):p.unbind("focusin"+l),o.stop(f,u).data("toggleState",t),r.isFunction(e)?e.call(o,t):e===u?o[c]():o.fadeTo(parseInt(i,10)||90,t?1:0,function(){t||r(this).hide()}),t||o.queue(function(n){o.css({left:"",top:""}).removeData("toggleState"),n()}),h)},show:function(n,t){return h.toggle(n,f,t)},hide:function(n,t){return h.toggle(n,u,t)},destroy:function(){var n=o;return n&&(n=r("["+v+"]").not(s).length<1,n?(a.overlay.remove(),r(t).unbind(c)):a.overlay.unbind(c+i.id),p.undelegate("*","focusin"+l)),s.removeAttr(v).unbind(c)}}),h.init()}function pt(i){var s=this,o=i.elements,c=i.options,e=o.tooltip,l=".ie6-"+i.id,a=r("select, object").length<1,h=0,v=u,y;i.checks.ie6={"^content|style$":function(){redraw()}},r.extend(s,{init:function(){var u=r(n),i;a&&(o.bgiframe=r('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"><\/iframe>'),o.bgiframe.appendTo(e),e.bind("tooltipmove"+l,s.adjustBGIFrame)),y=r("<div/>",{id:"qtip-rcontainer"}).appendTo(t.body),s.redraw(),o.overlay&&!v&&(i=function(){o.overlay[0].style.top=u.scrollTop()+"px"},u.bind("scroll.qtip-ie6, resize.qtip-ie6",i),i(),o.overlay.addClass("qtipmodal-ie6fix"),v=f)},adjustBGIFrame:function(){var f=i.get("dimensions"),r=i.plugins.tip,u=o.tip,t,n;n=parseInt(e.css("border-left-width"),10)||0,n={left:-n,top:-n},r&&u&&(t=r.corner.precedance==="x"?["width","left"]:["height","top"],n[t[1]]-=u[t[0]]()),o.bgiframe.css(n).css(f)},redraw:function(){if(i.rendered<1||h)return s;var u=c.style,o=c.position.container,f,n,t,r;return h=1,u.height&&e.css(it,u.height),u.width?e.css(g,u.width):(e.css(g,"").appendTo(y),n=e.width(),n%2<1&&(n+=1),t=e.css("max-width")||"",r=e.css("min-width")||"",f=(t+r).indexOf("%")>-1?o.width()/100:0,t=(t.indexOf("%")>-1?f:1)*parseInt(t,10)||n,r=(r.indexOf("%")>-1?f:1)*parseInt(r,10)||0,n=t+r?Math.min(Math.max(n,r),t):n,e.css(g,Math.round(n)).appendTo(o)),h=0,s},destroy:function(){a&&o.bgiframe.remove(),e.unbind(l)}}),s.init()}var f=!0,u=!1,s=null,w="x",v="y",g="width",it="height",h="top",l="left",y="bottom",p="right",o="center",dt="flip",wt="flipinvert",d="shift",c,e,b,a="qtip",ot={},bt=["ui-widget","ui-tooltip"],k="div.qtip."+a,st=a+"-default",nt=a+"-focus",kt=a+"-hover",rt="_replacedByqTip",tt="oldtitle",ft;c=r.fn.qtip=function(n,t,e){var o=(""+n).toLowerCase(),a=s,v=r.makeArray(arguments).slice(1),h=v[v.length-1],l=this[0]?r.data(this[0],"qtip"):s;return!arguments.length&&l||o==="api"?l:"string"==typeof n?(this.each(function(){var n=r.data(this,"qtip");if(!n)return f;if(h&&h.timeStamp&&(n.cache.event=h),(o==="option"||o==="options")&&t){if(!r.isPlainObject(t)&&e===i)return a=n.get(t),u;n.set(t,e)}else n[o]&&n[o].apply(n[o],v)}),a!==s?a:this):"object"==typeof n||!arguments.length?(l=ut(r.extend(f,{},n)),c.bind.call(this,l,h)):void 0},c.bind=function(n,t){return this.each(function(o){function p(n){function t(){s.render(typeof n=="object"||h.show.ready),y.show.add(y.hide).unbind(v)}if(s.cache.disabled)return u;s.cache.event=r.extend({},n),s.cache.target=n?r(n.target):[i],h.show.delay>0?(clearTimeout(s.timers.show),s.timers.show=setTimeout(t,h.show.delay),a.show!==a.hide&&y.hide.bind(a.hide,function(){clearTimeout(s.timers.show)})):t()}var h,y,a,v,s,l;if(l=r.isArray(n.id)?n.id[o]:n.id,l=!l||l===u||l.length<1||ot[l]?c.nextid++:ot[l]=l,v=".qtip-"+l+"-create",s=ct.call(this,l,n),s===u)return f;h=s.options,r.each(e,function(){this.initialize==="initialize"&&this(s)}),y={show:h.show.target,hide:h.hide.target},a={show:r.trim(""+h.show.event).replace(/ /g,v+" ")+v,hide:r.trim(""+h.hide.event).replace(/ /g,v+" ")+v},/mouse(over|enter)/i.test(a.show)&&!/mouse(out|leave)/i.test(a.hide)&&(a.hide+=" mouseleave"+v),y.show.bind("mousemove"+v,function(n){et(n),s.cache.onTarget=f}),y.show.bind(a.show,p),(h.show.ready||h.prerender)&&p(t)}).attr("data-hasqtip",f)},e=c.plugins={Corner:function(n){n=(""+n).replace(/([A-Z])/," $1").replace(/middle/gi,o).toLowerCase(),this.x=(n.match(/left|right/i)||n.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(n.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=n.charAt(0);this.precedance=t==="t"||t==="b"?v:w,this.string=function(){return this.precedance===v?this.y+this.x:this.x+this.y},this.abbrev=function(){var n=this.x.substr(0,1),t=this.y.substr(0,1);return n===t?n:this.precedance===v?t+n:n+t},this.invertx=function(n){this.x=this.x===l?p:this.x===p?l:n||this.x},this.inverty=function(n){this.y=this.y===h?y:this.y===y?h:n||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(n,i){function c(n,t){f.left+=t*n.scrollLeft(),f.top+=t*n.scrollTop()}var f=n.offset(),s=n.closest("body"),l=r.browser.msie&&t.compatMode!=="CSS1Compat",u=i,e,o,h;if(u){do u.css("position")!=="static"&&(o=u.position(),f.left-=o.left+(parseInt(u.css("borderLeftWidth"),10)||0)+(parseInt(u.css("marginLeft"),10)||0),f.top-=o.top+(parseInt(u.css("borderTopWidth"),10)||0)+(parseInt(u.css("marginTop"),10)||0),!e&&(h=u.css("overflow"))!=="hidden"&&h!=="visible"&&(e=u));while((u=r(u[0].offsetParent)).length);(e&&e[0]!==s[0]||l)&&c(e||s,1)}return f},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||u,fn:{attr:function(n,t){if(this.length){var u=this[0],f="title",i=r.data(u,"qtip");if(n===f&&i&&"object"==typeof i&&i.options.suppress)return arguments.length<2?r.attr(u,tt):(i&&i.options.content.attr===f&&i.cache.attr&&i.set("content.text",t),this.attr(tt,t))}return r.fn["attr"+rt].apply(this,arguments)},clone:function(n){var i=r([]),u="title",t=r.fn["clone"+rt].apply(this,arguments);return n||t.filter("["+tt+"]").attr("title",function(){return r.attr(this,tt)}).removeAttr(tt),t}}},r.each(e.fn,function(n,t){if(!t||r.fn[n+rt])return f;var i=r.fn[n+rt]=r.fn[n];r.fn[n]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}}),r.ui||(r["cleanData"+rt]=r.cleanData,r.cleanData=function(n){for(var t=0,u;(u=n[t])!==i;t++)try{r(u).triggerHandler("removeqtip")}catch(f){}r["cleanData"+rt](n)}),c.version="2.0.0pre-nightly-a38411f1ff",c.nextid=0,c.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),c.zindex=15e3,c.defaults={prerender:u,id:u,overwrite:f,suppress:f,content:{text:f,attr:"title",deferred:u,title:{text:u,button:u}},position:{my:"top left",at:"bottom right",target:u,container:u,viewport:u,adjust:{x:0,y:0,mouse:f,resize:f,method:"flipinvert flipinvert"},effect:function(n,t){r(this).animate(t,{duration:200,queue:u})}},show:{target:u,event:"mouseenter",effect:f,delay:90,solo:u,ready:u,autofocus:u},hide:{target:u,event:"mouseleave",effect:f,delay:0,fixed:u,inactive:u,leave:"window",distance:u},style:{classes:"",widget:u,width:u,height:u,def:f},events:{render:s,move:s,show:s,hide:s,toggle:s,visible:s,hidden:s,focus:s,blur:s}},e.svg=function(n,i){for(var v=r(t),o=i[0],e={width:0,height:0,position:{top:1e10,left:1e10}},c,l,a,s,h;!o.getBBox;)o=o.parentNode;if(o.getBBox&&o.parentNode){if(c=o.getBBox(),l=o.getScreenCTM(),a=o.farthestViewportElement||o,!a.createSVGPoint)return e;s=a.createSVGPoint(),s.x=c.x,s.y=c.y,h=s.matrixTransform(l),e.position.left=h.x,e.position.top=h.y,console.log(e,s,h),s.x+=c.width,s.y+=c.height,h=s.matrixTransform(l),e.width=h.x-e.position.left,e.height=h.y-e.position.top,e.position.left+=v.scrollLeft(),e.position.top+=v.scrollTop()}return e},e.ajax=function(n){var t=n.plugins.ajax;return"object"==typeof t?t:n.plugins.ajax=new lt(n)},e.ajax.initialize="render",e.ajax.sanitize=function(n){var i=n.content,t;i&&"ajax"in i&&(t=i.ajax,typeof t!="object"&&(t=n.content.ajax={url:t}),"boolean"!=typeof t.once&&t.once&&(t.once=!!t.once))},r.extend(f,c.defaults,{content:{ajax:{loading:f,once:f}}}),e.tip=function(n){var t=n.plugins.tip;return"object"==typeof t?t:n.plugins.tip=new vt(n)},e.tip.initialize="render",e.tip.sanitize=function(n){var i=n.style,t;i&&"tip"in i&&(t=n.style.tip,typeof t!="object"&&(n.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=f),typeof t.width!="number"&&delete t.width,typeof t.height!="number"&&delete t.height,typeof t.border!="number"&&t.border!==f&&delete t.border,typeof t.offset!="number"&&delete t.offset)},r.extend(f,c.defaults,{style:{tip:{corner:f,mimic:u,width:6,height:6,border:f,offset:0}}}),e.modal=function(n){var t=n.plugins.modal;return"object"==typeof t?t:n.plugins.modal=new yt(n)},e.modal.initialize="render",e.modal.sanitize=function(n){n.show&&(typeof n.show.modal!="object"?n.show.modal={on:!!n.show.modal}:typeof n.show.modal.on=="undefined"&&(n.show.modal.on=f))},e.modal.zindex=c.zindex-200,e.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"],r.extend(f,c.defaults,{show:{modal:{on:u,effect:f,blur:f,stealfocus:f,escape:f}}}),e.viewport=function(i,r,u,f,e,s,c){function ct(n,t,i,u,f,e,s,h,c){var a=r[f],l=rt[n],g=yt[n],ut=i===d,it=-nt.offset[f]+b.offset[f]+b["scroll"+f],ft=l===f?c:l===e?-c:-c/2,ot=g===f?h:g===e?-h:-h/2,et=k&&k.size?k.size[s]||0:0,y=k&&k.corner&&k.corner.precedance===n&&!ut?et:0,w=it-a+y,p=a+c-b[s]-it+y,v=ft-(rt.precedance===n||l===rt[t]?ot:0)-(g===o?h/2:0);return ut?(y=k&&k.corner&&k.corner.precedance===t?et:0,v=(l===f?1:-1)*ft-y,r[f]+=w>0?w:p>0?-p:0,r[f]=Math.max(-nt.offset[f]+b.offset[f]+(y&&k.corner[n]===o?k.offset:0),a-v,Math.min(Math.max(-nt.offset[f]+b.offset[f]+b[s],a+v),r[f]))):(u*=i===wt?2:0,w>0&&(l!==f||p>0)?(r[f]-=v+u,tt["invert"+n](f)):p>0&&(l!==e||w>0)&&(r[f]-=(l===o?-v:v)+u,tt["invert"+n](e)),r[f]<it&&-r[f]>p&&(r[f]=a,tt=rt.clone())),r[f]-a}var lt=u.target,at=i.elements.tooltip,rt=u.my,yt=u.at,ut=u.adjust,ft=ut.method.split(" "),et=ft[0],ot=ft[1]||ft[0],b=u.viewport,nt=u.container,pt=i.cache,k=i.plugins.tip,st={left:0,top:0},ht,tt,vt;return!b.jquery||lt[0]===n||lt[0]===t.body||ut.method==="none"?st:(ht=at.css("position")==="fixed",b={elem:b,height:b[(b[0]===n?"h":"outerH")+"eight"](),width:b[(b[0]===n?"w":"outerW")+"idth"](),scrollleft:ht?0:b.scrollLeft(),scrolltop:ht?0:b.scrollTop(),offset:b.offset()||{left:0,top:0}},nt={elem:nt,scrollLeft:nt.scrollLeft(),scrollTop:nt.scrollTop(),offset:nt.offset()||{left:0,top:0}},(et!=="shift"||ot!=="shift")&&(tt=rt.clone()),st={left:et!=="none"?ct(w,v,et,ut.x,l,p,g,f,s):0,top:ot!=="none"?ct(v,w,ot,ut.y,h,y,it,e,c):0},tt&&pt.lastClass!==(vt=a+"-pos-"+tt.abbrev())&&at.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=vt),st)},e.imagemap=function(n,t,i,u){function d(n,t,i){for(var s=0,r=1,u=1,c=0,a=0,f=n.width,e=n.height;f>0&&e>0&&r>0&&u>0;)for(f=Math.floor(f/2),e=Math.floor(e/2),i.x===l?r=f:i.x===p?r=n.width-f:r+=Math.floor(f/2),i.y===h?u=e:i.y===y?u=n.height-e:u+=Math.floor(e/2),s=t.length;s--;){if(t.length<2)break;c=t[s][0]-n.position.left,a=t[s][1]-n.position.top,(i.x===l&&c>=r||i.x===p&&c<=r||i.x===o&&(c<r||c>n.width-r)||i.y===h&&a>=u||i.y===y&&a<=u||i.y===o&&(a<u||a>n.height-u))&&t.splice(s,1)}return{left:t[0][0],top:t[0][1]}}t.jquery||(t=r(t));var k=n.cache.areas={},g=(t[0].shape||t.attr("shape")).toLowerCase(),w=t[0].coords||t.attr("coords"),a=w.split(","),e=[],v=r('img[usemap="#'+t.parent("map").attr("name")+'"]'),b=v.offset(),f={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},c=0,s=0,nt;if(b.left+=Math.ceil((v.outerWidth()-v.width())/2),b.top+=Math.ceil((v.outerHeight()-v.height())/2),g==="poly")for(c=a.length;c--;)s=[parseInt(a[--c],10),parseInt(a[c+1],10)],s[0]>f.position.right&&(f.position.right=s[0]),s[0]<f.position.left&&(f.position.left=s[0]),s[1]>f.position.bottom&&(f.position.bottom=s[1]),s[1]<f.position.top&&(f.position.top=s[1]),e.push(s);else for(c=-1;c++<a.length;)e.push(parseInt(a[c],10));switch(g){case"rect":f={width:Math.abs(e[2]-e[0]),height:Math.abs(e[3]-e[1]),position:{left:Math.min(e[0],e[2]),top:Math.min(e[1],e[3])}};break;case"circle":f={width:e[2]+2,height:e[2]+2,position:{left:e[0],top:e[1]}};break;case"poly":f.width=Math.abs(f.position.right-f.position.left),f.height=Math.abs(f.position.bottom-f.position.top),i.abbrev()==="c"?f.position={left:f.position.left+f.width/2,top:f.position.top+f.height/2}:(k[i+w]||(f.position=d(f,e.slice(),i),u&&(u[0]==="flip"||u[1]==="flip")&&(f.offset=d(f,e.slice(),{x:i.x===l?p:i.x===p?l:o,y:i.y===h?y:i.y===y?h:o}),f.offset.left-=f.position.left,f.offset.top-=f.position.top),k[i+w]=f),f=k[i+w]),f.width=f.height=0}return f.position.left+=b.left,f.position.top+=b.top,f},e.ie6=function(n){var t=r.browser,i=n.plugins.ie6;return!t.msie||(""+t.version).charAt(0)!=="6"?u:"object"==typeof i?i:n.plugins.ie6=new pt(n)},e.ie6.initialize="render"})}(window,document),function(n){n.cluetip={version:"1.2.5",template:'<div><div class="cluetip-outer"><h3 class="cluetip-title ui-widget-header ui-cluetip-header"><\/h3><div class="cluetip-inner ui-widget-content ui-cluetip-content"><\/div><\/div><div class="cluetip-extra"><\/div><\/div>',setup:{insertionType:"appendTo",insertionElement:"body"},defaults:{multiple:!1,width:275,height:"auto",cluezIndex:97,positionBy:"auto",topOffset:15,leftOffset:15,local:!1,localPrefix:null,localIdSuffix:null,hideLocal:!0,attribute:"rel",titleAttribute:"title",splitTitle:"",escapeTitle:!1,showTitle:!0,cluetipClass:"default",hoverClass:"",waitImage:!0,cursor:"help",arrows:!1,dropShadow:!0,dropShadowSteps:6,sticky:!1,mouseOutClose:!1,activation:"hover",clickThrough:!0,tracking:!1,delayedClose:0,closePosition:"top",closeText:"Close",truncate:0,fx:{open:"show",openSpeed:""},hoverIntent:{sensitivity:3,interval:50,timeout:0},onActivate:function(){return!0},onShow:function(){},onHide:function(){},ajaxCache:!0,ajaxProcess:function(n){return n=n.replace(/<(script|style|title)[^<]+<\/(script|style|title)>/gm,"").replace(/<(link|meta)[^>]+>/g,"")},ajaxSettings:{dataType:"html"},debug:!1}};var t,f="cluetip ui-widget ui-widget-content ui-cluetip",i={},u=0,r=0;n.fn.attrProp=n.fn.prop||n.fn.attr,n.fn.cluetip=function(e,o){function tt(t,i){var r=t||"";return i=i||"",typeof i=="object"?n.each(i,function(n,t){r+="-"+n+"-"+t}):typeof i=="string"&&(r+=i),r}function it(t,i,r){var s="",u=i.dropShadow&&i.dropShadowSteps?+i.dropShadowSteps:0,h,e,o,f;if(n.support.boxShadow)return u&&(s="1px 1px "+u+"px rgba(0,0,0,0.5)"),h=u===0?"0 0 ":"1px 1px ",t.css(n.support.boxShadow,s),!1;if(e=t.find(".cluetip-drop-shadow"),u==e.length)return e;for(e.remove(),o=[],f=0;f<u;)o[f++]='<div style="top:'+f+"px;left:"+f+'px;"><\/div>';return r=n(o.join("")).css({position:"absolute",backgroundColor:"#000",zIndex:v-1,opacity:.1}).addClass("cluetip-drop-shadow").prependTo(t)}var s,h,y,l,a,p,b,g;if(typeof e=="object"&&(o=e,e=null),e=="destroy")return b=this.data("cluetip"),b&&(n(b.selector).remove(),n.removeData(this,"title"),n.removeData(this,"cluetip")),n(document).unbind(".cluetip"),this.unbind(".cluetip");o=n.extend(!0,{},n.cluetip.defaults,o||{}),u++;var v,d=n.cluetip.backCompat||!o.multiple?"cluetip":"cluetip-"+u,k="#"+d,c=n.cluetip.backCompat?"#":".",w=n.cluetip.setup.insertionType,nt=n.cluetip.setup.insertionElement||"body";return w=/appendTo|prependTo|insertBefore|insertAfter/.test(w)?w:"appendTo",s=n(k),s.length||(s=n(n.cluetip.template)[w](nt).attr("id",d).css({position:"absolute",display:"none"}),v=+o.cluezIndex,y=s.find(c+"cluetip-outer").css({position:"relative",zIndex:v}),h=s.find(c+"cluetip-inner"),l=s.find(c+"cluetip-title")),t=n("#cluetip-waitimage"),!t.length&&o.waitImage&&(t=n("<div><\/div>").attr("id","cluetip-waitimage").css({position:"absolute"}),t.insertBefore(s).hide()),g=(parseInt(s.css("paddingLeft"),10)||0)+(parseInt(s.css("paddingRight"),10)||0),this.each(function(u){function li(){return!1}function ai(n,t){var i=n.status;t.beforeSend(n.xhr,t),i=="error"?t[i](n.xhr,n.textStatus):i=="success"&&t[i](n.data,n.textStatus,n.xhr),t.complete(n.xhr,t.textStatus)}var rt=this,b=n(this),w=n.extend(!0,{},o,n.metadata?b.metadata():n.meta?b.data():b.data("cluetip")||{}),vt=!1,wt=!1,hi=0,nt=w[w.attribute]||(w.attribute=="href"?b.attr(w.attribute):b.attrProp(w.attribute)||b.attr(w.attribute)),gt=w.cluetipClass,yi,si;if(v=+w.cluezIndex,b.data("cluetip",{title:rt.title,zIndex:v,selector:k}),w.arrows&&!s.find(".cluetip-arrows").length&&s.append('<div class="cluetip-arrows ui-state-default"><\/div>'),!nt&&!w.splitTitle&&!e)return!0;w.local&&w.localPrefix&&(nt=w.localPrefix+nt),w.local&&w.hideLocal&&nt&&n(nt+":first").hide();var ot=parseInt(w.topOffset,10),lt=parseInt(w.leftOffset,10),at,ei,ti=isNaN(parseInt(w.height,10))?"auto":/\D/g.test(w.height)?w.height:w.height+"px",ii,ci,st,et,bt,ri,oi=parseInt(w.width,10)||275,ut=oi+g+w.dropShadowSteps,yt=this.offsetWidth,ht,d,vi,ft,kt,pt,ct=w.attribute!="title"?b.attrProp(w.titleAttribute)||"":"";w.splitTitle&&(pt=ct.split(w.splitTitle),ct=w.showTitle||pt[0]===""?pt.shift():""),w.escapeTitle&&(ct=ct.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"));var ui=function(f){var v,at,p,si=w.onActivate.call(rt,f),g,it,fi,et;if(si===!1)return!1;if(wt=!0,s=n(k).css({position:"absolute"}),y=s.find(c+"cluetip-outer"),h=s.find(c+"cluetip-inner"),l=s.find(c+"cluetip-title"),a=s.find(c+"cluetip-arrows"),s.removeClass().css({width:oi}),nt==b.attr("href")&&b.css("cursor",w.cursor),w.hoverClass&&b.addClass(w.hoverClass),ci=st=b.offset().top,ht=b.offset().left,yt=b.innerWidth(),f.type==focus?(ft=ht+yt/2+lt,s.css({left:d}),bt=st+ot):(ft=f.pageX,bt=f.pageY),rt.tagName.toLowerCase()!="area"&&(ii=n(document).scrollTop(),kt=n(window).width()),w.positionBy=="fixed"?(d=yt+ht+lt,s.css({left:d})):(d=yt>ht&&ht>ut||ht+yt+ut+lt>kt?ht-ut-lt:yt+ht+lt,(rt.tagName.toLowerCase()=="area"||w.positionBy=="mouse"||yt+ut>kt)&&(ft+20+ut>kt?(s.addClass("cluetip-"+gt),d=ft-ut-lt>=0?ft-ut-lt-parseInt(s.css("marginLeft"),10)+parseInt(h.css("marginRight"),10):ft-ut/2):d=ft+lt),v=d<0?f.pageY+ot:f.pageY,(d<0||w.positionBy=="bottomTop")&&(d=ft+ut/2>kt?kt/2-ut/2:Math.max(ft-ut/2,0))),a.css({zIndex:b.data("cluetip").zIndex+1}),s.css({left:d,zIndex:b.data("cluetip").zIndex}),ei=n(window).height(),e)typeof e=="function"&&(e=e.call(rt)),h.html(e),dt(v);else if(pt){if(g=pt.length,h.html(g?pt[0]:""),g>1)for(it=1;it<g;it++)h.append('<div class="split-body">'+pt[it]+"<\/div>");dt(v)}else if(w.local||nt.indexOf("#")===0)w.local&&(et=n(nt+(/^#\S+$/.test(nt)?"":":eq("+u+")")).clone(!0).show(),w.localIdSuffix&&et.attr("id",et[0].id+w.localIdSuffix),h.html(et),dt(v));else if(/\.(jpe?g|tiff?|gif|png)(?:\?.*)?$/i.test(nt))h.html('<img src="'+nt+'" alt="'+ct+'" />'),dt(v);else{var ni=w.ajaxSettings.beforeSend,ti=w.ajaxSettings.error,ri=w.ajaxSettings.success,ui=w.ajaxSettings.complete;p=tt(nt,w.ajaxSettings.data),fi={cache:w.ajaxCache,url:nt,beforeSend:function(n,i){ni&&ni.call(rt,n,s,h,i),y.children().empty(),w.waitImage&&t.css({top:bt+20,left:ft+20,zIndex:b.data("cluetip").zIndex-1}).show()},error:function(n,t){o.ajaxCache&&!i[p]&&(i[p]={status:"error",textStatus:t,xhr:n}),wt&&(ti?ti.call(rt,n,t,s,h):h.html("<i>sorry, the contents could not be loaded<\/i>"))},success:function(n,t,r){o.ajaxCache&&!i[p]&&(i[p]={status:"success",data:n,textStatus:t,xhr:r}),vt=w.ajaxProcess.call(rt,n),typeof vt=="object"&&vt!==null&&(ct=vt.title,vt=vt.content),wt&&(ri&&ri.call(rt,n,t,s,h),h.html(vt))},complete:function(i,u){var f,e,o;for(ui&&ui.call(rt,i,u,s,h),f=h[0].getElementsByTagName("img"),r=f.length,e=0,o=f.length;e<o;e++)f[e].complete&&r--;r&&!n.browser.opera?n(f).bind("load.ct error.ct",function(){r--,r===0&&(t.hide(),n(f).unbind(".ct"),wt&&dt(v))}):(t.hide(),wt&&dt(v))}},at=n.extend(!0,{},w.ajaxSettings,fi),i[p]?ai(i[p],at):n.ajax(at)}},dt=function(t){var u,e,o,c=ct||w.showTitle&&"&nbsp;",i="",r="",v;s.addClass("cluetip-"+gt),w.truncate&&(v=h.text().slice(0,w.truncate)+"...",h.html(v)),c?l.show().html(c):l.hide(),w.sticky&&(u=n('<div class="cluetip-close"><a href="#">'+w.closeText+"<\/a><\/div>"),w.closePosition=="bottom"?u.appendTo(h):w.closePosition=="title"?u.prependTo(l):u.prependTo(h),u.bind("click.cluetip",function(){return ni(),!1}),w.mouseOutClose?s.bind("mouseleave.cluetip",function(){ni()}):s.unbind("mouseleave.cluetip")),y.css({zIndex:b.data("cluetip").zIndex,overflow:ti=="auto"?"visible":"auto",height:ti}),at=ti=="auto"?Math.max(s.outerHeight(),s.height()):parseInt(ti,10),et=st,ri=ii+ei,w.positionBy=="fixed"?et=st-w.dropShadowSteps+ot:d<ft&&Math.max(d,0)+ut>ft||w.positionBy=="bottomTop"?st+at+ot>ri&&bt-ii>at+ot?(et=bt-at-ot,r="top"):(et=bt+ot,r="bottom"):et=st+at+ot>ri?at>=ei?ii:ri-at-ot:b.css("display")=="block"||rt.tagName.toLowerCase()=="area"||w.positionBy=="mouse"?t-ot:st-w.dropShadowSteps,r===""&&(r=d<ht?"left":"right"),e=" clue-"+r+"-"+gt+" cluetip-"+gt,gt=="rounded"&&(e+=" ui-corner-all"),s.css({top:et+"px"}).attrProp({className:f+e}),w.arrows?(/(left|right)/.test(r)&&(o=s.height()-a.height(),i=d>=0&&t>0?st-et-w.dropShadowSteps:0,i=o>i?i:o,i+="px"),a.css({top:i}).show()):a.hide(),p=it(s,w),p&&p.length&&p.hide().css({height:at,width:oi,zIndex:b.data("cluetip").zIndex-1}).show(),s.hide()[w.fx.open](w.fx.openSpeed||0),n.fn.bgiframe&&s.bgiframe(),w.delayedClose>0&&(hi=setTimeout(ni,w.delayedClose)),w.onShow.call(rt,s,h)},fi=function(){wt=!1,t.hide(),(!w.sticky||/click|toggle/.test(w.activation))&&(ni(),clearTimeout(hi)),w.hoverClass&&b.removeClass(w.hoverClass)},ni=function(t){var i=t&&t.data("cluetip")?t:b,u=i.data("cluetip")&&i.data("cluetip").selector,f=u||"div.cluetip",r=n(f),e=r.find(c+"cluetip-inner"),o=r.find(c+"cluetip-arrows");r.hide().removeClass(),w.onHide.call(i[0],r,e),u&&(i.removeClass("cluetip-clicked"),i.css("cursor","")),u&&ct&&i.attrProp(w.titleAttribute,ct),w.arrows&&o.css({top:""})};n(document).unbind("hideCluetip.cluetip").bind("hideCluetip.cluetip",function(t){ni(n(t.target))}),/click|toggle/.test(w.activation)?b.bind("click.cluetip",function(t){return s.is(":hidden")||!b.is(".cluetip-clicked")?(ui(t),n(".cluetip-clicked").removeClass("cluetip-clicked"),b.addClass("cluetip-clicked")):fi(t),!1}):w.activation=="focus"?(b.bind("focus.cluetip",function(n){b.attrProp("title",""),ui(n)}),b.bind("blur.cluetip",function(n){b.attrProp("title",b.data("cluetip").title),fi(n)})):(b[w.clickThrough?"unbind":"bind"]("click.cluetip",li),si=function(n){if(w.tracking){var t=d-n.pageX,i=et?et-n.pageY:st-n.pageY;b.bind("mousemove.cluetip",function(n){s.css({left:n.pageX+t,top:n.pageY+i})})}},n.fn.hoverIntent&&w.hoverIntent?b.hoverIntent({sensitivity:w.hoverIntent.sensitivity,interval:w.hoverIntent.interval,over:function(n){ui(n),si(n)},timeout:w.hoverIntent.timeout,out:function(n){fi(n),b.unbind("mousemove.cluetip")}}):b.bind("mouseenter.cluetip",function(n){ui(n),si(n)}).bind("mouseleave.cluetip",function(n){fi(n),b.unbind("mousemove.cluetip")}),b.bind("mouseover.cluetip",function(){b.attrProp("title","")}).bind("mouseleave.cluetip",function(){b.attrProp("title",b.data("cluetip").title)}))}),this},function(){var r,h,t,f,i,c;n.support=n.support||{};var e=document.createElement("div"),o=e.style,s=["boxShadow"],u=["moz","Moz","webkit","o"];for(r=0,h=s.length;r<h;r++)if(t=s[r],f=t.charAt(0).toUpperCase()+t.slice(1),typeof o[t]!="undefined")n.support[t]=t;else for(i=0,c=u.length;i<c;i++)if(typeof o[u[i]+f]!="undefined"){n.support[t]=u[i]+f;break}e=null}(),n.fn.cluetip.defaults=n.cluetip.defaults}(jQuery),$(document).ready(function(){var n=$(".jFAQ");n.length!=0&&n.attr("rel",n.attr("href")).cluetip({activation:"click",sticky:!0,showTitle:!1,waitImage:!1,closeText:'<span class="iconClose"><\/span>',width:850,height:600,dropShadow:!1,onShow:function(){$(".cluetip").bind("click",function(n){return n.stopPropagation(),n.target.nodeName!=="A"?!1:void 0}),$(".cluetip .ian a").attr("target","_blank"),$(document).bind("click",function(){$(document).trigger("hideCluetip")});var t=$(window),n=$(".ian").closest(".cluetip");$(".cluetip-outer",n).css("overflow","hidden"),$(".cluetip-close",n).css("position","absolute").css("right","15px").css("top","10px").css("margin","0"),$(".ian").css("margin-right","-15px").css("padding-right","15px"),n.css("left",Math.floor((t.width()-n.width())/2)+"px"),n.css("top",Math.floor((t.height()-n.height())/2)+t.scrollTop()+"px"),n.css("z-index","20000")},onHide:function(){$(".cluetip").unbind("click")}})})